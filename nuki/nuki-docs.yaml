resources:
- name: unlock_nuki_smart_lock
  endpoint:
    path: /smartlock/{smartlockId}/action/unlock
    method: POST
- name: https_requests
  endpoint:
    path: /https-requests
    method: POST
- name: https_requests
  endpoint:
    path: /api/https_requests
    method: POST
- name: systems
  endpoint:
    path: /systems
    method: GET
- name: function_webhooks
  endpoint:
    path: /systems/{systemId}/function-webhooks
    method: POST
- name: open_door
  endpoint:
    path: /api/open
    method: GET
    data_selector: response
    params: {}
- name: device_information
  endpoint:
    path: /get-device-information
    method: GET
    data_selector: device_info
- name: trigger_input
  endpoint:
    path: /apply-execution
    method: POST
    data_selector: execution_response
- name: switch_relay
  endpoint:
    path: /api/switch_relay
    method: POST
- name: device_information
  endpoint:
    path: /api/device_information
    method: GET
- name: nuki_smart_lock
  endpoint:
    path: /nuki/smartlock
    method: GET
    data_selector: device_data
- name: Get Details
  endpoint:
    path: /path/to/get/details
    method: GET
    data_selector: lock_info
- name: Unlock
  endpoint:
    path: /path/to/unlock/{id}
    method: POST
    data_selector: unlock_response
notes:
- The Nuki Smart Lock requires a token if you want to control the device via HTTPS
  requests.
- A better option is to generate API tokens in Nuki Web.
- 'Important: Depending on the method, the data may be sent unencrypted in the home
  network.'
- By now, it is only possible to trigger five HTTPS requests per ekey bionyx account
  with the ekey bionyx app or an assigned finger.
- ekey is continuously developing and improving this feature and each new release
  of the ekey bionyx app offers new possibilities.
- Some objects may return nulls in deeply nested fields
- An unknown finger and the ekey input (the digital input of the ekey control unit)
  cannot be selected for this smart home feature.
- Only a system administrator is allowed to activate HTTPS requests in the ekey bionyx
  app.
- Only a system administrator is allowed to activate HTTPS requests.
- Access token is valid for 45 minutes.
- Refresh token is valid for 90 days.
- Access token is valid for 45 minutes and is used to authenticate against the API.
- Refresh token can be used to get new access tokens and is valid for 90 days.
- As long as the fingerprint scanner can reach the DoorBird intercom in the local
  network, the HTTPS request it sends will trigger the DoorBird intercom relay.
- An internet connection is not needed for daily use, but a stable local network is
  essential.
- You can trigger five HTTPS requests per ekey bionyx account.
- Authentication won't be necessary as we are using the Token in the Request-Header.
- Depending on the method, the data may be sent unencrypted in the home network.
- Only five HTTPS requests can be triggered per ekey bionyx account.
- Authentication is not necessary since we are using Basic Authentication in the Request
  header.
- Users can configure devices to execute functions when fingers match.
- The device itself will request the configured function webhook.
- Only possible to trigger five HTTPS requests per ekey bionyx account.
- Authentication is not necessary, as we are using the PAK in the request header.
- This HTTP request will only work if both systems are online and have an internet
  connection.
- Max. 5 HTTP requests per ekey bionyx account
- HTTP requests can only be assigned to stored fingers
- User or Finger IDs are not transferd through the API
- The API does not allow the control of an ekey device
- Access token is valid for 45 minutes and refresh token for 90 days.
errors:
- 'Token expired: Get new token via refresh token or redirect user to authentication
  page.'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- '401 Unauthorized: Ensure user ID and password are correct.'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - OAuth 2.0
  - access token
  - refresh token
client:
  base_url: https://www.ekey.net
  headers:
    Accept: application/json
source_metadata: null
