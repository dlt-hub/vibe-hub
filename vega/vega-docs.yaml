resources:
- name: costs
  endpoint:
    path: /costs
    method: GET
- name: anomalies
  endpoint:
    path: /anomalies
    method: GET
- name: discovered_resources
  endpoint:
    path: /discovered-resources
    method: GET
- name: tags
  endpoint:
    path: /tags
    method: GET
- name: recommendations
  endpoint:
    path: /recommendations
    method: GET
- name: query
  endpoint:
    path: /query
    method: POST
- name: costs
  endpoint:
    path: /costs
    method: GET
- name: daily_spend_by_account
  endpoint:
    path: /costs/spend-daily-by-account
    method: GET
- name: daily_spend_by_product
  endpoint:
    path: /costs/spend-daily-by-product
    method: GET
- name: monthly_spend_by_account
  endpoint:
    path: /costs/total-spend-monthly-by-account
    method: GET
- name: monthly_spend_by_product
  endpoint:
    path: /costs/total-spend-monthly-by-product
    method: GET
- name: anomalies
  endpoint:
    path: /anomalies
    method: GET
- name: discovered_resources
  endpoint:
    path: /discovered-resources
    method: GET
- name: tags
  endpoint:
    path: /tags
    method: GET
- name: recommendations
  endpoint:
    path: /recommendations
    method: GET
- name: recommendation_aging_snapshots
  endpoint:
    path: /recommendation-aging-snapshots
    method: GET
- name: recommendation_disk_optimization
  endpoint:
    path: /recommendation-disk-optimization
    method: GET
- name: recommendation_family_refresh
  endpoint:
    path: /recommendation-family-refresh
    method: GET
- name: recommendation_idle_databases
  endpoint:
    path: /recommendation-idle-databases
    method: GET
- name: reserved_instances
  endpoint:
    path: /reserved-instances
    method: GET
- name: query
  endpoint:
    path: /query
    method: POST
- name: query_schema
  endpoint:
    path: /query/schema
    method: GET
- name: anomalies
  endpoint:
    path: /anomalies
    method: GET
    data_selector: records
- name: costs
  endpoint:
    path: /costs
    method: GET
    data_selector: records
- name: spend_daily_by_account
  endpoint:
    path: /costs/spend-daily-by-account
    method: GET
    data_selector: records
- name: spend_daily_by_product
  endpoint:
    path: /costs/spend-daily-by-product
    method: GET
    data_selector: records
- name: spend_monthly_by_account
  endpoint:
    path: /costs/total-spend-monthly-by-account
    method: GET
    data_selector: records
- name: spend_monthly_by_product
  endpoint:
    path: /costs/total-spend-monthly-by-product
    method: GET
    data_selector: records
- name: discovered_resources
  endpoint:
    path: /discovered-resources
    method: GET
    data_selector: records
- name: recommendation_aging_snapshots
  endpoint:
    path: /recommendation-aging-snapshots
    method: GET
    data_selector: records
- name: recommendation_disk_optimization
  endpoint:
    path: /recommendation-disk-optimization
    method: GET
    data_selector: records
- name: recommendation_family_refresh
  endpoint:
    path: /recommendation-family-refresh
    method: GET
    data_selector: records
- name: recommendation_idle_databases
  endpoint:
    path: /recommendation-idle-databases
    method: GET
    data_selector: _row_id
- name: recommendations
  endpoint:
    path: /recommendations
    method: GET
    data_selector: _row_id
- name: reserved_instances
  endpoint:
    path: /reserved-instances
    method: GET
    data_selector: _row_id
- name: tags
  endpoint:
    path: /tags
    method: GET
    data_selector: _row_id
- name: anomalies
  endpoint:
    path: /anomalies
    method: GET
    data_selector: data
    params: {}
- name: costs
  endpoint:
    path: /costs
    method: GET
    data_selector: data
    params: {}
- name: spend_daily_by_account
  endpoint:
    path: /costs/spend-daily-by-account
    method: GET
    data_selector: data
    params: {}
- name: spend_daily_by_product
  endpoint:
    path: /costs/spend-daily-by-product
    method: GET
    data_selector: data
    params: {}
- name: spend_monthly_by_account
  endpoint:
    path: /costs/total-spend-monthly-by-account
    method: GET
    data_selector: data
    params: {}
- name: spend_monthly_by_product
  endpoint:
    path: /costs/total-spend-monthly-by-product
    method: GET
    data_selector: data
    params: {}
- name: discovered_resources
  endpoint:
    path: /discovered-resources
    method: GET
    data_selector: data
    params: {}
- name: recommendation_aging_snapshots
  endpoint:
    path: /recommendation-aging-snapshots
    method: GET
    data_selector: data
    params: {}
- name: recommendation_disk_optimization
  endpoint:
    path: /recommendation-disk-optimization
    method: GET
    data_selector: data
    params: {}
- name: recommendation_family_refresh
  endpoint:
    path: /recommendation-family-refresh
    method: GET
    data_selector: data
    params: {}
- name: recommendation_idle_databases
  endpoint:
    path: /recommendation-idle-databases
    method: GET
- name: recommendations
  endpoint:
    path: /recommendations
    method: GET
- name: reserved_instances
  endpoint:
    path: /reserved-instances
    method: GET
- name: tags
  endpoint:
    path: /tags
    method: GET
- name: cost
  endpoint:
    path: /costs
    method: GET
    data_selector: ''
    params: {}
- name: recommendations
  endpoint:
    path: /recommendations
    method: GET
    data_selector: ''
    params: {}
- name: query
  endpoint:
    path: /query
    method: POST
    data_selector: ''
    params: {}
- name: cost
  endpoint:
    path: /costs
    method: GET
    params:
      page: 1
      size: 10
- name: recommendations
  endpoint:
    path: /recommendations
    method: GET
    params:
      filter_by: savings:>:1000,cloud_provider:=:AWS
      sort_by: savings:desc
- name: query
  endpoint:
    path: /query
    method: POST
    data_selector: query
    params:
      limit: 100
notes:
- New Feature! Unified User Creation Vega API Endpoint
- 'Bugfix: GCP Disk Duplicate resource discovery results'
- Vega only requires read-only permissions for most deployments (Inform and Optimize
  SKUs).
- For Operate SKUs, permissions to start and stop resources are necessary.
- Vegaâ€™s platform uses enterprise-grade security with SSO, MFA, RBAC, and row-level
  security for fine-grained access control.
- Vega's platform uses enterprise-grade security with SSO, MFA, RBAC, and row-level
  security for fine-grained access control.
- Ensure the Cost and Usage Report (CUR) is set up, configured with hourly collection,
  set to overwrite existing report, and being exported in Parquet format
- Data API is in Open Preview and is not General Availability (GA) at this time.
- Treat the Client Secret Key as a sensitive piece of information.
- Rate limit of 1000 requests per hour
- 4 concurrent requests
- 'Rate limit of 1000 requests per hour: This means you are allowed to make up to
  1000 requests to our APIs within an hour.'
- '4 concurrent requests: This means you are allowed to make up to 4 requests at the
  same time.'
errors:
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'Unauthorized: Recheck OAuth scopes or token expiration'
- '400: Bad Request: Invalid filter parameter'
- '401: Unauthorized: Missing JWT token'
- '403: Forbidden: User not authorized'
- '404: Not Found: Requested endpoint doesn''t exist'
- '422: Unprocessable Entity: Malformed request body'
- '500: Internal Server Error: Database connection failures'
- '503: Service Unavailable: Database service unavailable'
- 400 Bad Request
- 401 Unauthorized
- 403 Forbidden
- 404 Not Found
- 422 Unprocessable Entity
- 500 Internal Server Error
- 503 Service Unavailable
- Retrying with exponential backoff means performing a short sleep when a rate limit
  error is hit, then retrying the unsuccessful request.
auth_info:
  mentioned_objects: []
client:
  base_url: https://api.vegacloud.io
  auth:
    type: oauth2
source_metadata: null
