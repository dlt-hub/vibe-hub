resources:
- name: generate
  endpoint:
    path: /generate
    method: POST
    data_selector: Response
    params: {}
- name: build_challenge_url
  endpoint:
    path: /build
    method: POST
    data_selector: Responseobject
    params: {}
- name: build
  endpoint:
    path: /build
    method: POST
    data_selector: Responseobject
- name: solve
  endpoint:
    path: /solve
    method: POST
    data_selector: Responseobject
- name: solve
  endpoint:
    path: /solve
    method: POST
    data_selector: Responseobject
    params: {}
- name: incapsula
  endpoint:
    path: /incapsula
    method: GET
- name: reese84
  endpoint:
    path: /reese84
    method: POST
    data_selector: Response
    params: {}
- name: reese84
  endpoint:
    path: /reese84
    method: POST
    data_selector: Response
    params: {}
- name: utmvc
  endpoint:
    path: /utmvc
    method: POST
    data_selector: Responseobject
    params: {}
- name: sample_cookie
  endpoint:
    path: /incapsula/reese84
    method: GET
    data_selector: ___utmvc
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: collector_mobile
  endpoint:
    path: /api/v1/collector/mobile
    method: GET
- name: collector
  endpoint:
    path: /api/v2/collector
    method: GET
- name: generate
  endpoint:
    path: /generate
    method: POST
    data_selector: response
    params: {}
- name: giftcard
  endpoint:
    path: /payments/v2/giftcard
    method: POST
    data_selector: response
    params: {}
- name: utmvc
  endpoint:
    path: /utmvc
    method: POST
    data_selector: Response
    params: {}
- name: geetest_v3
  endpoint:
    path: /v3
    method: GET
    data_selector: response
    params:
      gt: string
      challenge: string
      proxy: string
- name: geetest_v4
  endpoint:
    path: /v4
    method: GET
    data_selector: response
    params:
      captcha_id: string
      kind: string
      proxy: string
- name: collector_mobile
  endpoint:
    path: /api/v1/collector/mobile
    method: GET
- name: collector
  endpoint:
    path: /api/v2/collector
    method: GET
- name: generate
  endpoint:
    path: /generate
    method: POST
- name: giftcard
  endpoint:
    path: /payments/v2/giftcard
    method: POST
- name: cognitoAsfData
  endpoint:
    path: /generate
    method: GET
    data_selector: response
    params:
      website: string
      username: string
- name: solve_geetest_v3
  endpoint:
    path: /v3
    method: GET
    data_selector: response
    params:
      gt: string
      challenge: string
      proxy: string
- name: generate_x_castle_request_token
  endpoint:
    path: /generate
    method: GET
    data_selector: token
    params:
      scriptID: required
      __cuid: optional
- name: v4
  endpoint:
    path: /v4
    method: GET
    data_selector: response
    params:
      captcha_id: string
      kind: string
      proxy: string
- name: cognitoAsfData
  endpoint:
    path: /generate
    method: GET
    data_selector: response
    params:
      website: string
      username: string
- name: generate_nudata_payload
  endpoint:
    path: /generate
    method: GET
    data_selector: payload
    params:
      url: string
      form_name: string
- name: x-castle-request-token
  endpoint:
    path: /generate
    method: GET
    data_selector: token
    params:
      scriptID: string
- name: generate_nudata_payload
  endpoint:
    path: /generate
    method: GET
    data_selector: payload
    params:
      url: string
      form_name: string
- name: ocr
  endpoint:
    path: /ocr
    method: POST
    data_selector: result
    params:
      api_key: string
      image: string
- name: captcha
  endpoint:
    path: /challengeapi/queueitcaptcha/challenge/en-us
    method: POST
    data_selector: imageBase64
- name: ocr_read
  endpoint:
    path: /read
    method: POST
    data_selector: result
- name: nudata
  endpoint:
    path: /generate
    method: GET
    params:
      url: https://nudata.ticketmaster.com/2.2/w/w-481390/sync/js/
- name: sign_in
  endpoint:
    path: /json/sign-in
    method: POST
    params: {}
- name: ocr
  endpoint:
    path: /ocr
    method: POST
    data_selector: result
    params:
      api_key: string
      image: string
- name: captcha
  endpoint:
    path: /read
    method: POST
    data_selector: result
    params: {}
notes:
- Datadome is an advanced bot management system that protects websites from various
  automated threats.
- It identifies and blocks bots, sometimes resulting in false positives that can ban
  legitimate users.
- Using a rotating proxy list is recommended to reduce the chances of being blocked.
- When the site detects suspicious behavior, it may challenge users with mechanisms
  like sliding captchas or interstitial pages.
- Payload generation is fast, typically 0.5 to 2.5 seconds.
- While our API generates the payload, you must handle the post request and interactions
  with the website.
- Ensure you use HTTP/2 and a valid set of headers, matching a real browser for successful
  navigation and payload posting.
- A good TLS Client is required
- In hard-protection mode, a captcha challenge may need to be solved
- 'Cookie retrieval: While our API generates the payload, you must handle the post
  request and interactions with the website.'
- When interacting with Datadome a good TLS Client is required
- The interstitial challenge will return a json, with other than the cookie, an url
  to follow.
- Incapsula is a Web Application Firewall that shields websites from attacks like
  DDoS, bot traffic, and other threats.
- Websites protected by Incapsula typically use cookies like reese84 and ___utmvc
  to validate user sessions.
- In order to access any of our endpoint you'll need a valid API Key
- Websites protected by Incapsula typically use cookies like reese84 or ___utmvc to
  validate user sessions.
- Accessing an Incapsula-protected website may require solving a captcha.
- To access any of our endpoint you'll need a valid API Key.
- Uses OAuth2 with refresh token — requires setup of connected app in api
- Some objects like Contact may return nulls in deeply nested fields
- To access any of our endpoint you'll need a valid API Key
- It is required to pass the same User-Agent you are using during your whole session
  interactions to our APIs.
- This error is probably due an either invalid proxy or bad TLS details.
- Headers such as x-px-original-token, x-px-authorization, or x-px-context can indicate
  PerimeterX protection.
- 'To bypass Datadome’s protection, follow these steps: Find the __utmvc''s script
  url, Load the script content, Generate the cookie based on it (using our API)'
- Uses API key for authentication.
- Headers resembling `3:5b0de...3c67add:MO...P5VNA==:1000:6xXz...=` indicate px3
- Headers resembling `2:eyJ1Ijoi...JkZWYyIn0=` indicate px2
- Look for headers such as `x-px-original-token`, `x-px-authorization`, or `x-px-context`
- AWS Cognito is used by some platforms for secure authentication based on browser
  details.
- It's highly recommended to provide your session’s User-Agent, Sec-Ch-Ua, and Accept-Language
  headers for more accurate token generation.
- Use API key for authentication
- Like any captcha, it is normal to have some unservable captchas sometimes, just
  load and solve a new one
- Castle is an anti-bot service designed to prevent automated attacks such as account
  takeovers, fake account creation, and policy-violating behaviors.
- We are passing nudata header
- We are not passing nudata header
errors:
- 400 Bad Request
- 401 Unauthorized
- 500 Internal Server Error
- '400 - Invalid Input Parameters: Review the data provided; there’s an issue with
  it.'
- '401 - Invalid API Key: The API key is invalid, expired, or the request limit has
  been exceeded.'
- '500 - Internal Server Error: Something unexpected occurred on our end. Contact
  us for support.'
- '403 Forbidden: Access denied due to Datadome protection'
- Datadome detected! Check response code.
- 'IP Banned Error: Usually occurs due to a poor-quality IP or incorrect interaction
  flow.'
- 'What User-Agent Should I Pass to /solve?: Datadome requires that the same User-Agent
  used to load the challenge page is passed to the /solve endpoint.'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- Direct block access if required cookies are missing
- 'IP Banned Error: You have been blocked without offering a solvable challenge. Resolve
  by comparing requests with browser interactions.'
- 'User-Agent: Use the same User-Agent as the one used to load the challenge page
  when passing to /solve.'
- 'Access blocked: Missing required cookies'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- '401 Unauthorized: application/json'
- '500 Internal Server Error: application/json'
- '400: Bad request, missing or invalid parameters'
- '500: Internal server error'
- '401 Unauthorized: Recheck API key.'
- 400 Bad request, missing or invalid parameters
- 500 Internal server error
- '401 Unauthorized: Recheck API key or permissions'
- '401 Unauthorized: Recheck API key'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: https://datadome.takionapi.tech
  auth:
    type: apikey
    location: header
    header_name: x-api-key
source_metadata: null
