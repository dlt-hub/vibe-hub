resources:
- name: user_created
  endpoint:
    path: /server-api-your-own/reference/collect-user-events/user-created
    method: POST
- name: thing_created
  endpoint:
    path: /server-api-your-own/reference/collect-thing-events/thing-created
    method: POST
- name: user_thing_associated
  endpoint:
    path: /server-api-your-own/reference/collect-thing-events/thing-associated
    method: POST
- name: session_started
  endpoint:
    path: /mobile-sdk-your-own/ch3-reference/manage-your-own/session-started
    method: POST
- name: session_ended
  endpoint:
    path: /mobile-sdk-your-own/ch3-reference/manage-your-own/session-ended
    method: POST
- name: onboarding_started
  endpoint:
    path: /mobile-sdk-your-own/ch4-event-reporting/predefined-events-your-own/onboarding-events
    method: POST
- name: onboarding_ended
  endpoint:
    path: /mobile-sdk-your-own/ch4-event-reporting/predefined-events-your-own/onboarding-events
    method: POST
- name: device_discovered
  endpoint:
    path: /mobile-sdk-your-own/ch4-event-reporting/predefined-events-your-own/thing-discovered
    method: POST
- name: device_connected
  endpoint:
    path: /mobile-sdk-your-own/ch4-event-reporting/predefined-events-your-own/thing-connected
    method: POST
- name: preexisting_sync
  endpoint:
    path: /server-api-your-own/reference/collect-preexisting-events
    method: POST
- name: custom_events
  endpoint:
    path: /server-api-your-own/reference/collect-custom-events
    method: POST
- name: Manage.YourOwn.Session
  endpoint:
    path: /manage/yourown/session
    method: POST
- name: Manage.Sphere.Application
  endpoint:
    path: /manage/sphere/application
    method: GET
- name: Manage.Sphere.Auth
  endpoint:
    path: /manage/sphere/auth
    method: POST
- name: Manage.Sphere.User
  endpoint:
    path: /manage/sphere/user
    method: POST
- name: Manage.Sphere.Thing
  endpoint:
    path: /manage/sphere/thing
    method: POST
- name: Report
  endpoint:
    path: /report
    method: POST
- name: consent
  endpoint:
    path: /v2/api/report/user_copilot_analysis_consent_changed
    method: POST
    data_selector: empty
    params: {}
- name: FirebaseAnalyticsEventLogProvider
  endpoint:
    path: /analytics/event
    method: POST
    data_selector: events
- name: preexisting_sync_started
  endpoint:
    path: /preexisting_sync_started
    method: POST
    data_selector: events
    params: {}
- name: preexisting_sync_completed
  endpoint:
    path: /preexisting_sync_completed
    method: POST
    data_selector: events
    params: {}
- name: preexisting_user_created
  endpoint:
    path: /preexisting_user_created
    method: POST
    data_selector: events
    params: {}
- name: preexisting_thing_created
  endpoint:
    path: /preexisting_thing_created
    method: POST
    data_selector: events
    params: {}
- name: preexisting_user_thing_associated
  endpoint:
    path: /preexisting_user_thing_associated
    method: POST
    data_selector: events
    params: {}
- name: custom_events
  endpoint:
    path: /docs/mobile-sdk-your-own/ch4-event-reporting/custom-events-your-own
    method: GET
    data_selector: custom_event_properties
    params: {}
- name: account_creation_events
  endpoint:
    path: /events/account_creation
    method: POST
    data_selector: events
- name: user_actions
  endpoint:
    path: /events/user_actions
    method: POST
    data_selector: events
- name: onboarding_events
  endpoint:
    path: /events/onboarding
    method: POST
    data_selector: events
- name: thing_events
  endpoint:
    path: /events/thing
    method: POST
    data_selector: events
- name: general_events
  endpoint:
    path: /events/general
    method: POST
    data_selector: events
- name: custom_event
  endpoint:
    path: /docs/server-api-your-own/reference/collect-custom-events
    method: POST
    data_selector: events
- name: events
  endpoint:
    path: /v2/collect
    method: POST
    data_selector: events
- name: user_created
  endpoint:
    path: /docs/server-api-your-own/reference/collect-user-events
    method: POST
    data_selector: events
    params: {}
- name: user_updated
  endpoint:
    path: /docs/server-api-your-own/reference/collect-user-events
    method: POST
    data_selector: events
    params: {}
- name: user_deleted
  endpoint:
    path: /docs/server-api-your-own/reference/collect-user-events
    method: POST
    data_selector: events
    params: {}
- name: thing_created
  endpoint:
    path: /collect/thing_created
    method: POST
    data_selector: events
    params: {}
- name: thing_updated
  endpoint:
    path: /collect/thing_updated
    method: POST
    data_selector: events
    params: {}
- name: user_thing_associated
  endpoint:
    path: /collect/user_thing_associated
    method: POST
    data_selector: events
    params: {}
- name: user_thing_dissociated
  endpoint:
    path: /collect/user_thing_dissociated
    method: POST
    data_selector: events
    params: {}
- name: thing_status_changed
  endpoint:
    path: /collect/thing_status_changed
    method: POST
    data_selector: events
    params: {}
- name: thing_interaction
  endpoint:
    path: /collect/thing_interaction
    method: POST
    data_selector: events
    params: {}
- name: thing_connected
  endpoint:
    path: /collect/thing_connected
    method: POST
    data_selector: events
    params: {}
- name: consumable_usage
  endpoint:
    path: /collect/consumable_usage
    method: POST
    data_selector: events
    params: {}
- name: firmware_upgrade_started
  endpoint:
    path: /collect/firmware_upgrade_started
    method: POST
    data_selector: events
    params: {}
- name: firmware_upgrade_completed
  endpoint:
    path: /collect/firmware_upgrade_completed
    method: POST
    data_selector: events
    params: {}
- name: unsubscribe_event
  endpoint:
    path: /docs/server-api-your-own/reference/collect-misc-events
    method: POST
    data_selector: events
    params:
      event_type: unsubscribe
- name: collect
  endpoint:
    path: /v2/collect/
    method: GET
- name: consent
  endpoint:
    path: /v2/api/collect/
    method: GET
notes:
- CLIENT_ID and CLIENT_SECRET credentials should be saved and secured properly in
  order to prevent data theft.
- GDPR consent is a given when you register a user.
- Use of Copilot.cx Management API allows access to private user data and should be
  allowed only from your own trusted servers, not to be accessed by end-users' clients.
- If you are utilizing multiple Copilot.cx projects, these steps should be done for
  each separately.
- Firebase analytics with the export costs nothing at all until reaching 10GB of data
  (approximately 100K users data over 6 months) and then only costs 2c per GB of data,
  but having the Firebase on Blaze plan will allow the data to be saved indefinitely,
  even though it will not cost anything currently.
- Copilot logs are disabled by default. To enable them, add the enableDebugLogs()
  command.
- You may add other EventLogProvider per your need.
- Uses OAuth2 with refresh token â€” requires setup of connected app in api
- Make sure the Firebase is configured correctly
- Data will not arrive in the Copilot.cx system, since the events get trashed.
- Users who do not have GDPR consent in a system will not have data connected to them.
- Make sure you have correctly added an Event Log Provider from the iOS or Android
  configuration steps.
- Validate that a session for the correct user is active and you can see the events
  for this user arriving correctly a the Copilot.cx system.
- On Android, if your app is a single Activity app, at least one event must be called
  to trigger a 'App is Active' triggered message.
- Custom event properties should be identical between platforms (iOS/Android).
- Event that do not has is_fault property will be treated as is_fault=false.
- At least one field thing_id or user_id should exist in the custom event reporting.
  Otherwise it would be ignored.
- Authentication method - Supporting Basic authentication only.
errors:
- '401 Unauthorized: AUTH.UNAUTHORIZED'
- If you're running into trouble, please contact your Customer Success Manager with
  any questions.
- '401: Invalid Token (Not Bearer, Basic Token or Token Expired)'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'COMMON.INVALID_METHOD: Request method not allowed'
- 'COMMON.REQUEST_VALIDATION: Request missing field: ''events''.'
- 'AUTH.UNAUTHORIZED: Not bearer or basic token'
- 'AUTH.UNAUTHORIZED: Invalid token'
- 'AUTH.UNAUTHORIZED: Token expired'
- 'AUTH.INVALID_PERMISSIONS: Invalid user role'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
auth_info:
  mentioned_objects: []
client:
  base_url: https://console.firebase.google.com
  headers:
    Accept: application/json
source_metadata: null
