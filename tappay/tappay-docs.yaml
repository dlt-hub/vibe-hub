resources:
- name: card_identifier
  endpoint:
    path: /card_identifier
    method: GET
- name: card
  endpoint:
    path: /card
    method: GET
- name: cardholder
  endpoint:
    path: /cardholder
    method: GET
- name: cardholder(filter)
  endpoint:
    path: /cardholder/filter
    method: GET
- name: card_info
  endpoint:
    path: /card_info
    method: GET
- name: card_key
  endpoint:
    path: /card_key
    method: GET
- name: cardNumber
  endpoint:
    path: /cardNumber
    method: GET
- name: card_secret
  endpoint:
    path: /card_secret
    method: GET
- name: card_token
  endpoint:
    path: /card_token
    method: GET
- name: CCV
  endpoint:
    path: /CCV
    method: GET
- name: client_ip
  endpoint:
    path: /client_ip
    method: GET
- name: currency
  endpoint:
    path: /currency
    method: GET
- name: delay_capture_in_days
  endpoint:
    path: /delay_capture_in_days
    method: GET
- name: details
  endpoint:
    path: /details
    method: GET
- name: dueMonth
  endpoint:
    path: /dueMonth
    method: GET
- name: dueYear
  endpoint:
    path: /dueYear
    method: GET
- name: extra_info
  endpoint:
    path: /extra_info
    method: GET
- name: filters
  endpoint:
    path: /filters
    method: GET
- name: final_price
  endpoint:
    path: /final_price
    method: GET
- name: frontend_redirect_url
  endpoint:
    path: /frontend_redirect_url
    method: GET
- name: verify_page_country_language
  endpoint:
    path: /verify_page/country_language
    method: GET
    data_selector: records
- name: trade_records
  endpoint:
    path: /trade_records
    method: GET
- name: PaymentRequest
  endpoint:
    path: /paymentRequest
    method: GET
- name: prime_result
  endpoint:
    path: /pay-by-prime
    method: POST
    data_selector: response
- name: apple_pay
  endpoint:
    path: /setupApplePay
    method: POST
    data_selector: merchantIdentifier
    params:
      merchantIdentifier: merchant.tech.cherri
      countryCode: TW
- name: tappay_payment_button
  endpoint:
    path: /setupTappayPaymentButton
    method: POST
    data_selector: DOM-selector
    params: {}
- name: cap_today
  endpoint:
    path: /tpc/transaction/cap
    method: POST
    data_selector: status
    params: {}
- name: bind_card
  endpoint:
    path: /tpc/card/bind
    method: POST
    data_selector: ''
    params: {}
- name: remove_card
  endpoint:
    path: /tpc/card/remove
    method: POST
    data_selector: partner_key
    params: {}
- name: trade_history
  endpoint:
    path: /transaction/trade-history
    method: GET
    data_selector: records
    params: {}
- name: reconciliation
  endpoint:
    path: /tpc/transaction/reconciliation
    method: POST
    data_selector: records
- name: cancel_refund
  endpoint:
    path: /tpc/transaction/refund/cancel
    method: POST
    data_selector: refund_id
    params: {}
- name: cancel_capture
  endpoint:
    path: /tpc/transaction/cap/cancel
    method: POST
    data_selector: ''
    params: {}
- name: card_metadata
  endpoint:
    path: /tpc/card/metadata
    method: GET
    data_selector: records
    params: {}
- name: tsp_notify
  endpoint:
    path: /tpc/sandbox/card/metadata/notify
    method: POST
    data_selector: ''
    params: {}
- name: member_card
  endpoint:
    path: /tpc/direct-pay/get-member-card
    method: POST
    data_selector: response
    params: {}
- name: barcode
  endpoint:
    path: /tpc/direct-pay/get-barcode
    method: POST
    data_selector: ''
    params: {}
- name: payment
  endpoint:
    path: /tpc/payment/pay-by-barcode
    method: POST
    data_selector: ''
    params: {}
- name: update_cardholder
  endpoint:
    path: /tpc/card/update-cardholder
    method: POST
    data_selector: cardholder
    params: {}
- name: affiliate_code_check
  endpoint:
    path: /tpc/affiliate-code/check
    method: POST
    data_selector: ''
    params: {}
- name: push_token
  endpoint:
    path: /tpc/tsp/token/push-tokenize
    method: POST
    data_selector: token
    params: {}
- name: payment_deadline
  endpoint:
    path: ''
    method: ''
    data_selector: ''
    params: {}
- name: payment_frequency
  endpoint:
    path: ''
    method: ''
    data_selector: ''
    params: {}
- name: final_price
  endpoint:
    path: ''
    method: ''
    data_selector: ''
    params: {}
- name: store_id
  endpoint:
    path: ''
    method: ''
    data_selector: ''
    params: {}
- name: store_name
  endpoint:
    path: ''
    method: ''
    data_selector: ''
    params: {}
- name: payment
  endpoint:
    path: /tpc/payment/pay-by-prime
    method: POST
    data_selector: prime
    params: {}
- name: response
  endpoint:
    path: /tpc/payment/pay-by-token
    method: POST
    data_selector: trade_records
    params: {}
- name: rec_trade_id
  endpoint:
    path: /rec_trade_id
    method: GET
- name: bank_transaction_id
  endpoint:
    path: /bank_transaction_id
    method: GET
- name: bank_order_number
  endpoint:
    path: /bank_order_number
    method: GET
- name: order_number
  endpoint:
    path: /order_number
    method: GET
- name: amount
  endpoint:
    path: /amount
    method: GET
- name: status
  endpoint:
    path: /status
    method: GET
- name: msg
  endpoint:
    path: /msg
    method: GET
- name: transaction_time_mil
  endpoint:
    path: /transaction_time_mil
    method: GET
- name: transaction_complete
  endpoint:
    path: /transaction_complete
    method: GET
- name: pay_info
  endpoint:
    path: /pay_info
    method: GET
- name: manual_review
  endpoint:
    path: /manual_review
    method: GET
- name: bnpl_instalment_info
  endpoint:
    path: /bnpl_instalment_info
    method: GET
- name: bank_result
  endpoint:
    path: /bank/result
    method: GET
    data_selector: bank_result_code
    params: {}
- name: refund
  endpoint:
    path: /tpc/transaction/refund
    method: POST
    data_selector: records
    params:
      partner_key: String
      rec_trade_id: String
      amount: int
- name: record
  endpoint:
    path: /tpc/transaction/query
    method: POST
    data_selector: records
    params:
      partner_key: String
      records_per_page: int
      page: int
      filters:
        time:
          start_time: long
          end_time: long
        amount:
          upper_limit: int
          lower_limit: int
        cardholder:
          phone_number: String
          name: String
          email: String
        merchant_id:
        - String
        record_status: int
        rec_trade_id: String
        order_number: String
        bank_transaction_id: String
        currency: String
      order_by:
        attribute: String
        is_descending: boolean
notes:
- Samsung Pay verify page country and language.
- Due to the auth reversal rule is different from the refund rule of some banks, please
  see the auth reversal rule on [Each Bank Auth Reversal Time](reference.html#each-bank-auth-reversal-time)
- Since some banks need to reconcile the transaction data, merchant can’t get the
  final refund / partial refund result before TapPay get the result from the banks.
- 'Payment Request API has 3 steps: Set your preferred payment method, Use Google’s
  PaymentRequest API to retrieve the Prime, Pass the Prime back to your server.'
- Server your application over HTTPS in production and sandbox.
- A one-time token is required to finish the transaction.
- During peak hour, banks might take longer to process the transaction.
- To ensure your information is correct, please set your timeout to 30 seconds.
- This API only support to get the data of transaction after 2020/10/16.
- Please notice that the number of days between start_time_millis and end_time_millis
  can’t be longer than 31 days.
- Currently only support Taishin Bank.
- After enable TSP service, you will be able to call this API to get card detailed
  information.
- Uses an authentication key for requests
- This API allows you to modify the cardholder information. Once you update the cardholder
  information, TapPay will only keep the latest information.
- All requests are sent using HTTP POST
- To avoid the condition which transaction status is inconsistent with TapPay system
  due to unsuccessful receipt of our Backend Notify, it is recommended that after
  receiving the frontend redirect url from TapPay and before displaying the transaction
  result page to the consumer on the front end, you can call the Record API (use rec_trade_id
  as the search criteria) to check the latest transaction result.
- The prime token may only be used once, so you need to create a new token everytime
  before you call this API.
- If the parameter 'remember' is set as true, you will get the card_key and card_token
  in the Pay by Prime API response.
- This feature doesn’t support Apple Pay, Google Pay, Samsung Pay, JKOPAY, Easy Wallet,
  Atome, Pi Wallet, Plus Pay.
- If backend notify fail, please use Record API for verifying.
- This parameter will return the bank result code and message.
- Set timeout to 30 seconds during peak hours.
errors:
- '-8: [LINE Pay] failed to get prime'
- '-7: [Google Pay] failed to get prime'
- '-6: [Apple Pay] failed to get prime'
- '-5: Unknown Error'
- '-3: failed to get prime'
- '-1: SDK Loading Error'
- '0: Success'
- '5: Wrong JSON format'
- '11: App ID not found'
- '12: App name mismatch'
- '13: Unknown app error'
- '16: App key mismatch'
- '41: Wrong Card Format'
- '80: Invaild x-api-key or app key'
- '81: Partner not found'
- '84: Partner unauthorized'
- '122: Card encrypt error'
- '401: Request Cancel, please see the defail of msg'
- '402: Can not obtain payment data, please see the defail of msg'
- '403: [Apple Pay] Get Session error: {Message from apple}'
- '404: [Payment Request API] Unexcept Error, for detail please see originalError'
- '421: Gateway Timeout'
- '422: Authorization Timeout'
- '530: Invalid arguments : app_id'
- '531: Missing arguments : app_key'
- '532: Missing arguments : app_name'
- '533: Missing arguments : card_number'
- '534: Missing arguments : card_expiry_date'
- '570: Out of range : app_key'
- '571: Out of range : app_name'
- '572: Out of range : card_number'
- '573: Out of range : card_expiry_date'
- '574: Out of range : card_ccv'
- '589: Invalid arguments : platform_type'
- '590: Missing arguments : android_merchant_id'
- '591: Missing arguments : pay_token_data'
- '598: Out of range : android_merchant_id'
- '599: Missing arguments : pay_token_data > ephemeralPublicKey'
- '600: Missing arguments : pay_token_data > encryptedMessage'
- '601: Missing arguments : pay_token_data > tag'
- '605: Missing arguments : pay_token_data > data'
- '606: Missing arguments : pay_token_data > version'
- '607: Missing arguments : pay_token_data > signature'
- '915: System error, please contact TapPay customer service'
- '916: Signature verification is not proceed'
- '917: Signature verification error'
- '930: Samsung Pay merchant not found'
- '10028: Samsung Pay error'
- '13002: This apple pay merchant identifier is disabled'
- '21001: Samsung Pay Error (Original Message from Samsung Pay)'
- '21002: Samsung Pay Error (The Internet is unavailable)'
- '2: End of list'
- '4: IP mismatch'
- '41: Wrong card format'
- '43: Card unauthorized access'
- '61: Merchant not found or removed'
- '66: Not a line pay merchant'
- '67: This merchant does not support this payment method'
- '68: This merchant does not support refund cancel'
- '70: TapPay doesn’t support cardholder verify function (KYC) of this bank'
- '71: This merchant does not support instalment'
- '72: This merchant only support instalment'
- '74: This merchant does not support 3DS2.0'
- '75: This merchant does not support non-3D secure'
- '89: This merchant does not support this currency'
- '91: Expired prime'
- '92: The acquirer doesn’t support void auth date is different from the auth date.'
- '121: Invalid arguments : prime'
- '126: Barcode not found'
- '127: Barcode is expired'
- '128: Barcode has been use'
- '129: Member not found'
- '130: Merchant group not found'
- '131: Merchant group setting error'
- '132: On-us merchant not found'
- '141: This partner does not support amount pending'
- '501: Missing arguments : cardholder'
- '502: Missing arguments : merchant_id'
- '503: Missing arguments : prime'
- '504: Missing arguments : currency'
- '505: Missing arguments : details'
- '506: Missing arguments : partner_key'
- '507: Missing arguments : cardholder > phone_number'
- '508: Missing arguments : cardholder > name'
- '509: Missing arguments : cardholder > email'
- '510: Invalid arguments : amount'
- '511: Invalid arguments : instalment'
- '512: Invalid arguments : delay_capture_in_days'
- '513: Out of range : instalment'
- '514: Out of range : delay_capture_in_days'
- '515: Out of range : details'
- '516: Out of range : currency'
- '517: Out of range : order_number'
- '518: Out of range : bank_transaction_id'
- '519: Out of range : cardholder > phone_number'
- '520: Out of range : cardholder > name'
- '521: Out of range : cardholder > email'
- '522: Out of range : cardholder > addr'
- '523: Out of range : cardholder > zip'
- '524: Out of range : cardholder > national_id'
- '525: Out of range : cardholder > member_id'
- '526: Missing arguments : card_key'
- '527: Missing arguments : card_token'
- '528: Out of range : card_key'
- '529: Out of range : card_token'
- '535: Invalid arguments : records_per_page'
- '536: Invalid arguments : page'
- '537: Invalid arguments : filters > time > start_time'
- '538: Invalid arguments : filters > time > end_time'
- '539: Invalid arguments : filters > rec_trade_id'
- '545: Invalid arguments : filters > amount > upper_limit'
- '546: Invalid arguments : filters > amount > lower_limit'
- '547: Invalid arguments : filters > app_id'
- '548: Invalid arguments : filters > merchant_id'
- '549: Invalid arguments : filters > record_status'
- '550: Invalid arguments : order_by > attribute'
- '551: Invalid arguments : order_by > is_descending'
- '559: Out of range : records_per_page'
- '560: Out of range : page'
- '561: Out of range : filters > time > start_time'
- '562: Out of range : filters > time > end_time'
- '563: filters > time > start_time can’t be later than the end_time'
- '564: Out of range : filters > amount > upper_limit'
- '565: Out of range : filters > amount > lower_limit'
- '566: filters > amount > lower_limit can’t be larger than the upper_limit'
- '567: Out of range : filters > app_id'
- '568: Out of range : order_number'
- '569: Out of range : bank_transaction_id'
- '578: Out of range : additional_data'
- '587: Out of range : partner_key'
- '588: Invalid arguments : delay_capture_in_days'
- '592: Missing arguments : apple_merchant_id'
- '593: Out of range : merchant_id'
- '594: Out of range : apple_merchant_id'
- '595: Out of range : delay_capture_in_days'
- '596: Missing arguments : rec_trade_id'
- '597: Out of range : rec_trade_id'
- '617: Out of range : fraud_id'
- '622: Missing arguments : member_id'
- '627: Invalid arguments : result_url > backend_notify_url'
- '628: Invalid arguments : result_url > frontend_redirect_url'
- '629: Missing arguments : result_url > backend_notify_url'
- '630: Missing arguments : result_url > frontend_redirect_url'
- '631: Missing arguments : result_url'
- '632: Acquirer doesn’t support 3D Secure.'
- '633: 3D Secure get redirect url error'
- '635: Acquirer doesn’t support instalment'
- '636: Acquirer doesn’t support redeem'
- '637: Acquirer doesn’t support instalment and redeem concurrently'
- '643: Invalid arguments : additional_data'
- '644: Invalid arguments : line_pay_product_image_url'
- '669: Out of range : request_id'
- '670: Out of range : refund_id'
- '691: Acquirer doesn’t Support Non-3D Secure.'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- '0: success'
- '80: x-api-key is invalid.'
- '82: Partner key mismatch'
- '209: Missing argument : request_type.'
- '211: Invalid argument : request_type.'
- '450: Create affiliate code failed {detail error message}'
- '451: fpan_bincodes length should be less than or equal to 50.'
- '452: token_bincodes length should be less than or equal to 50.'
- '453: Delete affiliate code failed {detail error message}'
- '454: Create affiliate code group failed {detail error message}'
- '455: affiliate_code_names length should be less than 50.'
- '456: Delte affiliate code group failed {detail error message}'
- '9999: System is under maintenance, please contact TapPay customer service'
- Browser not support PaymentRequest
- Current device without supported card to make payment
- '1: Error message.'
- '0: Response code 0 indicates success'
- 'Error message: Standard error response message'
- 'Invalid barcode: Check the barcode format'
- 'Authentication failed: Verify partner key'
- '401 Unauthorized: Recheck partner key or token'
- HTTP 200 response required for successful Backend Notify.
- 'Invalid Request: Check the request parameters.'
- 'Unauthorized: Ensure you have the correct permissions.'
auth_info:
  mentioned_objects:
  - partner_key
  - card_key
  - card_token
  - tsp_notify_url
client:
  base_url: https://docs.tappaysdk.com
  headers:
    Accept: application/json
source_metadata: null
