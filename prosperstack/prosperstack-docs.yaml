resources:
- name: autopilot_offer
  endpoint:
    path: /offers/autopilot
    method: POST
    data_selector: offer_variants
    params: {}
- name: offer_links
  endpoint:
    path: /integrations/klaviyo/offer_links
    method: POST
    data_selector: offer_link
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: vendor
  endpoint:
    path: /vendor
    method: GET
- name: cancellation_flow
  endpoint:
    path: /for-developers/api
    method: POST
    data_selector: result
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: subscriber_properties
  endpoint:
    path: /subscriber/properties
    method: GET
    data_selector: properties
    params: {}
- name: custom_properties
  endpoint:
    path: /custom/properties
    method: GET
    data_selector: properties
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: custom_properties
  endpoint:
    path: /settings/properties
    method: GET
    data_selector: properties
    params: {}
notes:
- Uses OAuth2 with refresh token — requires setup of connected app in api
- The extend and reset billing date options are only available with the Stripe platform
  integration.
- By default, if the customer has been previously saved by an offer in ProsperStack,
  no additional offers will be presented.
- Some objects like Contact may return nulls in deeply nested fields
- Using a custom subscription platform integration requires you to implement offer
  and subscription management features (coupons, cancels, pauses, etc.) yourself.
- Your Chargebee site name is the first part of the URL in your Chargebee account.
- You can create a Chargebee API key by navigating to Settings → Configure Chargebee
  → API keys in your Chargebee account.
- To connect Recurly, you'll need your Recurly private API key.
- You'll need your Braintree merchant ID, public key and private key.
- To activate the ProsperStack cancellation flow in your Bold customer portal, you'll
  need to install the ProsperStack snippet in your Shopify store theme.
- Uses OAuth2 with refresh token — requires setup of connected app in ProsperStack
- Version 2.0.0 of the flow library introduces some breaking changes.
- If using ProsperStack's confirmation step, note that the Promise or onCompleted
  callback may resolve before the flow is completely closed by the subscriber.
- Payload clientId is now required
- Version 2.0.0 also changes the secret key used for signed requests — you should
  now use the client secret found in the Account section in the Settings page to compute
  signatures.
- If delivering a webhook fails because your endpoint does not respond or returns
  an error, ProsperStack will attempt to retry the webhook for up to three days.
- You can have up to ten webhooks configured with your ProsperStack account.
- You can preview your cancellation flows at any time to test out changes and view
  your cancellation experience from a subscriber's perspective.
- When you make changes to your cancellation flow, a draft version of the flow is
  created.
errors:
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- 'Invalid Client ID: Recheck the client ID provided.'
- 'Unauthorized: Check your API key or authentication method.'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: https://prosperstack.com
  auth:
    type: oauth2
source_metadata: null
