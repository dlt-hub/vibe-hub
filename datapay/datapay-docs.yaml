resources:
- name: components
  endpoint:
    path: /components
    method: GET
    data_selector: records
- name: companies
  endpoint:
    path: /companies
    method: GET
    data_selector: records
- name: retrieve_templates
  endpoint:
    path: /retrieve/templates
    method: GET
- name: retrieve_fields
  endpoint:
    path: /retrieve/fields
    method: GET
- name: employee
  endpoint:
    path: /employees
    method: GET
    data_selector: records
    params:
      company_id: REF4ANVyb5dUU5vDjgJ6xQ
      pay_group_id: EOtzYp94qNk4fni1xYCpQQ
      payrun_id: 53255
      include_restricted: true
      category: All
      effective_date: '2019-01-31'
      termination_date: '2019-01-31'
      finalised_only: false
      filter: {}
- name: employee
  endpoint:
    path: /createEmployee
    method: POST
    data_selector: employee
    params:
      finalise: finalise
- name: retrieve_employee
  endpoint:
    path: /retrieveEmployee/{employee_id}
    method: GET
    data_selector: employee
    params: {}
- name: update_employee
  endpoint:
    path: /updateEmployee/{employee_id}
    method: PATCH
    data_selector: employee
    params: {}
- name: delete_employee
  endpoint:
    path: /deleteEmployee/{employee_id}
    method: DELETE
    data_selector: employee
    params: {}
- name: terminate_employee
  endpoint:
    path: /terminateEmployee/{employee_id}
    method: PATCH
    data_selector: employee
    params: {}
- name: leave_requests
  endpoint:
    path: /retrieve/leave/requests
    method: GET
    params:
      start_date: '2019-03-01'
      end_date: '2019-03-31'
- name: employee_groups
  endpoint:
    path: /retrieve/employee/groups
    method: GET
    params: {}
- name: leave_request
  endpoint:
    path: /v/1/webhooks/subscriptions/{webhookSubscriptionId}
    method: DELETE
    params: {}
- name: retrieve_leave_requests_for_company
  endpoint:
    path: /v/1/leave_requests
    method: GET
    params:
      company_id: REF4ANVyb5dUU5vDjgJ6xQ
      start_date: '2019-03-01'
      end_date: '2019-03-31'
- name: retrieve_leave_requests_for_employee
  endpoint:
    path: /v/1/leave_requests
    method: GET
    params:
      employee_id: KbSE7YrDRVf8F5jFVxGrng
      start_date: '2019-03-01'
      end_date: '2019-03-31'
- name: retrieve_public_holidays_for_employee
  endpoint:
    path: /v/1/public_holidays
    method: GET
    params:
      employee_id: KbSE7YrDRVf8F5jFVxGrng
      start_date: '2019-03-01'
      end_date: '2019-03-31'
- name: retrieve_leave_balances
  endpoint:
    path: /v/1/leave_balances
    method: GET
    params:
      leave_type_ids: suLwK9uM5DXNhxqQCdYPCw
- name: retrieve_pay_components_for_employee
  endpoint:
    path: /retrieve/pay/components/employee
    method: GET
    params:
      effective_date: required
- name: assign_pay_component_to_employee
  endpoint:
    path: /assign/pay/component/employee
    method: POST
    params:
      employee_id: required
      ComponentId: required
      StartDate: required
- name: remove_pay_component_for_employee
  endpoint:
    path: /remove/pay/component/employee
    method: DELETE
    params:
      employee_id: required
      paycomponent_id: required
- name: retrieve_pay_component_values_for_employee
  endpoint:
    path: /retrieve/pay/component/values/employee
    method: GET
    params:
      employee_id: required
      paycomponent_id: required
- name: assign_pay_component_value_for_employee
  endpoint:
    path: /assign/pay/component/value/employee
    method: POST
    params:
      employee_id: required
      paycomponent_id: required
      StartDate: required
      ParameterId: required
      Value: required
- name: reports
  endpoint:
    path: /webhooks/subscriptions
    method: GET
    data_selector: records
- name: pay_groups
  endpoint:
    path: /webhooks/subscriptions
    method: GET
    data_selector: records
- name: pay_runs
  endpoint:
    path: /webhooks/subscriptions
    method: GET
    data_selector: records
- name: reference_values
  endpoint:
    path: /webhooks/subscriptions
    method: GET
    data_selector: records
- name: employee_created_webhook
  endpoint:
    path: /webhooks/employee_created
    method: POST
    data_selector: Id
    params: {}
- name: employee_finalised_webhook
  endpoint:
    path: /webhooks/employee_finalised
    method: POST
    data_selector: Id
    params: {}
- name: webhook_subscription
  endpoint:
    path: /webhooks/subscriptions
    method: POST
    data_selector: subscription
    params: {}
- name: webhook_subscriptions
  endpoint:
    path: /delete/v/1/webhooks/subscriptions/{webhookSubscriptionId}
    method: DELETE
    data_selector: records
- name: components
  endpoint:
    path: /components
    method: GET
    data_selector: components
    params: {}
- name: companies
  endpoint:
    path: /companies
    method: GET
    data_selector: companies
    params: {}
- name: templates
  endpoint:
    path: /retrieve/templates
    method: GET
- name: component_values
  endpoint:
    path: /retrieve/component/values
    method: GET
- name: cost_structures
  endpoint:
    path: /retrieve/cost/structures
    method: GET
- name: employees
  endpoint:
    path: /employees
    method: GET
    data_selector: records
    params:
      company_id: REF4ANVyb5dUU5vDjgJ6xQ
      include_restricted: true
- name: create_employee
  endpoint:
    path: /create/employee
    method: POST
    data_selector: employee
    params:
      finalise: boolean
- name: retrieve_employee
  endpoint:
    path: /retrieve/employee/{employee_id}
    method: GET
    data_selector: employee
    params:
      category: string
      effective_date: string
- name: update_employee
  endpoint:
    path: /update/employee/{employee_id}
    method: PATCH
    data_selector: employee
    params: {}
- name: delete_employee
  endpoint:
    path: /delete/employee/{employee_id}
    method: DELETE
    data_selector: employee
    params: {}
- name: terminate_employee
  endpoint:
    path: /terminate/employee/{employee_id}
    method: POST
    data_selector: employee
    params:
      TerminationDate: string
      PayUntilTerminationDate: boolean
      Reason: string
      Comment: string
      StpReason: string
- name: leave_requests
  endpoint:
    path: /leave_requests
    method: GET
    params:
      start_date: '2019-03-01'
      end_date: '2019-03-31'
- name: employee_groups
  endpoint:
    path: /employee_groups
    method: GET
    params:
      company_id: REF4ANVyb5dUU5vDjgJ6xQ
- name: leave_requests
  endpoint:
    path: /v/1/leave_requests
    method: GET
    params:
      company_id: KzMOQWE347X15wewwApIYw
      employee_id: KzMOQWE347X15wewwApIYw
      leave_type_ids: suLwK9uM5DXNhxqQCdYPCw
- name: retrieve_employee_payslips
  endpoint:
    path: /payslips
    method: GET
    data_selector: payslips
    params:
      employee_id: required
      start_date: optional
      end_date: optional
      payrun_id: optional
      filename_format: optional
- name: retrieve_pay_components
  endpoint:
    path: /pay_components
    method: GET
    data_selector: pay_components
    params:
      employee_id: required
      effective_date: required
- name: assign_pay_component
  endpoint:
    path: /assign_pay_component
    method: POST
    data_selector: assignment_response
    params:
      employee_id: required
      component_id: required
      start_date: required
      end_date: optional
- name: subscribed_reports
  endpoint:
    path: /webhooks/subscriptions
    method: GET
    data_selector: records
- name: pay_components
  endpoint:
    path: /paycomponents
    method: GET
    data_selector: records
- name: pay_groups
  endpoint:
    path: /paygroups
    method: GET
    data_selector: records
- name: pay_runs
  endpoint:
    path: /payruns
    method: GET
    data_selector: records
- name: reference_values
  endpoint:
    path: /referencevalues
    method: GET
    data_selector: records
- name: employee_created
  endpoint:
    path: /webhooks/employee_created
    method: POST
- name: employee_finalised
  endpoint:
    path: /webhooks/employee_finalised
    method: POST
- name: webhook_subscriptions
  endpoint:
    path: /webhooks/subscriptions
    method: POST
    data_selector: records
- name: webhook_subscription
  endpoint:
    path: /delete/v/1/webhooks/subscriptions/{webhookSubscriptionId}
    method: DELETE
    data_selector: response
    params: {}
notes:
- Each subscription must have a unique combination of event type, company code, and
  endpoint URL.
- The subscriber secret must either be null or match the value of an existing subscription.
- API calls must be made from a secure back-end server.
- The access token must be passed into each API call under Authorization header.
- Requires setup for OAuth2 authentication
- Uses OAuth2 for authentication
- Pay components can be assigned at different levels
- Subscriber secret must either be null or match the value of an existing subscription.
errors:
- '400: The request is invalid, e.g. missing required fields, invalid values, etc.'
- '401: The access token is invalid or expired.'
- '404: Either the base URL or the format of URL is incorrect.'
- '401 Unauthorized: Check OAuth2 credentials.'
- '400 Bad Request: Verify request payload structure.'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- '429: The request exceeds the rate limit of 60 requests per minute.'
- '404 Not Found: Check the provided employee ID or pay component ID'
- '401 Unauthorized: Recheck OAuth credentials or token expiration.'
- '200: Successfully deleted.'
auth_info:
  mentioned_objects:
  - ClientId
  - ClientSecret
  - OAuth2
  - client_credentials
  - OauthToken
  - AuthProvider
client:
  base_url: https://www.datapaylive.com.au/api/v/1
  auth:
    type: oauth2
    flow: client_credentials
    token_url: https://auth.sample.com/token
    client_id: '{{ dlt.secrets[''api_client_id''] }}'
    client_secret: '{{ dlt.secrets[''api_client_secret''] }}'
    location: header
    header_name: Authorization
source_metadata: null
