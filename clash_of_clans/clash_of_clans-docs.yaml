resources:
- name: clan
  endpoint:
    path: /clans/{tag}
    method: GET
    data_selector: clan
- name: clan_war
  endpoint:
    path: /clans/{clanTag}/currentwar
    method: GET
    data_selector: war
- name: clan_wars
  endpoint:
    path: /clans/{clanTags}/currentwars
    method: GET
    data_selector: wars
- name: league
  endpoint:
    path: /leagues/{leagueId}
    method: GET
    data_selector: league
- name: league_group
  endpoint:
    path: /clans/{clanTag}/leaguegroup
    method: GET
    data_selector: leagueGroup
- name: league_war
  endpoint:
    path: /get_league_war
    method: GET
    data_selector: LeagueWar
    params: {}
- name: league_wars
  endpoint:
    path: /get_league_wars
    method: GET
    data_selector: LeagueWarIterator
    params: {}
- name: location
  endpoint:
    path: /get_location
    method: GET
    data_selector: Location
    params: {}
- name: location_clan
  endpoint:
    path: /get_location_clan
    method: GET
    data_selector: Clan
    params: {}
- name: location_clans_versus
  endpoint:
    path: /get_location_clans_versus
    method: GET
    data_selector: Clan
    params: {}
- name: location_named
  endpoint:
    path: /get_location_named
    method: GET
    data_selector: Location
    params: {}
- name: location_players
  endpoint:
    path: /get_location_players
    method: GET
    data_selector: Player
    params: {}
- name: location_players_versus
  endpoint:
    path: /get_location_players_versus
    method: GET
    data_selector: Player
    params: {}
- name: members
  endpoint:
    path: /get_members
    method: GET
    data_selector: BasicPlayer
    params: {}
- name: player
  endpoint:
    path: /get_player
    method: GET
    data_selector: SearchPlayer
    params: {}
- name: player_labels
  endpoint:
    path: /get_player_labels
    method: GET
    data_selector: Label
    params: {}
- name: players
  endpoint:
    path: /get_players
    method: GET
    data_selector: PlayerIterator
    params: {}
- name: season_rankings
  endpoint:
    path: /get_season_rankings
    method: GET
    data_selector: LeagueRankedPlayer
    params: {}
- name: seasons
  endpoint:
    path: /get_seasons
    method: GET
    data_selector: dict
    params: {}
- name: warlog
  endpoint:
    path: /get_warlog
    method: GET
    data_selector: WarLog
    params: {}
- name: search_clans
  endpoint:
    path: /clans
    method: GET
    data_selector: clans
- name: search_leagues
  endpoint:
    path: /leagues
    method: GET
    data_selector: leagues
- name: search_locations
  endpoint:
    path: /locations
    method: GET
    data_selector: locations
- name: on_clan_member_league_change
  endpoint:
    path: /coc/on_clan_member_league_change
    method: GET
    data_selector: parameters
    params: {}
- name: war_update
  endpoint:
    path: /on_war_update
    method: POST
    data_selector: old_war, new_war
    params: {}
- name: new_war_attack
  endpoint:
    path: /on_war_attack
    method: POST
    data_selector: attack, war
    params: {}
- name: war_state_change
  endpoint:
    path: /on_war_state_change
    method: POST
    data_selector: current_state, war
    params: {}
- name: player_update
  endpoint:
    path: /on_player_update
    method: GET
    data_selector: old_player, new_player
    params: {}
- name: player_name_change
  endpoint:
    path: /on_player_name_change
    method: GET
    data_selector: old_name, new_name, player
    params: {}
- name: player_town_hall_change
  endpoint:
    path: /on_player_townhall_upgrade
    method: GET
    data_selector: old_townhall, new_townhall, player
    params: {}
- name: player_builder_hall_change
  endpoint:
    path: /on_player_builderhall_upgrade
    method: GET
    data_selector: old_builderhall, new_builderhall, player
    params: {}
- name: player_best_trophies_change
  endpoint:
    path: /on_player_best_trophies_change
    method: GET
    data_selector: old_best, new_best, player
    params: {}
- name: player_best_versus_trophies_change
  endpoint:
    path: /on_player_best_versus_trophies_change
    method: GET
    data_selector: old_best, new_best, player
    params: {}
- name: player_war_stars_change
  endpoint:
    path: /on_player_war_stars_change
    method: GET
    data_selector: old_stars, new_stars, player
    params: {}
- name: player_attack_wins_change
  endpoint:
    path: /on_player_attack_wins_change
    method: GET
    data_selector: old_attacks, new_attacks, player
    params: {}
- name: player_defense_wins_change
  endpoint:
    path: /on_player_defense_wins_change
    method: GET
    data_selector: old_defenses, new_defenses, player
    params: {}
- name: player_versus_attack_change
  endpoint:
    path: /on_player_versus_attack_change
    method: GET
    data_selector: old_attacks, new_attacks, player
    params: {}
- name: player_trophies_change
  endpoint:
    path: /on_player_trophies_change
    method: GET
    data_selector: old_trophies, new_trophies, player
    params: {}
- name: player_league_change
  endpoint:
    path: /on_player_league_change
    method: GET
    data_selector: old_league, new_league, player
    params: {}
- name: player_role_change
  endpoint:
    path: /on_player_role_change
    method: GET
    data_selector: old_role, new_role, player
    params: {}
- name: player_donations_change
  endpoint:
    path: /on_player_donations_change
    method: GET
    data_selector: old_donations, new_donations, player
    params: {}
- name: player_received_change
  endpoint:
    path: /on_player_received_change
    method: GET
    data_selector: old_received, new_received, player
    params: {}
- name: player_clan_rank_change
  endpoint:
    path: /on_player_clan_rank_change
    method: GET
    data_selector: old_rank, new_rank, player
    params: {}
- name: player_previous_clan_rank_change
  endpoint:
    path: /on_player_previous_clan_rank_change
    method: GET
    data_selector: old_rank, new_rank, player
    params: {}
- name: player_achievement_change
  endpoint:
    path: /on_player_achievement_change
    method: GET
    data_selector: old_achievement, new_achievement, player
    params: {}
- name: player_troop_upgrade
  endpoint:
    path: /on_player_troop_upgrade
    method: GET
    data_selector: old_troop, new_troop, player
    params: {}
- name: player_spell_upgrade
  endpoint:
    path: /on_player_spell_upgrade
    method: GET
    data_selector: old_spell, new_spell, player
    params: {}
- name: player_hero_upgrade
  endpoint:
    path: /on_player_hero_upgrade
    method: GET
    data_selector: old_hero, new_hero, player
    params: {}
- name: player_clan_join
  endpoint:
    path: /on_player_clan_join
    method: GET
    data_selector: member, clan
    params: {}
- name: player_clan_leave
  endpoint:
    path: /on_player_clan_leave
    method: GET
    data_selector: member, clan
    params: {}
- name: player_clan_level_change
  endpoint:
    path: /on_player_clan_level_change
    method: GET
    data_selector: old_level, new_level, clan, player
    params: {}
- name: player_clan_badge_change
  endpoint:
    path: /on_player_clan_badge_change
    method: GET
    data_selector: old_badge, new_badge, clan, player
    params: {}
- name: get_current_wars
  endpoint:
    path: /get_current_wars
    method: GET
    data_selector: wars
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_league
  endpoint:
    path: /get_league
    method: GET
    data_selector: league
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_league_group
  endpoint:
    path: /get_league_group
    method: GET
    data_selector: league_group
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_league_named
  endpoint:
    path: /get_league_named
    method: GET
    data_selector: league_named
- name: get_league_war
  endpoint:
    path: /get_league_war
    method: GET
    data_selector: league_war
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_league_wars
  endpoint:
    path: /get_league_wars
    method: GET
    data_selector: league_wars
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_location
  endpoint:
    path: /get_location
    method: GET
    data_selector: location
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_location_clan
  endpoint:
    path: /get_location_clan
    method: GET
    data_selector: location_clan
- name: get_location_clans_versus
  endpoint:
    path: /get_location_clans_versus
    method: GET
    data_selector: location_clans_versus
- name: get_location_named
  endpoint:
    path: /get_location_named
    method: GET
    data_selector: location_named
- name: get_location_players
  endpoint:
    path: /get_location_players
    method: GET
    data_selector: location_players
- name: get_location_players_versus
  endpoint:
    path: /get_location_players_versus
    method: GET
    data_selector: location_players_versus
- name: get_members
  endpoint:
    path: /get_members
    method: GET
    data_selector: members
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_player
  endpoint:
    path: /get_player
    method: GET
    data_selector: player
- name: player_labels
  endpoint:
    path: /get_player_labels
    method: GET
- name: players
  endpoint:
    path: /get_players
    method: GET
- name: season_rankings
  endpoint:
    path: /get_season_rankings
    method: GET
- name: seasons
  endpoint:
    path: /get_seasons
    method: GET
- name: warlog
  endpoint:
    path: /get_warlog
    method: GET
- name: search_clans
  endpoint:
    path: /search_clans
    method: GET
- name: search_leagues
  endpoint:
    path: /search_leagues
    method: GET
- name: search_locations
  endpoint:
    path: /search_locations
    method: GET
- name: location
  endpoint:
    path: /get_location/{location_id}
    method: GET
    data_selector: Location
- name: location_clan
  endpoint:
    path: /get_location_clan/{location_id}
    method: GET
    data_selector: Clan
- name: location_players
  endpoint:
    path: /get_location_players/{location_id}
    method: GET
    data_selector: Player
- name: members
  endpoint:
    path: /get_members/{clan_tag}
    method: GET
    data_selector: BasicPlayer
- name: player
  endpoint:
    path: /get_player/{player_tag}
    method: GET
    data_selector: SearchPlayer
- name: warlog
  endpoint:
    path: /get_warlog/{clan_tag}
    method: GET
    data_selector: WarLog
- name: event_error
  endpoint:
    path: /events/error
    method: GET
    data_selector: event_error
    params: {}
- name: clan_update
  endpoint:
    path: /clans/update
    method: GET
    data_selector: clan_update
    params: {}
- name: clan_level_change
  endpoint:
    path: /clans/level_change
    method: GET
    data_selector: clan_level_change
    params: {}
- name: clan_description_change
  endpoint:
    path: /clans/description_change
    method: GET
    data_selector: clan_description_change
    params: {}
- name: clan_public_war_log_change
  endpoint:
    path: /clans/public_war_log_change
    method: GET
    data_selector: clan_public_war_log_change
    params: {}
- name: clan_type_change
  endpoint:
    path: /clans/type_change
    method: GET
    data_selector: clan_type_change
    params: {}
- name: clan_badge_change
  endpoint:
    path: /clans/badge_change
    method: GET
    data_selector: clan_badge_change
    params: {}
- name: clan_required_trophies_change
  endpoint:
    path: /clans/required_trophies_change
    method: GET
    data_selector: clan_required_trophies_change
    params: {}
- name: clan_war_frequency_change
  endpoint:
    path: /clans/war_frequency_change
    method: GET
    data_selector: clan_war_frequency_change
    params: {}
- name: clan_war_win_streak_change
  endpoint:
    path: /clans/war_win_streak_change
    method: GET
    data_selector: clan_war_win_streak_change
    params: {}
- name: clan_war_wins_change
  endpoint:
    path: /clans/war_wins_change
    method: GET
    data_selector: clan_war_wins_change
    params: {}
- name: clan_war_ties_change
  endpoint:
    path: /clans/war_ties_change
    method: GET
    data_selector: clan_war_ties_change
    params: {}
- name: clan_war_losses_change
  endpoint:
    path: /clans/war_losses_change
    method: GET
    data_selector: clan_war_losses_change
    params: {}
- name: clan_member_join
  endpoint:
    path: /clans/member_join
    method: GET
    data_selector: clan_member_join
    params: {}
- name: clan_member_leave
  endpoint:
    path: /clans/member_leave
    method: GET
    data_selector: clan_member_leave
    params: {}
- name: clan_member_name_change
  endpoint:
    path: /clans/member_name_change
    method: GET
    data_selector: clan_member_name_change
    params: {}
- name: clan_member_donations
  endpoint:
    path: /clans/member_donations
    method: GET
    data_selector: clan_member_donations
    params: {}
- name: clan_member_received
  endpoint:
    path: /clans/member_received
    method: GET
    data_selector: clan_member_received
    params: {}
- name: clan_member_trophies_change
  endpoint:
    path: /clans/member_trophies_change
    method: GET
    data_selector: clan_member_trophies_change
    params: {}
- name: clan_member_versus_trophies_change
  endpoint:
    path: /clans/member_versus_trophies_change
    method: GET
    data_selector: clan_member_versus_trophies_change
    params: {}
- name: clan_member_role_change
  endpoint:
    path: /clans/member_role_change
    method: GET
    data_selector: clan_member_role_change
    params: {}
- name: clan_member_rank_change
  endpoint:
    path: /clans/member_rank_change
    method: GET
    data_selector: clan_member_rank_change
    params: {}
- name: clan_member_level_change
  endpoint:
    path: /clans/member_level_change
    method: GET
    data_selector: clan_member_level_change
    params: {}
- name: on_player_hero_upgrade
  endpoint:
    path: /on_player_hero_upgrade
    method: GET
    data_selector: records
    params: {}
- name: on_player_clan_join
  endpoint:
    path: /on_player_clan_join
    method: GET
    data_selector: records
    params: {}
- name: on_player_clan_leave
  endpoint:
    path: /on_player_clan_leave
    method: GET
    data_selector: records
    params: {}
- name: on_player_clan_level_change
  endpoint:
    path: /on_player_clan_level_change
    method: GET
    data_selector: records
    params: {}
- name: on_player_clan_badge_change
  endpoint:
    path: /on_player_clan_badge_change
    method: GET
    data_selector: records
    params: {}
- name: war_attack
  endpoint:
    path: /war_attack
    method: GET
    data_selector: records
    params: {}
- name: get_current_wars
  endpoint:
    path: /get_current_wars
    method: GET
    data_selector: CurrentWarIterator
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_league
  endpoint:
    path: /get_league
    method: GET
    data_selector: League
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_league_group
  endpoint:
    path: /get_league_group
    method: GET
    data_selector: LeagueGroup
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_league_named
  endpoint:
    path: /get_league_named
    method: GET
    data_selector: League
    params: {}
- name: get_league_war
  endpoint:
    path: /get_league_war
    method: GET
    data_selector: LeagueWar
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_league_wars
  endpoint:
    path: /get_league_wars
    method: GET
    data_selector: LeagueWarIterator
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_location
  endpoint:
    path: /get_location
    method: GET
    data_selector: Location
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_location_clan
  endpoint:
    path: /get_location_clan
    method: GET
    data_selector: list of Clan
    params:
      location_id: global
- name: get_location_players
  endpoint:
    path: /get_location_players
    method: GET
    data_selector: list of Player
    params:
      location_id: global
- name: get_members
  endpoint:
    path: /get_members
    method: GET
    data_selector: list of BasicPlayer
    params:
      cache: true
      fetch: true
      update_cache: true
- name: get_player
  endpoint:
    path: /get_player
    method: GET
    data_selector: Player
    params:
      cache: true
      fetch: true
      update_cache: true
- name: players
  endpoint:
    path: /players
    method: GET
    data_selector: records
- name: clans
  endpoint:
    path: /clans
    method: GET
    data_selector: records
- name: seasons
  endpoint:
    path: /seasons
    method: GET
    data_selector: records
- name: leagues
  endpoint:
    path: /leagues
    method: GET
    data_selector: records
- name: clan
  endpoint:
    path: /get_clan
    method: GET
    data_selector: clan
    params: {}
- name: clan_labels
  endpoint:
    path: /get_clan_labels
    method: GET
    data_selector: labels
    params: {}
- name: clan_war
  endpoint:
    path: /get_clan_war
    method: GET
    data_selector: war
    params: {}
- name: league
  endpoint:
    path: /get_league
    method: GET
    data_selector: league
    params: {}
- name: location
  endpoint:
    path: /locations
    method: GET
    data_selector: locations
- name: clan
  endpoint:
    path: /clans
    method: GET
    data_selector: clans
- name: player
  endpoint:
    path: /players
    method: GET
    data_selector: players
- name: BasicPlayer
  endpoint:
    path: /BasicPlayer
    method: GET
    data_selector: records
- name: WarMember
  endpoint:
    path: /WarMember
    method: GET
    data_selector: records
- name: SearchPlayer
  endpoint:
    path: /SearchPlayer
    method: GET
    data_selector: records
- name: WarLog
  endpoint:
    path: /warlog
    method: GET
    data_selector: records
- name: ClanWar
  endpoint:
    path: /clanwar
    method: GET
    data_selector: records
- name: WarAttack
  endpoint:
    path: /warattack
    method: GET
    data_selector: records
- name: Achievement
  endpoint:
    path: /achievement
    method: GET
    data_selector: records
- name: Troop
  endpoint:
    path: /troop
    method: GET
    data_selector: records
- name: Hero
  endpoint:
    path: /hero
    method: GET
    data_selector: records
- name: Spell
  endpoint:
    path: /spell
    method: GET
    data_selector: records
- name: Location
  endpoint:
    path: /coc/Location
    method: GET
- name: League
  endpoint:
    path: /coc/League
    method: GET
- name: LeagueRankedPlayer
  endpoint:
    path: /coc/LeagueRankedPlayer
    method: GET
- name: LegendStatistics
  endpoint:
    path: /coc/LegendStatistics
    method: GET
- name: Badge
  endpoint:
    path: /coc/Badge
    method: GET
- name: Timestamp
  endpoint:
    path: /coc/Timestamp
    method: GET
- name: Label
  endpoint:
    path: /coc/Label
    method: GET
- name: LeaguePlayer
  endpoint:
    path: /league/player
    method: GET
    data_selector: data
    params: {}
- name: LeagueClan
  endpoint:
    path: /league/clan
    method: GET
    data_selector: data
    params: {}
- name: LeagueGroup
  endpoint:
    path: /league/group
    method: GET
    data_selector: data
    params: {}
- name: LeagueWar
  endpoint:
    path: /league/war
    method: GET
    data_selector: data
    params: {}
- name: LeagueWarLogEntry
  endpoint:
    path: /league/war/log
    method: GET
    data_selector: data
    params: {}
- name: events
  endpoint:
    path: /events
    method: GET
notes:
- Setting throttle_limit too high may result in API rate-limiting.
- Default cache will be used if nothing is passed.
- At least one filtering criteria must be defined when searching clans.
- Setting throttle limit too high may result in API rate-limiting your requests.
- Setting throttle limit too high may result in your requests being deemed 'API Abuse',
  potentially resulting in an IP ban.
- Due to the unpredictable nature of the API and what Supercell returns, all attributes
  have the possibility of being None.
- Uses OAuth2 with refresh token — requires setup of connected app in api
- Some objects like Contact may return nulls in deeply nested fields
- For the average user, it is more than adequate.
- Must provide player or clan tags to listen for events.
- Default retry interval for listening is 600 seconds.
errors:
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'InvalidArgument: Client provided incorrect parameters for the request.'
- 'InvalidCredentials: Missing/incorrect credentials were passed.'
- 'Forbidden: API token does not grant access to the requested resource.'
- 'NotFound: The resource was not found.'
- 'Maintenance: Service is temporarily unavailable because of maintenance.'
- 'GatewayError: Bad Gateway or Gateway has timed-out.'
- 'PrivateWarLog: 403 error when trying to get a clan’s war info.'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: https://api.ipify.org/
source_metadata: null
