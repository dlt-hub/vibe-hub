resources:
- name: sql_read_default_branch
  endpoint:
    path: /api/v1alpha1/{owner}/{database}
    method: GET
    data_selector: rows
    params: {}
- name: sql_read_specified_ref
  endpoint:
    path: /api/v1alpha1/{owner}/{database}/{ref}
    method: GET
    data_selector: rows
    params: {}
- name: sql_write_query
  endpoint:
    path: /api/v1alpha1/{owner}/{database}/write/{from_branch}/{to_branch}
    method: POST
    data_selector: query_execution_status
    params: {}
- name: poll_operation_status
  endpoint:
    path: /api/v1alpha1/{owner}/{database}/write
    method: GET
    data_selector: done
    params: {}
- name: sql-server
  endpoint:
    path: /dolt/sql-server
    method: POST
- name: sql
  endpoint:
    path: /dolt/sql
    method: POST
- name: commands
  endpoint:
    path: /cli-reference/cli
    method: GET
    data_selector: commands
    params: {}
- name: ci_workflows
  endpoint:
    path: /ci/workflows
    method: GET
- name: ci_export
  endpoint:
    path: /ci/export
    method: POST
- name: ci_import
  endpoint:
    path: /ci/import
    method: POST
- name: diff
  endpoint:
    path: /diff
    method: GET
    data_selector: changes
    params: {}
- name: docs_diff
  endpoint:
    path: /docs/diff
    method: GET
    data_selector: docs_changes
    params: {}
- name: docs_print
  endpoint:
    path: /docs/print
    method: GET
    data_selector: doc_content
    params: {}
- name: docs_upload
  endpoint:
    path: /docs/upload
    method: POST
    data_selector: upload_status
    params: {}
- name: dump
  endpoint:
    path: /dump
    method: GET
    data_selector: dump_status
    params: {}
- name: fetch
  endpoint:
    path: /fetch
    method: GET
    data_selector: fetch_status
    params: {}
- name: filter-branch
  endpoint:
    path: /filter-branch
    method: POST
    data_selector: filter_status
    params: {}
- name: fsck
  endpoint:
    path: /fsck
    method: GET
    data_selector: fsck_status
    params: {}
- name: gc
  endpoint:
    path: /gc
    method: GET
    data_selector: gc_status
    params: {}
- name: init
  endpoint:
    path: /init
    method: POST
    data_selector: init_status
    params: {}
- name: log
  endpoint:
    path: /log
    method: GET
    data_selector: commit_logs
    params: {}
- name: login
  endpoint:
    path: /login
    method: POST
    data_selector: login_status
    params: {}
- name: ls
  endpoint:
    path: /ls
    method: GET
    data_selector: tables_list
    params: {}
- name: merge
  endpoint:
    path: /merge
    method: POST
    data_selector: merge_status
    params: {}
- name: merge-base
  endpoint:
    path: /merge-base
    method: GET
    data_selector: common_ancestor
    params: {}
- name: profile
  endpoint:
    path: /profile
    method: GET
    data_selector: profile_management
    params: {}
- name: pull
  endpoint:
    path: /pull
    method: POST
    data_selector: pull_status
    params: {}
- name: sql
  endpoint:
    path: sql
    method: GET
    data_selector: commands
    params: {}
- name: sql-server
  endpoint:
    path: sql-server
    method: GET
    data_selector: commands
    params: {}
- name: stash
  endpoint:
    path: stash
    method: GET
    data_selector: commands
    params: {}
- name: status
  endpoint:
    path: status
    method: GET
    data_selector: commands
    params: {}
- name: table
  endpoint:
    path: table
    method: GET
    data_selector: commands
    params: {}
- name: tag
  endpoint:
    path: /tag
    method: POST
    data_selector: tags
    params: {}
- name: version
  endpoint:
    path: /version
    method: GET
    data_selector: version_info
    params: {}
- name: replication_status
  endpoint:
    path: /replication/status
    method: GET
    data_selector: status
- name: employees
  endpoint:
    path: /employees
    method: POST
    data_selector: rows
    params: {}
- name: dolt_commit
  endpoint:
    path: /dolt/commit
    method: POST
    data_selector: commit_info
- name: dolt_clone
  endpoint:
    path: /dolt/clone
    method: POST
    data_selector: clone_info
- name: dolt_branches
  endpoint:
    path: /dolt_branches
    method: GET
    data_selector: records
- name: dolt_remote_branches
  endpoint:
    path: /dolt_remote_branches
    method: GET
    data_selector: records
- name: dolt_docs
  endpoint:
    path: /dolt_docs
    method: GET
    data_selector: records
- name: dolt_procedures
  endpoint:
    path: /dolt_procedures
    method: GET
    data_selector: records
- name: dolt_query_catalog
  endpoint:
    path: /dolt_query_catalog
    method: GET
    data_selector: records
- name: dolt_remotes
  endpoint:
    path: /dolt_remotes
    method: GET
    data_selector: records
- name: dolt_backups
  endpoint:
    path: /dolt_backups
    method: GET
    data_selector: records
- name: dolt_schemas
  endpoint:
    path: /dolt_schemas
    method: GET
    data_selector: data
    params: {}
- name: dolt_tags
  endpoint:
    path: /dolt_tags
    method: GET
    data_selector: data
    params: {}
- name: dolt_branch_activity
  endpoint:
    path: /dolt_branch_activity
    method: GET
    data_selector: data
    params: {}
- name: dolt_statistics
  endpoint:
    path: /dolt_statistics
    method: GET
    data_selector: data
    params: {}
- name: dolt_commit_diff_$TABLENAME
  endpoint:
    path: /dolt_commit_diff_$TABLENAME
    method: GET
    data_selector: data
    params: {}
- name: dolt_commits
  endpoint:
    path: /dolt_commits
    method: GET
    data_selector: data
    params: {}
- name: dolt_diff
  endpoint:
    path: /dolt_diff
    method: GET
    data_selector: data
    params: {}
- name: dolt_column_diff
  endpoint:
    path: /dolt_column_diff
    method: GET
    data_selector: records
- name: dolt_diff_$TABLENAME
  endpoint:
    path: /dolt_diff_$TABLENAME
    method: GET
    data_selector: records
- name: dolt_conflicts
  endpoint:
    path: /dolt_conflicts
    method: GET
    data_selector: records
- name: dolt_schema_conflicts
  endpoint:
    path: /dolt_schema_conflicts
    method: GET
    data_selector: records
- name: dolt_merge_status
  endpoint:
    path: /dolt_merge_status
    method: GET
    data_selector: records
- name: dolt_stashes
  endpoint:
    path: /dolt_stashes
    method: GET
    data_selector: records
- name: dolt_status
  endpoint:
    path: /dolt_status
    method: GET
    data_selector: records
- name: dolt_workspace_$TABLENAME
  endpoint:
    path: /dolt_workspace_$TABLENAME
    method: GET
    data_selector: records
- name: dolt_constraint_violations
  endpoint:
    path: /dolt_constraint_violations
    method: GET
    data_selector: records
- name: dolt_constraint_violations_$TABLENAME
  endpoint:
    path: /dolt_constraint_violations_$TABLENAME
    method: GET
    data_selector: records
- name: dolt_ignore
  endpoint:
    path: /dolt_ignore
    method: GET
    data_selector: records
- name: dolt_tests
  endpoint:
    path: /dolt_tests
    method: GET
    data_selector: records
- name: dolt_rebase
  endpoint:
    path: /dolt_rebase
    method: GET
    data_selector: records
- name: active_branch
  endpoint:
    path: /active_branch
    method: GET
    data_selector: results
- name: dolt_merge_base
  endpoint:
    path: /dolt_merge_base
    method: GET
    data_selector: results
- name: dolt_hashof
  endpoint:
    path: /dolt_hashof
    method: GET
    data_selector: results
- name: dolt_hashof_table
  endpoint:
    path: /dolt_hashof_table
    method: GET
    data_selector: results
- name: dolt_hashof_db
  endpoint:
    path: /dolt_hashof_db
    method: GET
    data_selector: results
- name: dolt_version
  endpoint:
    path: /dolt_version
    method: GET
    data_selector: results
- name: has_ancestor
  endpoint:
    path: /has_ancestor
    method: GET
    data_selector: results
- name: last_insert_uuid
  endpoint:
    path: /last_insert_uuid
    method: GET
    data_selector: results
- name: dolt_diff
  endpoint:
    path: /dolt/diff
    method: GET
    data_selector: result
    params: {}
- name: dolt_diff_stat
  endpoint:
    path: /dolt/diff_stat
    method: GET
    data_selector: result
    params: {}
- name: dolt_diff_summary
  endpoint:
    path: /dolt/diff_summary
    method: GET
    data_selector: result
    params: {}
- name: DOLT_LOG
  endpoint:
    path: /dolt_log
    method: GET
    data_selector: commit_log
    params: {}
- name: DOLT_PATCH
  endpoint:
    path: /dolt_patch
    method: GET
    data_selector: patch_statements
    params: {}
- name: DOLT_PREVIEW_MERGE_CONFLICTS_SUMMARY
  endpoint:
    path: /dolt_preview_merge_conflicts_summary
    method: GET
    data_selector: merge_conflict_summary
    params: {}
- name: DOLT_PREVIEW_MERGE_CONFLICTS
  endpoint:
    path: /DOLT_PREVIEW_MERGE_CONFLICTS
    method: GET
    data_selector: conflicts
    params: {}
- name: DOLT_REFLOG
  endpoint:
    path: /DOLT_REFLOG
    method: GET
    data_selector: reflog
    params: {}
- name: dolt_schema_diff
  endpoint:
    path: /dolt_schema_diff
    method: GET
    data_selector: records
    params: {}
- name: dolt_query_diff
  endpoint:
    path: /dolt_query_diff
    method: GET
    data_selector: records
    params: {}
- name: dolt_branch_status
  endpoint:
    path: /dolt_branch_status
    method: GET
    data_selector: records
    params: {}
- name: dolt_tests
  endpoint:
    path: /dolt_tests
    method: SELECT
    data_selector: '*'
    params: {}
- name: DOLT_ADD
  endpoint:
    path: /sql-reference/version-control/dolt-sql-procedures#dolt_add
    method: CALL
    data_selector: status
    params: {}
- name: DOLT_BACKUP
  endpoint:
    path: /sql-reference/version-control/dolt-sql-procedures#dolt_backup
    method: CALL
    data_selector: status
    params: {}
- name: DOLT_BRANCH
  endpoint:
    path: /sql-reference/version-control/dolt-sql-procedures#dolt_branch
    method: CALL
    data_selector: status
    params: {}
- name: dolt_merge
  endpoint:
    path: /dolt/merge
    method: CALL
    data_selector: merge
    params: {}
- name: dolt_pull
  endpoint:
    path: /dolt/pull
    method: CALL
    data_selector: pull
    params: {}
- name: dolt_purge_dropped_databases
  endpoint:
    path: /dolt/purge_dropped_databases
    method: CALL
    data_selector: purge_dropped_databases
    params: {}
- name: dolt_push
  endpoint:
    path: /dolt/push
    method: CALL
    data_selector: push
    params: {}
- name: dolt_rebase
  endpoint:
    path: /dolt/rebase
    method: CALL
    data_selector: rebase
    params: {}
- name: dolt_remote
  endpoint:
    path: /dolt/remote
    method: CALL
    data_selector: remote
    params: {}
- name: dolt_reset
  endpoint:
    path: /dolt/reset
    method: CALL
    data_selector: reset
    params: {}
- name: dolt_revert
  endpoint:
    path: /dolt/revert
    method: CALL
    data_selector: revert
    params: {}
- name: DOLT_RM
  endpoint:
    path: /DOLT_RM
    method: CALL
    data_selector: status
    params: {}
- name: DOLT_STASH
  endpoint:
    path: /DOLT_STASH
    method: CALL
    data_selector: status
    params: {}
- name: DOLT_TAG
  endpoint:
    path: /DOLT_TAG
    method: CALL
    data_selector: status
    params: {}
- name: DOLT_UNDROP
  endpoint:
    path: /DOLT_UNDROP
    method: CALL
    data_selector: status
    params: {}
- name: DOLT_UPDATE_COLUMN_TAG
  endpoint:
    path: /DOLT_UPDATE_COLUMN_TAG
    method: CALL
    data_selector: status
    params: {}
- name: DOLT_VERIFY_CONSTRAINTS
  endpoint:
    path: /DOLT_VERIFY_CONSTRAINTS
    method: CALL
    data_selector: violations
    params: {}
- name: dolt_stats_restart
  endpoint:
    path: /dolt_stats_restart
    method: CALL
    data_selector: status
    params: {}
- name: dolt_stats_stop
  endpoint:
    path: /dolt_stats_stop
    method: CALL
    data_selector: status
    params: {}
- name: dolt_stats_purge
  endpoint:
    path: /dolt_stats_purge
    method: CALL
    data_selector: status
    params: {}
- name: dolt_stats_once
  endpoint:
    path: /dolt_stats_once
    method: CALL
    data_selector: status
    params: {}
- name: dolt_stats_wait
  endpoint:
    path: /dolt_stats_wait
    method: CALL
    data_selector: status
    params: {}
- name: dolt_stats_gc
  endpoint:
    path: /dolt_stats_gc
    method: CALL
    data_selector: status
    params: {}
- name: dolt_stats_flush
  endpoint:
    path: /dolt_stats_flush
    method: CALL
    data_selector: status
    params: {}
- name: dolt_stats_info
  endpoint:
    path: /dolt_stats_info
    method: CALL
    data_selector: status
    params: {}
- name: database
  endpoint:
    path: /api/v1alpha1/database
    method: POST
    data_selector: status
- name: pull_request
  endpoint:
    path: /api/v1alpha1/{owner}/{database}/pulls
    method: POST
    data_selector: status
- name: pull_request_details
  endpoint:
    path: /api/v1alpha1/{owner}/{database}/pulls/{pull_id}
    method: GET
    data_selector: status
- name: update_pull_request
  endpoint:
    path: /api/v1alpha1/{owner}/{database}/pulls/{pull_id}
    method: PATCH
    data_selector: status
- name: list_pull_requests
  endpoint:
    path: /api/v1alpha1/{owner}/{database}/pulls
    method: GET
    data_selector: status
- name: add_comment
  endpoint:
    path: /api/v1alpha1/{owner}/{database}/pulls/{pull_id}/comments
    method: POST
    data_selector: status
- name: merge_pull_request
  endpoint:
    path: /{owner}/{database}/pulls/{pull_id}/merge
    method: POST
- name: check_merge_operation_status
  endpoint:
    path: /{owner}/{database}/pulls/{pull_id}/merge
    method: GET
- name: upload_file
  endpoint:
    path: /{owner}/{database}/upload
    method: POST
- name: check_import_operation_status
  endpoint:
    path: /{owner}/{database}/upload
    method: GET
- name: create_branch
  endpoint:
    path: /{owner}/{database}/branches
    method: POST
- name: list_branches
  endpoint:
    path: /{owner}/{database}/branches
    method: GET
- name: create_tag
  endpoint:
    path: /{owner}/{database}/tags
    method: POST
- name: list_tags
  endpoint:
    path: /{owner}/{database}/tags
    method: GET
- name: releases
  endpoint:
    path: /{owner}/{database}/releases
    method: GET
    data_selector: releases
    params: {}
- name: operations
  endpoint:
    path: /users/{username}/operations
    method: GET
    data_selector: operations
    params: {}
- name: jobs
  endpoint:
    path: /{owner}/{database}/jobs
    method: GET
    data_selector: jobs
    params: {}
- name: webhook_push
  endpoint:
    path: /webhooks/push
    method: POST
    data_selector: payload
- name: webhook_pull_request
  endpoint:
    path: /webhooks/pull_request
    method: POST
    data_selector: payload
- name: webhook_branch
  endpoint:
    path: /webhooks/branch
    method: POST
    data_selector: payload
- name: transform_file_upload
  endpoint:
    path: /transform/file/upload
    method: POST
    data_selector: ''
    params: {}
- name: workspaces
  endpoint:
    path: /workspaces
    method: GET
    data_selector: workspaces
- name: dolt_diff_docs
  endpoint:
    path: /dolt_diff_docs
    method: GET
    data_selector: records
    params: {}
- name: commits
  endpoint:
    path: /commits
    method: GET
    data_selector: commits
    params: {}
- name: dolt_log
  endpoint:
    path: /dolt_log
    method: GET
    data_selector: records
    params: {}
- name: dolt_history_employees
  endpoint:
    path: /dolt_history_employees
    method: GET
    data_selector: records
    params: {}
- name: dolt_branches
  endpoint:
    path: /dolt_branches
    method: GET
    data_selector: records
    params: {}
- name: docs
  endpoint:
    path: /timsehn/docs
    method: GET
    data_selector: tables
    params: {}
- name: docs
  endpoint:
    path: /docs
    method: GET
    data_selector: records
    params: {}
- name: databases
  endpoint:
    path: /databases
    method: GET
    data_selector: databases
    params: {}
- name: tables
  endpoint:
    path: /tables
    method: GET
    data_selector: tables
    params: {}
- name: pull_requests
  endpoint:
    path: /pull_requests
    method: POST
    data_selector: pull_request
    params: {}
- name: fork
  endpoint:
    path: /api/forks
    method: POST
    data_selector: forks
    params: {}
notes:
- This API is in Alpha version.
- Dolt is a version controlled SQL database
- Dolt can be deployed as a Versioned MySQL Replica
- The host, user, password, timeout, logging info and other options can be set on
  the command line or via a config file.
- Dolt's goal is to be compliant with the MySQL dialect, with every query and statement
  that works in MySQL behaving identically in Dolt.
- Dolt's storage engine is motivated by the desire to add Git-style version control
  to databases.
- Prolly Trees were invented by the Noms team specifically for database version control.
- Dolt aims for 100% compatibility with MySQL, but there are still some gaps in supported
  syntax.
- Only the default replication channel is supported.
- We currently support only the REPLICATE_DO_TABLE and REPLICATE_IGNORE_TABLE filtering
  options.
- Uses custom commands for data import such as dolt table import
- Avoid adding foreign keys or unique indexes until after the import is completed
- Dolt is MySQL-compatible.
- Dolt generates a lot of garbage during some writes.
- Dolt is a SQL database you can fork, clone, branch, merge, push and pull just like
  a Git repository.
- Dolt can be deployed as a Versioned MySQL Replica.
- The format of patterns in dolt_ignore is a simplified version of gitignoreâ€™s patterns.
- Test queries in dolt_tests must be read-only and can only contain a single SQL statement.
- dolt_rebase is only present while an interactive rebase is in progress.
- Requires that argument values be literal values.
- If there are no conflicts in the specified table, the function returns an empty
  result set.
- DOLT_SCHEMA_DIFF() requires literal values as arguments.
- DOLT_QUERY_DIFF() may be slow for large result sets due to brute force calculation.
- DOLT_TEST_RUN() table function requires SELECT privilege for all tables used in
  test queries
- DOLT_TEST_RUN() accepts any number of arguments including wildcard '*'
- SQL procedures are provided for all imperative CLI commands.
- Running `call dolt_gc()` will break all open connections to the running server.
- The dolt_merge() procedure implicitly commits the current transaction and begins
  a new one.
- With the --hard option, the dolt_reset() procedure implicitly commits the current
  transaction and begins a new one.
- Requires setup of credentials in DoltHub for login
- In order to incorporate this change into the parent database (dolthub/corona-virus),
  we need to create a pull request.
- The database owner can now view your changes and request updates if needed.
- API tokens can be used to authenticate calls to the SQL API over Basic Authentication.
- You must include a ref name (branch, tag, commit hash, etc) when making authenticated
  calls to the SQL API using a token.
- API tokens can be used to authenticate calls to the CSV API over Basic Authentication.
  This is useful for downloading data from private databases.
- CI configuration for a DoltHub or DoltLab database is stored in the database itself.
- The primary interface for creating and editing CI configuration in a Dolt database
  is via the `dolt ci` CLI command.
- DoltHub and DoltLab >= v0.8.1 allow users to transform files before importing.
- Dolt produces diffs of schema and data.
- Conflicts signal to the user that a merge is risky.
- In the case of conflict resolution, Dolt supports two automated resolution strategies,
  ours or theirs.
- You can propose changes to a database you don't have write permissions to
- You can experiment with or adopt someone else's database for your own use case without
  making changes to the original data
errors:
- '400: Bad request. The request was invalid or could not be processed.'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'Invalid revision specified: Ensure the revisions are correct.'
- 'ERROR 1105 (HY000): this connection was established when this server performed
  an online garbage collection. this connection can no longer be used. please reconnect.'
- '401 Unauthorized: Recheck authentication details'
- '401 Unauthorized: Ensure the token is valid and included correctly.'
- 'CONFLICT (content): Merge conflict in docs'
- Automatic merge failed; fix conflicts and then commit the result.
auth_info:
  mentioned_objects:
  - authorization token
client:
  base_url: https://www.dolthub.com
  auth:
    type: apikey
    location: header
    header_name: authorization
source_metadata: null
