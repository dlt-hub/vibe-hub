resources:
- name: rdf_data
  endpoint:
    path: /services/data/v1/rdf
    method: GET
    data_selector: results
    params: {}
- name: RDF_QUAD
  endpoint:
    path: /DB/DBA/RDF_QUAD
    method: GET
    data_selector: records
    params: {}
- name: RDF_PREFIX
  endpoint:
    path: /DB/DBA/RDF_PREFIX
    method: GET
    data_selector: records
    params: {}
- name: RDF_IRI
  endpoint:
    path: /DB/DBA/RDF_IRI
    method: GET
    data_selector: records
    params: {}
- name: RDF_OBJ
  endpoint:
    path: /DB/DBA/RDF_OBJ
    method: GET
    data_selector: records
    params: {}
- name: RDF_DATATYPE
  endpoint:
    path: /DB/DBA/RDF_DATATYPE
    method: GET
    data_selector: records
    params: {}
- name: RDF_LANGUAGE
  endpoint:
    path: /DB/DBA/RDF_LANGUAGE
    method: GET
    data_selector: records
    params: {}
- name: data_import
  endpoint:
    path: /DB.DBA.TTLP
    method: POST
    data_selector: result
    params: {}
- name: data_query
  endpoint:
    path: /DB.DBA.SPARQL_EVAL
    method: POST
    data_selector: result
    params: {}
- name: RDF Insert Methods
  endpoint:
    path: /virtuoso/rdfinsertmethods/
    method: GET
- name: sparql
  endpoint:
    path: /sparql
    method: GET
    data_selector: results
    params: {}
- name: data_access
  endpoint:
    path: /services/data/vXX.X/sobjects/DataAccess
    method: GET
    data_selector: records
    params: {}
- name: sparql_query
  endpoint:
    path: /sparql
    method: GET
    data_selector: results
    params:
      service: service_uri
      query: text_of_the_query
      named_graphs: vector_of_named_graphs
- name: query_execution
  endpoint:
    path: /sparql
    method: GET
    data_selector: results
    params:
      query: SELECT * WHERE { ?s ?p ?o } LIMIT 10
- name: sparql_query
  endpoint:
    path: /sparql
    method: POST
    data_selector: results
    params: {}
- name: query
  endpoint:
    path: /oauth/sparql.vsp
    method: GET
    data_selector: results
    params:
      query: SELECT * WHERE {?s ?p ?o}
- name: SPARQL
  endpoint:
    path: /sparql
    method: GET
    data_selector: results
    params:
      format: application/sparql-results+json
- name: sparql
  endpoint:
    path: /sparql
    method: GET
- name: RDF_QUAD
  endpoint:
    path: /DB/DBA/RDF_QUAD
    method: CREATE
    data_selector: records
    params: {}
- name: RDF_PREFIX
  endpoint:
    path: /DB/DBA/RDF_PREFIX
    method: CREATE
    data_selector: records
    params: {}
- name: RDF_IRI
  endpoint:
    path: /DB/DBA/RDF_IRI
    method: CREATE
    data_selector: records
    params: {}
- name: RDF_OBJ
  endpoint:
    path: /DB/DBA/RDF_OBJ
    method: CREATE
    data_selector: records
    params: {}
- name: RDF_DATATYPE
  endpoint:
    path: /DB/DBA/RDF_DATATYPE
    method: CREATE
    data_selector: records
    params: {}
- name: RDF_LANGUAGE
  endpoint:
    path: /DB/DBA/RDF_LANGUAGE
    method: CREATE
    data_selector: records
    params: {}
- name: rdf_data
  endpoint:
    path: /services/data/vXX.X/sobjects/RDFData
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: sparql
  endpoint:
    path: /services/data/vXX.X/sobjects/SPARQL
    method: GET
    data_selector: records
    params: {}
- name: sparql
  endpoint:
    path: /sparql
    method: GET
    data_selector: results
    params:
      service: required
      query: required
      named_graphs: required
- name: sparql_query
  endpoint:
    path: /sparql
    method: GET
    data_selector: results
    params:
      query: SELECT * WHERE { ?s ?p ?o } LIMIT 10
- name: sparql_webid
  endpoint:
    path: /sparql-webid
    method: GET
- name: sparql
  endpoint:
    path: /sparql
    method: POST
    data_selector: results
    params: {}
- name: sparql_query
  endpoint:
    path: /sparql
    method: GET
    data_selector: results
    params:
      query: SELECT * WHERE {?s ?p ?o}
- name: sparql
  endpoint:
    path: /sparql
    method: GET
    data_selector: ?s ?p ?o
    params: {}
- name: sparql_query
  endpoint:
    path: /sparql
    method: GET
    data_selector: results
    params:
      format: application/sparql-results+json
notes:
- Ensure to set up OAuth2 credentials properly.
- Some data queries may return large datasets.
- Uses OAuth2 for authentication.
- Refer to specific sections for details on programmatic manipulation, creation, and
  usage of geometries.
- Starting with version
- Use this function for loading Turtle
- Use this function for loading triples from file on multiple threads
- Use this function for loading large resources when transactional integrity is not
  important
- Use this function to get dictionary of triples in 'long valmode'
- For loading RDF/XML, the best way is to split the data to be loaded into multiple
  streams and load these in parallel
- Supports SPARQL Insert/Update with POST and retrieval with GET.
- Uses OAuth2 with refresh token — requires setup of connected app in OpenLink
- Some objects may return nulls in deeply nested fields
- SPARQL endpoint supports both GET and POST requests.
- Uses obsolete MIME types for interoperability with clients developed before current
  SPARQL protocol versions.
- SPARQL-SSL is alias of SPARQL-WebID.
- Short queries are supported with GET method.
- Queries longer than the limit can be issued using POST method.
- 'Note: this is just an example as token had expired already.'
- If the cartridges package is not installed, the path '/proxy/rdf/' is used for the
  Sponger Proxy URI Service.
- The old pattern for the Sponger Proxy URI Service, '/proxy/', is now deprecated.
- The SPARQL endpoint offers an Excel MIME type output option.
- The SPARQL endpoint also offers a RDF+JSON output option.
- The SPARQL endpoint also offers a JSON/P output option.
- Uses OAuth2 with refresh token — requires setup of connected app in api
- The current implementation does not support some SPARQL features such as Unicode
  characters in names and comments inside SPARQL queries.
- Virtuoso implements some extensions to SPARQL including SPARUL statements.
- MaxSortedTopRows = 40000 sets a threshold for sorted rows.
- To prevent the error on execution, leverage the use of subqueries.
- OpenLink,Virtuoso,da
- Certain aspects of VAL require properly configured SSL endpoints for /val/api and
  /DAV.
- VAL provides VAL.DBA.setup_val_host() which allows to create the necessary vhosts
  for a given host.
- Both /sparql and /sparql-graph-crud endpoints use the same SPARQL user account.
- Virtuoso supports some obsolete variants of standard MIME types.
- Strict checking of void variables can raise an error if variable declarations are
  missing.
- Short queries are supported using GET method.
- Queries longer than the limit must use POST method.
- Uses OAuth2 with refresh token
- Token had expired already
- The endpoint supports SPARQL queries.
- If the cartridges_dav.vad VAD package is not installed, then the path '/proxy/rdf/'
  is used for the Sponger Proxy URI Service.
- The SPARQL endpoint offers Excel MIME type output option.
- The SPARQL endpoint also offers RDF+JSON output option.
- The SPARQL endpoint accepts a 'callback' URL parameter for JSON/P output.
errors:
- '400 Bad Request: Check the request format and parameters.'
- '401 Unauthorized: Verify access token and permissions.'
- '500 Internal Server Error: Contact support for server issues.'
- '201 Created: Resource created successfully.'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- Error messages returned from the service are returned as XML documents, using the
  MIME type application/xml.
- 'SP031: Variable ''y'' is used in the query result set but not assigned'
- '401 Unauthorized: Recheck OAuth credentials'
- 'HttpException: 500 SPARQL Request Failed'
- 'Virtuoso 22023 Error SR353: Sorted TOP clause specifies more than 41000 rows to
  sort.'
- Error messages returned from the service are returned as XML documents.
- 'SP031: SPARQL compiler: Variable ''y'' is used in the query result set but not
  assigned'
- '200 OK: Successful response'
- '401 Unauthorized: Check authentication credentials'
- Not permitted to pass URL query string parameters to the proxy when using URL style.
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: https://virtuoso.openlinksw.com
  auth:
    type: oauth2
    flow: refresh_token
    token_url: https://virtuoso.openlinksw.com/services/oauth2/token
    client_id: '{{ dlt.secrets[''virtuoso_client_id''] }}'
    client_secret: '{{ dlt.secrets[''virtuoso_client_secret''] }}'
    refresh_token: '{{ dlt.secrets[''virtuoso_refresh_token''] }}'
    location: header
    header_name: Authorization
  headers:
    Accept: application/json
source_metadata: null
