resources:
- name: accountValues
  endpoint:
    path: /accountValues
    method: GET
    data_selector: values
- name: portfolio
  endpoint:
    path: /portfolio
    method: GET
    data_selector: values
- name: positions
  endpoint:
    path: /positions
    method: GET
    data_selector: values
- name: trades
  endpoint:
    path: /trades
    method: GET
    data_selector: values
- name: openTrades
  endpoint:
    path: /openTrades
    method: GET
    data_selector: trades
- name: orders
  endpoint:
    path: /orders
    method: GET
    data_selector: trades
- name: openOrders
  endpoint:
    path: /openOrders
    method: GET
    data_selector: trades
- name: fills
  endpoint:
    path: /fills
    method: GET
    data_selector: fills
- name: executions
  endpoint:
    path: /executions
    method: GET
    data_selector: fills
- name: ticker
  endpoint:
    path: /ticker
    method: GET
    data_selector: tickers
- name: tickers
  endpoint:
    path: /tickers
    method: GET
    data_selector: tickers
- name: pendingTickers
  endpoint:
    path: /pendingTickers
    method: GET
    data_selector: pendingTickers
- name: realtimeBars
  endpoint:
    path: /realtimeBars
    method: GET
    data_selector: reqId2Subscriber
- name: newsTicks
  endpoint:
    path: /newsTicks
    method: GET
    data_selector: newsTicks
- name: newsBulletins
  endpoint:
    path: /newsBulletins
    method: GET
    data_selector: msgId2NewsBulletin
- name: reqRealTimeBars
  endpoint:
    path: /reqRealTimeBars
    method: GET
    data_selector: bars
- name: reqHistoricalData
  endpoint:
    path: /reqHistoricalData
    method: GET
    data_selector: bars
- name: reqHistoricalSchedule
  endpoint:
    path: /reqHistoricalSchedule
    method: GET
    data_selector: schedule
- name: reqHistoricalTicks
  endpoint:
    path: /reqHistoricalTicks
    method: GET
    data_selector: ticks
- name: reqMarketDataType
  endpoint:
    path: /reqMarketDataType
    method: POST
    data_selector: marketDataType
- name: reqMktData
  endpoint:
    path: /reqMktData
    method: GET
    data_selector: ticker
- name: reqMktDepth
  endpoint:
    path: /reqMktDepth
    method: GET
    data_selector: marketDepth
- name: reqHistogramData
  endpoint:
    path: /reqHistogramData
    method: GET
    data_selector: histogramData
- name: reqFundamentalData
  endpoint:
    path: /reqFundamentalData
    method: GET
    data_selector: fundamentalData
- name: reqScannerData
  endpoint:
    path: /reqScannerData
    method: GET
    data_selector: scanData
- name: reqScannerSubscription
  endpoint:
    path: /reqScannerSubscription
    method: GET
    data_selector: scannerData
- name: news_providers
  endpoint:
    path: /api/news/providers
    method: GET
    data_selector: providers
- name: news_article
  endpoint:
    path: /api/news/article
    method: GET
    data_selector: article
- name: historical_news
  endpoint:
    path: /api/news/historical
    method: GET
    data_selector: historicalNews
- name: scanner_parameters
  endpoint:
    path: /api/scanner/parameters
    method: GET
    data_selector: scannerParameters
- name: scanner_subscription
  endpoint:
    path: /api/scanner/subscription
    method: POST
    data_selector: subscription
- name: open_orders
  endpoint:
    path: /reqAllOpenOrdersAsync
    method: GET
- name: completed_orders
  endpoint:
    path: /reqCompletedOrdersAsync
    method: GET
- name: executions
  endpoint:
    path: /reqExecutionsAsync
    method: GET
- name: positions
  endpoint:
    path: /reqPositionsAsync
    method: GET
- name: contract_details
  endpoint:
    path: /reqContractDetailsAsync
    method: GET
- name: matching_symbols
  endpoint:
    path: /reqMatchingSymbolsAsync
    method: GET
- name: market_rule
  endpoint:
    path: /reqMarketRuleAsync
    method: GET
- name: historical_data
  endpoint:
    path: /reqHistoricalDataAsync
    method: GET
- name: historical_schedule
  endpoint:
    path: /reqHistoricalScheduleAsync
    method: GET
- name: historical_ticks
  endpoint:
    path: /reqHistoricalTicksAsync
    method: GET
- name: head_time_stamp
  endpoint:
    path: /reqHeadTimeStampAsync
    method: GET
- name: smart_components
  endpoint:
    path: /reqSmartComponentsAsync
    method: GET
- name: mkt_depth_exchanges
  endpoint:
    path: /reqMktDepthExchangesAsync
    method: GET
- name: histogram_data
  endpoint:
    path: /reqHistogramDataAsync
    method: GET
- name: fundamental_data
  endpoint:
    path: /reqFundamentalDataAsync
    method: GET
- name: scanner_data
  endpoint:
    path: /reqScannerDataAsync
    method: GET
- name: scanner_parameters
  endpoint:
    path: /reqScannerParametersAsync
    method: GET
- name: implied_volatility
  endpoint:
    path: /calculateImpliedVolatilityAsync
    method: GET
- name: option_price
  endpoint:
    path: /calculateOptionPriceAsync
    method: GET
- name: sec_def_opt_params
  endpoint:
    path: /reqSecDefOptParamsAsync
    method: GET
- name: news_providers
  endpoint:
    path: /reqNewsProvidersAsync
    method: GET
- name: news_article
  endpoint:
    path: /reqNewsArticleAsync
    method: GET
- name: historical_news
  endpoint:
    path: /reqHistoricalNewsAsync
    method: GET
- name: request_FA
  endpoint:
    path: /requestFAAsync
    method: GET
- name: wsh_meta_data
  endpoint:
    path: /getWshMetaDataAsync
    method: GET
- name: wsh_event_data
  endpoint:
    path: /getWshEventDataAsync
    method: GET
- name: user_info
  endpoint:
    path: /reqUserInfoAsync
    method: GET
- name: Client
  endpoint:
    path: /api/client
    method: GET
    data_selector: records
    params: {}
- name: Order
  endpoint:
    path: /api/order
    method: GET
    data_selector: orders
    params: {}
- name: Stock
  endpoint:
    path: /api/contract/Stock
    method: GET
- name: Option
  endpoint:
    path: /api/contract/Option
    method: GET
- name: Future
  endpoint:
    path: /api/contract/Future
    method: GET
- name: ContFuture
  endpoint:
    path: /api/contract/ContFuture
    method: GET
- name: Forex
  endpoint:
    path: /api/contract/Forex
    method: GET
- name: Index
  endpoint:
    path: /api/contract/Index
    method: GET
- name: CFD
  endpoint:
    path: /api/contract/CFD
    method: GET
- name: Commodity
  endpoint:
    path: /api/contract/Commodity
    method: GET
- name: Bond
  endpoint:
    path: /api/contract/Bond
    method: GET
- name: FuturesOption
  endpoint:
    path: /api/contract/FuturesOption
    method: GET
- name: MutualFund
  endpoint:
    path: /api/contract/MutualFund
    method: GET
- name: Warrant
  endpoint:
    path: /api/contract/Warrant
    method: GET
- name: Bag
  endpoint:
    path: /api/contract/Bag
    method: GET
- name: Crypto
  endpoint:
    path: /api/contract/Crypto
    method: GET
- name: ContractDescription
  endpoint:
    path: /api/contractDescription
    method: GET
    data_selector: records
    params: {}
- name: ScanData
  endpoint:
    path: /api/scanData
    method: GET
    data_selector: records
    params: {}
- name: OptionChain
  endpoint:
    path: /api/optionChain
    method: GET
- name: Dividends
  endpoint:
    path: /api/dividends
    method: GET
- name: NewsArticle
  endpoint:
    path: /api/newsArticle
    method: GET
- name: HistoricalNews
  endpoint:
    path: /api/historicalNews
    method: GET
- name: NewsTick
  endpoint:
    path: /api/newsTick
    method: GET
- name: NewsBulletin
  endpoint:
    path: /api/newsBulletin
    method: GET
- name: FamilyCode
  endpoint:
    path: /api/familyCode
    method: GET
- name: SmartComponent
  endpoint:
    path: /api/smartComponent
    method: GET
- name: ConnectionStats
  endpoint:
    path: /api/connectionStats
    method: GET
- name: BarDataList
  endpoint:
    path: /api/barDataList
    method: GET
- name: RealTimeBarList
  endpoint:
    path: /api/realTimeBarList
    method: GET
- name: ScanDataList
  endpoint:
    path: /api/scanDataList
    method: GET
- name: FundamentalRatios
  endpoint:
    path: /api/fundamentalRatios
    method: GET
- name: managedAccounts
  endpoint:
    path: /managedAccounts
    method: GET
    data_selector: accounts
    params: {}
- name: accountValues
  endpoint:
    path: /accountValues
    method: GET
    data_selector: accountValues
    params:
      account: ''
- name: accountSummary
  endpoint:
    path: /accountSummary
    method: GET
    data_selector: accountSummary
    params:
      account: ''
- name: portfolio
  endpoint:
    path: /portfolio
    method: GET
    data_selector: portfolioItems
    params:
      account: ''
- name: positions
  endpoint:
    path: /positions
    method: GET
    data_selector: positions
    params:
      account: ''
- name: pnl
  endpoint:
    path: /pnl
    method: GET
    data_selector: pnlItems
    params:
      account: ''
      modelCode: ''
- name: trades
  endpoint:
    path: /trades
    method: GET
    data_selector: trades
    params: {}
- name: openTrades
  endpoint:
    path: /openTrades
    method: GET
    data_selector: openTrades
    params: {}
- name: orders
  endpoint:
    path: /orders
    method: GET
    data_selector: orders
    params: {}
- name: openOrders
  endpoint:
    path: /openOrders
    method: GET
    data_selector: openOrders
    params: {}
- name: fills
  endpoint:
    path: /fills
    method: GET
    data_selector: fills
    params: {}
- name: executions
  endpoint:
    path: /executions
    method: GET
    data_selector: executions
    params: {}
- name: reqCurrentTime
  endpoint:
    path: /api/currentTime
    method: GET
    data_selector: datetime
- name: reqAccountUpdates
  endpoint:
    path: /api/accountUpdates
    method: GET
    data_selector: account
- name: reqOpenOrders
  endpoint:
    path: /api/openOrders
    method: GET
    data_selector: orders
- name: reqHistoricalData
  endpoint:
    path: /reqHistoricalData
    method: GET
    data_selector: records
    params: {}
- name: reqHistoricalSchedule
  endpoint:
    path: /reqHistoricalSchedule
    method: GET
    data_selector: records
    params: {}
- name: reqHistoricalTicks
  endpoint:
    path: /reqHistoricalTicks
    method: GET
    data_selector: records
    params: {}
- name: reqMktData
  endpoint:
    path: /reqMktData
    method: GET
    data_selector: records
    params: {}
- name: reqTickByTickData
  endpoint:
    path: /reqTickByTickData
    method: GET
    data_selector: records
    params: {}
- name: reqSmartComponents
  endpoint:
    path: /reqSmartComponents
    method: GET
    data_selector: records
    params: {}
- name: reqMktDepth
  endpoint:
    path: /reqMktDepth
    method: GET
    data_selector: records
    params: {}
- name: reqHistogramData
  endpoint:
    path: /reqHistogramData
    method: POST
    data_selector: HistogramData
    params: {}
- name: reqFundamentalData
  endpoint:
    path: /reqFundamentalData
    method: POST
    data_selector: fundamentalData
    params: {}
- name: reqScannerData
  endpoint:
    path: /reqScannerData
    method: POST
    data_selector: ScanDataList
    params: {}
- name: reqNewsProviders
  endpoint:
    path: /reqNewsProviders
    method: GET
    data_selector: NewsProvider
    params: {}
- name: reqHistoricalNews
  endpoint:
    path: /reqHistoricalNews
    method: GET
    data_selector: HistoricalNews
    params: {}
- name: wsh_meta_data
  endpoint:
    path: /reqWshMetaData
    method: GET
    data_selector: meta
- name: wsh_event_data
  endpoint:
    path: /reqWshEventData
    method: GET
    data_selector: events
- name: user_info
  endpoint:
    path: /reqUserInfo
    method: GET
    data_selector: user_info
- name: reqFundamentalData
  endpoint:
    path: /reqFundamentalDataAsync
    method: GET
    data_selector: Awaitable
- name: reqScannerData
  endpoint:
    path: /reqScannerDataAsync
    method: GET
    data_selector: ScanDataList
- name: reqScannerParameters
  endpoint:
    path: /reqScannerParametersAsync
    method: GET
    data_selector: Awaitable
- name: calculateImpliedVolatility
  endpoint:
    path: /calculateImpliedVolatilityAsync
    method: GET
    data_selector: Optional
- name: calculateOptionPrice
  endpoint:
    path: /calculateOptionPriceAsync
    method: GET
    data_selector: Optional
- name: reqSecDefOptParams
  endpoint:
    path: /reqSecDefOptParamsAsync
    method: GET
    data_selector: Awaitable
- name: reqNewsProviders
  endpoint:
    path: /reqNewsProvidersAsync
    method: GET
    data_selector: Awaitable
- name: reqNewsArticle
  endpoint:
    path: /reqNewsArticleAsync
    method: GET
    data_selector: Awaitable
- name: reqHistoricalNews
  endpoint:
    path: /reqHistoricalNewsAsync
    method: GET
    data_selector: Optional
- name: requestFA
  endpoint:
    path: /requestFAAsync
    method: GET
    data_selector: Awaitable
- name: getWshMetaData
  endpoint:
    path: /getWshMetaDataAsync
    method: GET
    data_selector: str
- name: getWshEventData
  endpoint:
    path: /getWshEventDataAsync
    method: GET
    data_selector: str
- name: reqUserInfo
  endpoint:
    path: /reqUserInfoAsync
    method: GET
    data_selector: Awaitable
- name: reqGlobalCancel
  endpoint:
    path: /reqGlobalCancel
    method: GET
    data_selector: response
- name: reqMarketDataType
  endpoint:
    path: /reqMarketDataType
    method: GET
    data_selector: response
- name: reqPositions
  endpoint:
    path: /reqPositions
    method: GET
    data_selector: response
- name: reqAccountSummary
  endpoint:
    path: /reqAccountSummary
    method: GET
    data_selector: response
- name: reqPositionsMulti
  endpoint:
    path: /reqPositionsMulti
    method: GET
    data_selector: response
- name: reqAccountUpdatesMulti
  endpoint:
    path: /reqAccountUpdatesMulti
    method: GET
    data_selector: response
- name: reqSecDefOptParams
  endpoint:
    path: /reqSecDefOptParams
    method: GET
    data_selector: response
- name: reqSoftDollarTiers
  endpoint:
    path: /reqSoftDollarTiers
    method: GET
    data_selector: response
- name: reqFamilyCodes
  endpoint:
    path: /reqFamilyCodes
    method: GET
    data_selector: response
- name: reqMatchingSymbols
  endpoint:
    path: /reqMatchingSymbols
    method: GET
    data_selector: response
- name: reqMktDepthExchanges
  endpoint:
    path: /reqMktDepthExchanges
    method: GET
    data_selector: response
- name: reqSmartComponents
  endpoint:
    path: /reqSmartComponents
    method: GET
    data_selector: response
- name: reqNewsProviders
  endpoint:
    path: /reqNewsProviders
    method: GET
    data_selector: response
- name: reqHistoricalNews
  endpoint:
    path: /reqHistoricalNews
    method: GET
    data_selector: response
- name: reqHeadTimeStamp
  endpoint:
    path: /reqHeadTimeStamp
    method: GET
    data_selector: response
- name: reqHistogramData
  endpoint:
    path: /reqHistogramData
    method: GET
    data_selector: response
- name: reqMarketRule
  endpoint:
    path: /reqMarketRule
    method: GET
    data_selector: response
- name: reqPnL
  endpoint:
    path: /reqPnL
    method: GET
    data_selector: response
- name: reqHistoricalTicks
  endpoint:
    path: /reqHistoricalTicks
    method: GET
    data_selector: response
- name: reqTickByTickData
  endpoint:
    path: /reqTickByTickData
    method: GET
    data_selector: response
- name: reqCompletedOrders
  endpoint:
    path: /reqCompletedOrders
    method: GET
    data_selector: response
- name: reqWshMetaData
  endpoint:
    path: /reqWshMetaData
    method: GET
    data_selector: response
- name: reqWshEventData
  endpoint:
    path: /reqWshEventData
    method: GET
    data_selector: response
- name: reqUserInfo
  endpoint:
    path: /reqUserInfo
    method: GET
    data_selector: response
- name: Order
  endpoint:
    path: /api/v1/order
    method: GET
    data_selector: orders
    params: {}
- name: Contract
  endpoint:
    path: /api/contract
    method: GET
    data_selector: records
    params: {}
- name: Stock
  endpoint:
    path: /api/stock
    method: GET
    data_selector: records
    params: {}
- name: Option
  endpoint:
    path: /api/option
    method: GET
    data_selector: records
    params: {}
- name: Future
  endpoint:
    path: /api/future
    method: GET
    data_selector: records
    params: {}
- name: Future
  endpoint:
    path: /contract/Future
    method: GET
    data_selector: dict
    params: {}
- name: ContFuture
  endpoint:
    path: /contract/ContFuture
    method: GET
    data_selector: dict
    params: {}
- name: Forex
  endpoint:
    path: /contract/Forex
    method: GET
    data_selector: dict
    params: {}
- name: Index
  endpoint:
    path: /contract/Index
    method: GET
    data_selector: dict
    params: {}
- name: CFD
  endpoint:
    path: /contract/CFD
    method: GET
    data_selector: dict
    params: {}
- name: Commodity
  endpoint:
    path: /contract/Commodity
    method: GET
    data_selector: dict
    params: {}
- name: Bond
  endpoint:
    path: /contract/Bond
    method: GET
    data_selector: dict
    params: {}
- name: FuturesOption
  endpoint:
    path: /contract/FuturesOption
    method: GET
    data_selector: dict
    params: {}
- name: ticker
  endpoint:
    path: /api/ticker
    method: GET
    data_selector: ticks
    params: {}
- name: domBids
  endpoint:
    path: /api/v1/domBids
    method: GET
    data_selector: records
- name: domAsks
  endpoint:
    path: /api/v1/domAsks
    method: GET
    data_selector: records
- name: domTicks
  endpoint:
    path: /api/v1/domTicks
    method: GET
    data_selector: records
- name: ScannerSubscription
  endpoint:
    path: /scanner/subscription
    method: GET
    data_selector: records
    params: {}
- name: Execution
  endpoint:
    path: /execution
    method: GET
    data_selector: records
    params: {}
- name: CommissionReport
  endpoint:
    path: /commission/report
    method: GET
    data_selector: records
    params: {}
- name: TickAttribLast
  endpoint:
    path: /ib_insync/objects/TickAttribLast
    method: GET
    data_selector: records
    params: {}
- name: HistogramData
  endpoint:
    path: /ib_insync/objects/HistogramData
    method: GET
    data_selector: records
    params: {}
- name: NewsProvider
  endpoint:
    path: /ib_insync/objects/NewsProvider
    method: GET
    data_selector: records
    params: {}
- name: DepthMktDataDescription
  endpoint:
    path: /ib_insync/objects/DepthMktDataDescription
    method: GET
    data_selector: records
    params: {}
- name: PnL
  endpoint:
    path: /ib_insync/objects/PnL
    method: GET
    data_selector: records
    params: {}
- name: TradeLogEntry
  endpoint:
    path: /ib_insync/objects/TradeLogEntry
    method: GET
    data_selector: records
    params: {}
- name: PnLSingle
  endpoint:
    path: /ib_insync/objects/PnLSingle
    method: GET
    data_selector: records
    params: {}
- name: PnLSingle
  endpoint:
    path: /api/PnLSingle
    method: GET
    data_selector: dict
    params: {}
- name: HistoricalSession
  endpoint:
    path: /api/HistoricalSession
    method: GET
    data_selector: dict
    params: {}
- name: HistoricalSchedule
  endpoint:
    path: /api/HistoricalSchedule
    method: GET
    data_selector: dict
    params: {}
- name: WshEventData
  endpoint:
    path: /api/WshEventData
    method: GET
    data_selector: dict
    params: {}
- name: AccountValue
  endpoint:
    path: /api/AccountValue
    method: GET
    data_selector: dict
    params: {}
- name: TickData
  endpoint:
    path: /api/TickData
    method: GET
    data_selector: dict
    params: {}
- name: HistoricalTick
  endpoint:
    path: /api/HistoricalTick
    method: GET
    data_selector: dict
    params: {}
- name: HistoricalTickBidAsk
  endpoint:
    path: /api/HistoricalTickBidAsk
    method: GET
    data_selector: dict
    params: {}
- name: HistoricalTickLast
  endpoint:
    path: /api/HistoricalTickLast
    method: GET
    data_selector: dict
    params: {}
- name: TickByTickAllLast
  endpoint:
    path: /api/TickByTickAllLast
    method: GET
    data_selector: dict
    params: {}
- name: Dividends
  endpoint:
    path: /api/v1/dividends
    method: GET
    data_selector: dividends
    params: {}
- name: NewsArticle
  endpoint:
    path: /api/v1/newsArticles
    method: GET
    data_selector: newsArticles
    params: {}
- name: HistoricalNews
  endpoint:
    path: /api/v1/historicalNews
    method: GET
    data_selector: historicalNews
    params: {}
- name: NewsTick
  endpoint:
    path: /api/v1/newsTicks
    method: GET
    data_selector: newsTicks
    params: {}
- name: NewsBulletin
  endpoint:
    path: /api/v1/newsBulletins
    method: GET
    data_selector: newsBulletins
    params: {}
- name: FamilyCode
  endpoint:
    path: /api/v1/familyCodes
    method: GET
    data_selector: familyCodes
    params: {}
- name: SmartComponent
  endpoint:
    path: /api/v1/smartComponents
    method: GET
    data_selector: smartComponents
    params: {}
- name: ConnectionStats
  endpoint:
    path: /api/v1/connectionStats
    method: GET
    data_selector: connectionStats
    params: {}
- name: BarDataList
  endpoint:
    path: /api/v1/barDataList
    method: GET
    data_selector: barDataList
    params: {}
- name: RealTimeBarList
  endpoint:
    path: /api/v1/realTimeBarList
    method: GET
    data_selector: realTimeBarList
    params: {}
- name: ScanDataList
  endpoint:
    path: /api/v1/scanDataList
    method: GET
    data_selector: scanDataList
    params: {}
- name: FlexReport
  endpoint:
    path: /flexreport
    method: GET
notes:
- Python 3.6 or higher required.
- Ensure API port is enabled and 'Download open orders on connection' is checked.
- Python 3.6 or higher is required.
- A running TWS or IB Gateway application (version 1023 or higher) is needed.
- This API is primarily blocking and requires careful handling of request times.
- Some methods are blocking and may require proper handling.
- Uses OAuth2 with refresh token â€” requires setup of connected app in api
- Supports various market data types.
- User code may not block for too long
- This API requires a valid IB account and permissions.
- Some methods may block until a response is received.
- Wall Street Horizon subscription is required.
- Automatic request throttling.
- Parameters for Contract include secType, conId, symbol, lastTradeDateOrContractMonth,
  strike, right, multiplier, exchange, primaryExchange, currency, localSymbol, tradingClass,
  includeExpired, secIdType, secId, description, issuerId, comboLegsDescrip, comboLegs,
  deltaNeutralContract.
- Default value for includeExpired is False.
- Some objects may return nulls in deeply nested fields
- To obtain a token, login to web portal and go to Settings, then generate token.
- Not intended for use in a notebook or imperative-style code.
- Do not expect Watchdog to magically shield you from reality.
errors:
- 'asyncio.TimeoutError: Raised when the request exceeds the specified timeout.'
- 'INVALID_REQUEST: The request is invalid. Check parameters.'
- 'TIMEOUT: The request timed out. Try again later.'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'INVALID_REQUEST: Check the parameters passed to the API.'
- 'NOT_AUTHORIZED: Ensure your API keys have the right permissions.'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: http://127.0.0.1:7497
  auth:
    type: none
  headers: {}
  paginator:
    type: none
source_metadata: null
