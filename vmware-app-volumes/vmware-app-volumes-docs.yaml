resources:
- name: version
  endpoint:
    path: /version
    method: GET
    data_selector: ''
    params: {}
- name: license
  endpoint:
    path: /license
    method: GET
    data_selector: ''
    params: {}
- name: license_usage
  endpoint:
    path: /license_usage
    method: GET
    data_selector: ''
    params: {}
- name: ad_settings
  endpoint:
    path: /ad_settings
    method: GET
    data_selector: ''
    params: {}
- name: administrator
  endpoint:
    path: /administrator
    method: GET
    data_selector: ''
    params: {}
- name: machine_managers
  endpoint:
    path: /machine_managers
    method: GET
    data_selector: ''
    params: {}
- name: machine_manager_details
  endpoint:
    path: /machine_managers/id
    method: GET
    data_selector: ''
    params: {}
- name: datastores
  endpoint:
    path: /datastores
    method: GET
    data_selector: ''
    params: {}
- name: appstacks
  endpoint:
    path: /appstacks
    method: GET
    data_selector: records
    params: {}
- name: appstack_details
  endpoint:
    path: /appstacks/{id}
    method: GET
    data_selector: records
    params: {}
- name: appstack_applications
  endpoint:
    path: /appstacks/{id}/applications
    method: GET
    data_selector: records
    params: {}
- name: appstack_files
  endpoint:
    path: /appstacks/{id}/files
    method: GET
    data_selector: records
    params: {}
- name: appstack_assignments
  endpoint:
    path: /appstacks/{id}/assignments
    method: GET
    data_selector: records
    params: {}
- name: appstack_attachments
  endpoint:
    path: /appstacks/{id}/attachments
    method: GET
    data_selector: records
    params: {}
- name: writables
  endpoint:
    path: /writables
    method: GET
    data_selector: records
    params: {}
- name: writable_details
  endpoint:
    path: /writables/{id}
    method: GET
    data_selector: records
    params: {}
- name: attachments
  endpoint:
    path: /attachments
    method: GET
    data_selector: records
    params: {}
- name: assignments
  endpoint:
    path: /assignments
    method: GET
    data_selector: records
    params: {}
- name: applications
  endpoint:
    path: /applications
    method: GET
    data_selector: records
    params: {}
- name: online_entities
  endpoint:
    path: /online_entities
    method: GET
    data_selector: records
    params: {}
- name: users
  endpoint:
    path: /users
    method: GET
    data_selector: records
    params: {}
- name: computers
  endpoint:
    path: /computers
    method: GET
    data_selector: records
    params: {}
- name: groups
  endpoint:
    path: /groups
    method: GET
    data_selector: records
    params: {}
- name: org_units
  endpoint:
    path: /org_units
    method: GET
    data_selector: records
    params: {}
- name: machines
  endpoint:
    path: /machines
    method: GET
    data_selector: records
    params: {}
- name: storages
  endpoint:
    path: /storages
    method: GET
    data_selector: records
    params: {}
- name: storage_groups
  endpoint:
    path: /storage_groups
    method: GET
    data_selector: records
    params: {}
- name: pending_activities
  endpoint:
    path: /pending_activities
    method: GET
    data_selector: records
    params: {}
- name: activity_logs
  endpoint:
    path: /activity_logs
    method: GET
    data_selector: records
    params: {}
- name: system_messages
  endpoint:
    path: /system_messages
    method: GET
    data_selector: records
    params: {}
- name: server_logs
  endpoint:
    path: /activity/server_tail
    method: GET
    data_selector: records
    params: {}
- name: deployment_settings
  endpoint:
    path: /deploy
    method: POST
    data_selector: settings
- name: AppStacks
  endpoint:
    path: /path/to/AppStacks
    method: GET
    data_selector: AppStacks
    params: {}
- name: Assignments
  endpoint:
    path: /path/to/Assignments
    method: GET
    data_selector: Assignments
    params: {}
- name: App Volumes Event Notifier
  endpoint:
    path: /api/v1/event-notifier
    method: POST
    data_selector: events
    params: {}
- name: VMware Horizon View
  endpoint:
    path: /api/v1/horizon-view
    method: GET
    data_selector: views
    params: {}
- name: App Volumes DB
  endpoint:
    path: /services/data/vXX.X/sobjects/AppVolumesDB
    method: GET
    data_selector: records
    params: {}
- name: events
  endpoint:
    path: /vmware/horizon/view/events
    method: GET
    data_selector: records
    params: {}
- name: brain_surgery_anniversary
  endpoint:
    path: /2019/10/14/brain-surgery-one-year-out/
    method: GET
    data_selector: post
    params: {}
- name: vmware_access_point_deployment_utility
  endpoint:
    path: /2015/11/20/vmware-access-point-deployment-utility/
    method: GET
    data_selector: post
    params: {}
- name: add_restriction_tags_vmware_horizon
  endpoint:
    path: /2015/09/14/add-restriction-tags-to-vmware-horzion-6-hosted-applications/
    method: GET
    data_selector: post
    params: {}
- name: syncfiles_utility
  endpoint:
    path: /2015/01/06/syncfiles-utility/
    method: GET
    data_selector: post
    params: {}
- name: vmware_horizon_view_autoconnection_utility
  endpoint:
    path: /2014/09/14/vmware-horizon-view-autoconnection-utility/
    method: GET
    data_selector: post
    params: {}
- name: raspberry_pi_horizon_view_client
  endpoint:
    path: /2013/08/18/raspberry-pi-as-a-horizon-view-client/
    method: GET
    data_selector: post
    params: {}
- name: horizon_mirage_settings_utility
  endpoint:
    path: /2013/08/18/vmware-mirage-settings-utility/
    method: GET
    data_selector: post
    params: {}
- name: horizon_view_events_notifier
  endpoint:
    path: /2013/08/18/horizon-view-events-notifier/
    method: GET
    data_selector: post
    params: {}
- name: events
  endpoint:
    path: /events
    method: GET
    data_selector: events
    params: {}
- name: event
  endpoint:
    path: /path/to/event
    method: GET
    data_selector: event
    params: {}
- name: FLEX Image
  endpoint:
    path: /rvm/flexdownloads/win7x64flex.tar
    method: GET
- name: AutoConnection Utility
  endpoint:
    path: /AutoConnectionUtility
    method: GET
    data_selector: updates
notes:
- The App Volumes API is NOT Officially Supported by VMware
- A user must be defined as an App Volumes Administrator in order to use the API
- Uses OAuth2 with refresh token — requires setup of connected app in api
- Uses a standard HTTP(S) protocol for communication with View Connection Server.
- OVF Tool is case sensitive for some of the objects in the vCenter locator string.
- Access Point is not properly accepting multiple DNS entries.
- The same process is used for troubleshooting. If you notice the appliance is not
  responding and is CPU pegged, it is likely that an invalid parameter was passed
  in.
- App Volumes Agent installed and registered on the client
- Users must have read-only access to the App Volumes SQL Database
- ADDING TAGS TO HOSTED APPLICATIONS IS NOT CURRENTLY SUPPORTED! This post and application
  are just showing what is possible – use at your own risk!
- Requires setup of connected app in VMware.
- Uses Windows Authentication or SQL Authentication for database connection
- Default DB name for App Volumes is svmanager_production
- This utility is now available for download as a VMware Fling
- Added pool filtering and Client IP address output
- Only error events are alerted on by default, but can choose to be notified on Warnings
  and Audit failures.
- Application polls every 60 seconds for new events to alert on.
- Connecting to DB with ver1.6 is OK.
- The table that contains the event database data is called 'event'.
- This is only needed if you are using a certificate from a CA that is internal and
  not a generally trusted certificate like one from GoDaddy, Entrust, Etc.
- DO NOT use the self-signed certificate that Mirage installs. It does not have a
  fully qualified host name in the Subject Alternative Name file and will NOT work
  with FLEX
- Ensure the VM is encrypted and users need the password to use the FLEX VM.
- If you have connectivity or certificate issues you may see the message below. Double-check
  the certificates are trusted and also that you have the proper path to the restrictions
  management server.
- Both copy/paste and drag/drop policies require a system reboot to change the setting.
- Uses self-signed certificate and requires trust setup in the host machine.
- Uses .NET Framework 4.0 and requires VMware View Client to function.
- Blast did not exist when I wrote the tool :-). No plans to update, but I will put
  the source code on my github soon – github.com/chrisdhalstead
errors:
- 'Invalid username or password: make sure the username (domain\username) and the
  password are correct and try again.'
- You must be in the Administrators group to Login
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- Invalid Virtual Center credentials
- Invalid IP address format
- Password does not meet complexity requirements
- 'Locator does not refer to an object: vi://chris%40halstead.net@192.168.1.12:443/Home
  Datacenter/host/192.168.1.11'
- '401 Unauthorized: Check API token.'
- '404 Not Found: Verify endpoint URL.'
- Invalid object name 'ViewEvents.dbo.event'.
- 'Invalid Image file: Ensure the .VMX file is selected correctly.'
auth_info:
  mentioned_objects: []
client:
  base_url: https://chrisdhalstead.net
  auth:
    type: oauth2
source_metadata: null
