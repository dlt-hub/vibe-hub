resources:
- name: sgcluster
  endpoint:
    path: /stackgres/namespaces/{namespace}/sgclusters/{name}
    method: GET
- name: sginstanceprofile
  endpoint:
    path: /stackgres/namespaces/{namespace}/sginstanceprofiles/{name}
    method: GET
- name: sgpgconfig
  endpoint:
    path: /stackgres/namespaces/{namespace}/sgpgconfigs/{name}
    method: GET
- name: sgpoolconfig
  endpoint:
    path: /stackgres/namespaces/{namespace}/sgpoolconfigs/{name}
    method: GET
- name: sgbackupconfig
  endpoint:
    path: /stackgres/namespaces/{namespace}/sgbackupconfigs/{name}
    method: GET
- name: sgdistributedlogs
  endpoint:
    path: /stackgres/namespaces/{namespace}/sgdistributedlogs/{name}
    method: GET
- name: sgbackup
  endpoint:
    path: /stackgres/namespaces/{namespace}/sgbackups/{name}
    method: GET
- name: auth
  endpoint:
    path: /stackgres/auth/login
    method: POST
- name: sgdbops
  endpoint:
    path: /stackgres/namespaces/{namespace}/sgdbops/{name}
    method: GET
- name: address_standardizer
  endpoint:
    path: /address_standardizer
    method: GET
- name: address_standardizer_data_us
  endpoint:
    path: /address_standardizer_data_us
    method: GET
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: date_series
  endpoint:
    path: /generate_date_series
    method: GET
    data_selector: records
- name: hstore_plpython2u
  endpoint:
    path: /hstore_plpython2u
    method: GET
- name: process
  endpoint:
    path: /process
    method: GET
- name: pg_stat_monitor
  endpoint:
    path: /pg_stat_monitor
    method: GET
    data_selector: data
    params: {}
- name: PostgreSQL 14
  endpoint:
    path: /doc/1.0/reference/crd/sgpgconfig/
    method: GET
    data_selector: versions
- name: PostgreSQL 13
  endpoint:
    path: /doc/1.0/reference/crd/sgpgconfig/
    method: GET
    data_selector: versions
- name: PostgreSQL 12
  endpoint:
    path: /doc/1.0/reference/crd/sgpgconfig/
    method: GET
    data_selector: versions
- name: Patroni
  endpoint:
    path: /doc/1.0/reference/crd/sgpgconfig/
    method: GET
    data_selector: versions
- name: WAL-G
  endpoint:
    path: /doc/1.0/reference/crd/sgpgconfig/
    method: GET
    data_selector: versions
- name: PgBouncer
  endpoint:
    path: /doc/1.0/reference/crd/sgpgconfig/
    method: GET
    data_selector: versions
- name: Postgres Exporter
  endpoint:
    path: /doc/1.0/reference/crd/sgpgconfig/
    method: GET
    data_selector: versions
- name: Envoy
  endpoint:
    path: /doc/1.0/reference/crd/sgpgconfig/
    method: GET
    data_selector: versions
- name: Fluent-Bit
  endpoint:
    path: /doc/1.0/reference/crd/sgpgconfig/
    method: GET
    data_selector: versions
- name: Fluentd
  endpoint:
    path: /doc/1.0/reference/crd/sgpgconfig/
    method: GET
    data_selector: versions
- name: PostgreSQL 12
  endpoint:
    path: /path/to/postgresql12
    method: GET
    data_selector: versions
    params: {}
- name: PostgreSQL 11
  endpoint:
    path: /path/to/postgresql11
    method: GET
    data_selector: versions
    params: {}
- name: Patroni
  endpoint:
    path: /path/to/patroni
    method: GET
    data_selector: versions
    params: {}
- name: WAL-G
  endpoint:
    path: /path/to/wal-g
    method: GET
    data_selector: versions
    params: {}
- name: PgBouncer
  endpoint:
    path: /path/to/pgbouncer
    method: GET
    data_selector: versions
    params: {}
- name: Postgres Exporter
  endpoint:
    path: /path/to/postgres-exporter
    method: GET
    data_selector: versions
    params: {}
- name: Envoy
  endpoint:
    path: /path/to/envoy
    method: GET
    data_selector: versions
    params: {}
- name: Fluent-Bit
  endpoint:
    path: /path/to/fluent-bit
    method: GET
    data_selector: versions
    params: {}
- name: Fluentd
  endpoint:
    path: /path/to/fluentd
    method: GET
    data_selector: versions
    params: {}
- name: adminpack
  endpoint:
    path: /docs/12/contrib.html
    method: GET
    data_selector: extensions
    params: {}
- name: aggs_for_arrays
  endpoint:
    path: /docs/12/contrib.html
    method: GET
    data_selector: extensions
    params: {}
- name: aggs_for_vecs
  endpoint:
    path: /docs/12/contrib.html
    method: GET
    data_selector: extensions
    params: {}
- name: amcheck
  endpoint:
    path: /docs/12/contrib.html
    method: GET
    data_selector: extensions
    params: {}
- name: autoinc
  endpoint:
    path: /docs/12/contrib.html
    method: GET
    data_selector: extensions
    params: {}
- name: pgmemento
  endpoint:
    path: https://github.com/pgMemento/pgMemento.git
    method: GET
- name: pgrowlocks
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: pgstattuple
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: pgtap
  endpoint:
    path: https://github.com/theory/pgtap.git
    method: GET
- name: pgtt
  endpoint:
    path: https://github.com/darold/pgtt
    method: GET
- name: pgwaffles
  endpoint:
    path: ''
    method: GET
- name: plperl
  endpoint:
    path: https://www.postgresql.org/docs/12/xplang.html
    method: GET
- name: plperlu
  endpoint:
    path: https://www.postgresql.org/docs/12/xplang.html
    method: GET
- name: plpgsql
  endpoint:
    path: https://www.postgresql.org/docs/12/xplang.html
    method: GET
- name: plpgsql_check
  endpoint:
    path: git://github.com/okbob/plpgsql_check.git
    method: GET
- name: plpython3u
  endpoint:
    path: https://www.postgresql.org/docs/12/xplang.html
    method: GET
- name: pltcl
  endpoint:
    path: https://www.postgresql.org/docs/12/xplang.html
    method: GET
- name: pltclu
  endpoint:
    path: https://www.postgresql.org/docs/12/xplang.html
    method: GET
- name: postgis
  endpoint:
    path: https://postgis.net
    method: GET
- name: postgis_raster
  endpoint:
    path: https://postgis.net
    method: GET
- name: postgis_tiger_geocoder
  endpoint:
    path: https://postgis.net
    method: GET
- name: postgis_topology
  endpoint:
    path: https://postgis.net
    method: GET
- name: postgres_fdw
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: q3c
  endpoint:
    path: https://github.com/segasai/q3c
    method: GET
- name: qgres
  endpoint:
    path: git://github.com/decibel/Qgres.git
    method: GET
- name: refint
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: resetsequence
  endpoint:
    path: ''
    method: GET
- name: seg
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: sequential_uuids
  endpoint:
    path: https://github.com/tvondra/sequential-uuids.git
    method: GET
- name: shacrypt
  endpoint:
    path: git://github.com/dverite/postgres-shacrypt.git
    method: GET
- name: short_ids
  endpoint:
    path: ''
    method: GET
- name: sslinfo
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: tablefunc
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: tcn
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: test_factory
  endpoint:
    path: https://github.com/BlueTreble/test_factory
    method: GET
- name: timescaledb
  endpoint:
    path: https://www.timescale.com
    method: GET
- name: timetravel
  endpoint:
    path: https://www.postgresql.org/docs/11/contrib.html
    method: GET
- name: tsm_system_rows
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: tsm_system_time
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: unaccent
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: unnest_ordinality
  endpoint:
    path: https://github.com/pgexperts/unnest_ordinality.git
    method: GET
- name: uuid-ossp
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: vacuum_utils
  endpoint:
    path: https://github.com/asotolongo/vacuum_utils.git
    method: GET
- name: vector
  endpoint:
    path: https://github.com/ankane/pgvector.git
    method: GET
- name: xml2
  endpoint:
    path: https://www.postgresql.org/docs/12/contrib.html
    method: GET
- name: address_standardizer_data_us
  endpoint:
    path: https://postgis.net
    method: GET
- name: SGCluster
  endpoint:
    path: /api/v1/sgcluster
    method: POST
    data_selector: spec
    params: {}
- name: stackgres-operator
  endpoint:
    path: /install
    method: POST
    data_selector: status
    params: {}
- name: SGCluster
  endpoint:
    path: /api/v1/sgclusters
    method: POST
    data_selector: metadata.name
    params: {}
- name: SGInstanceProfile
  endpoint:
    path: /api/v1/sginstanceprofiles
    method: GET
    data_selector: items
    params: {}
- name: SGPostgresConfig
  endpoint:
    path: /apis/stackgres.io/v1/namespaces/demo/sgpgconfigs/pgconfig1
    method: GET
    data_selector: spec
    params: {}
- name: SGPoolingConfig
  endpoint:
    path: /apis/stackgres.io/v1/namespaces/demo/sgpoolconfigs/poolconfig1
    method: GET
    data_selector: spec
    params: {}
- name: SGBackupConfig
  endpoint:
    path: /api/v1/sgbackupconfig
    method: POST
    data_selector: spec
    params: {}
- name: backup_config
  endpoint:
    path: /api/v1/sgbackupconfig
    method: POST
    data_selector: spec
    params: {}
- name: distributedlogs
  endpoint:
    path: /api/v1/sgdistributedlogs
    method: POST
    data_selector: status
    params: {}
- name: SGCluster
  endpoint:
    path: /api/v1/sgcluster
    method: POST
    data_selector: metadata
    params: {}
- name: SGDistributedLogs
  endpoint:
    path: /api/v1/sgdistributedlogs
    method: POST
    data_selector: spec
    params: {}
- name: sgcluster
  endpoint:
    path: /api/v1/sgcluster
    method: POST
    data_selector: metadata
    params: {}
- name: logs
  endpoint:
    path: /logs
    method: GET
    data_selector: logs
    params: {}
- name: SGDbOps
  endpoint:
    path: /api/v1/sgdbops
    method: POST
    data_selector: status
    params: {}
- name: PGLogs
  endpoint:
    path: /logs
    method: GET
    data_selector: logs
    params: {}
- name: cluster
  endpoint:
    path: /v1beta1/projects/my-project/zones/us-west1/clusters/stackgres
    method: GET
    data_selector: clusters
    params: {}
- name: kubernetes_cluster
  endpoint:
    path: /beta/container/projects/my-project/clusters/stackgres
    method: POST
    data_selector: cluster
    params:
      zone: us-west1
      cluster_version: 1.20.10-gke.1600
      machine_type: e2-standard-4
      num_nodes: 3
      disk_size: 100
      node_locations: us-west1-a,us-west1-b,us-west1-c
      auto_upgrade: false
- name: cluster
  endpoint:
    path: /create-cluster
    method: POST
    data_selector: cluster
    params:
      name: stackgres
      region: us-west-2
      node_type: m5.large
      node_volume_size: 20
      nodes: 3
      version: '1.21'
- name: EKS Cluster
  endpoint:
    path: /create-cluster
    method: POST
    data_selector: cluster_details
    params:
      cluster_name: stackgres
      kubernetes_version: '1.21'
      zone: us-west-2
      machine_type: m5.large
      number_of_nodes: 3
      disk_size: 20GB
- name: kubernetes_cluster
  endpoint:
    path: /kubernetes/clusters
    method: POST
    data_selector: cluster
    params:
      region: nyc1
      size: s-4vcpu-8gb
      count: 3
      version: 1.19.6-do.0
- name: k8s_cluster
  endpoint:
    path: /kubernetes
    method: POST
    data_selector: cluster
    params:
      region: nyc1
      node_size: s-4vcpu-8gb
      cluster_name: stackgres
      cluster_nodes: 3
      k8s_version: 1.19.6
- name: backup_configuration
  endpoint:
    path: /doc/1.0/reference/crd/sgbackup/#configuration
    method: GET
    data_selector: configurations.backupconfig
    params: {}
- name: storage_classes
  endpoint:
    path: /install/prerequisites/storage/
    method: GET
    data_selector: storage_classes
    params: {}
- name: available_storage_devices
  endpoint:
    path: /blockdevices.openebs.io
    method: GET
    data_selector: blockdevices
    params: {}
- name: backup_configuration
  endpoint:
    path: /doc/1.0/reference/crd/sgbackup/#configuration
    method: GET
    data_selector: configurations.backupconfig
    params: {}
- name: storage_options
  endpoint:
    path: /doc/1.0/install/prerequisites/backups/
    method: GET
    data_selector: storage
    params: {}
- name: SGBackupConfig
  endpoint:
    path: /doc/1.0/reference/crd/sgbackupconfig/
    method: POST
    data_selector: spec
    params: {}
- name: SGBackupConfig
  endpoint:
    path: /doc/1.0/reference/crd/sgbackupconfig/
    method: GET
    data_selector: backupconfig
    params: {}
- name: SGBackupConfig
  endpoint:
    path: /doc/1.0/reference/crd/sgbackupconfig/
    method: GET
    data_selector: records
    params: {}
- name: SGBackupConfig
  endpoint:
    path: /doc/1.0/reference/crd/sgbackupconfig/
    method: GET
    data_selector: records
- name: SGBackupConfig
  endpoint:
    path: /doc/1.0/reference/crd/sgbackupconfig/
    method: POST
    data_selector: spec
    params: {}
- name: SGBackupConfig
  endpoint:
    path: /doc/1.0/reference/crd/sgbackupconfig/
    method: POST
    data_selector: spec
    params: {}
- name: prometheus_server
  endpoint:
    path: /prometheus-operator-server.monitoring.svc.cluster.local
    method: GET
- name: alert_manager
  endpoint:
    path: /prometheus-operator-alertmanager.monitoring.svc.cluster.local
    method: GET
- name: grafana
  endpoint:
    path: /grafana.monitoring.svc.cluster.local
    method: GET
- name: SGCluster
  endpoint:
    path: /api/v1/sgclusters
    method: GET
    data_selector: items
    params: {}
- name: monitoring
  endpoint:
    path: /monitoring
    method: GET
    data_selector: services
    params: {}
- name: SGCluster
  endpoint:
    path: /api/v1/stackgres
    method: POST
    data_selector: metadata
    params: {}
- name: SGInstanceProfile
  endpoint:
    path: /api/v1/namespaces/my-cluster/sginstanceprofiles
    method: POST
    data_selector: status
- name: SGPostgresConfig
  endpoint:
    path: /api/v1/namespaces/my-cluster/sgpostgresconfigs
    method: POST
    data_selector: status
- name: SGPoolingConfig
  endpoint:
    path: /api/v1/namespaces/my-cluster/sgpoolingconfigs
    method: POST
    data_selector: status
- name: SGBackupConfig
  endpoint:
    path: /api/v1/namespaces/my-cluster/sgbackupconfigs
    method: POST
    data_selector: status
- name: SGInstanceProfile
  endpoint:
    path: /api/v1/sginstanceprofile
    method: POST
    data_selector: spec
- name: SGPostgresConfig
  endpoint:
    path: /api/v1/sgpostgresconfig
    method: POST
    data_selector: spec
- name: SGPoolingConfig
  endpoint:
    path: /api/v1/sgpoolingconfig
    method: POST
    data_selector: spec
- name: SGBackupConfig
  endpoint:
    path: /api/v1/sgbackupconfig
    method: POST
    data_selector: spec
- name: SGDistributedLogs
  endpoint:
    path: /api/v1/stackgres.io/distributedlogs
    method: POST
    data_selector: spec
    params: {}
- name: SGCluster
  endpoint:
    path: /api/v1/stackgres.io/sgclusters
    method: POST
    data_selector: spec
    params: {}
- name: SGDistributedLogs
  endpoint:
    path: /api/v1/sgdistributedlogs
    method: POST
- name: SGCluster
  endpoint:
    path: /api/v1/sgcluster
    method: POST
- name: adminui
  endpoint:
    path: /adminui
    method: GET
    data_selector: parameters
    params: {}
- name: grafana
  endpoint:
    path: /grafana
    method: GET
    data_selector: parameters
    params: {}
- name: prometheus
  endpoint:
    path: /prometheus
    method: GET
    data_selector: parameters
    params: {}
- name: certificates
  endpoint:
    path: /certificates
    method: GET
    data_selector: parameters
    params: {}
- name: configuration_cluster
  endpoint:
    path: /configuration/cluster
    method: GET
    data_selector: parameters
    params: {}
- name: adminui
  endpoint:
    params:
      authentication.user: admin
      authentication.password: Autogenerated random value
- name: grafana
  endpoint:
    params:
      grafana.autoEmbed: 'true'
      grafana.schema: http
      grafana.user: admin
      grafana.password: prom-operator
      grafana.datasourceName: Prometheus
      grafana.dashboardId: '9628'
- name: prometheus
  endpoint:
    params:
      prometheus.allowAutobind: 'true'
- name: certificates
  endpoint:
    params:
      cert.autoapprove: 'true'
      cert.key: 'true'
      cert.crt: 'true'
      cert.jwtRsaKey: 'true'
      cert.jwtRsaPub: 'true'
- name: cluster
  endpoint:
    params:
      cluster.create: 'true'
      cluster.postgres.version: latest
      cluster.instances: 1
      cluster.sgInstanceProfile: size-xs
      cluster.configurations.sgPostgresConfig: postgresconfig
      cluster.configurations.sgPoolingConfig: poolingconfig
      cluster.configurations.sgBackupConfig: backupconfig
      cluster.prometheusAutobind: 'true'
      configurations.create: 'true'
- name: postgresServices
  endpoint:
    params:
      cluster.postgresServices.primary.enabled: 'true'
      cluster.postgresServices.primary.type: ClusterIP
      cluster.postgresServices.replicas.enabled: 'true'
      cluster.postgresServices.replicas.type: ClusterIP
- name: instanceProfiles
  endpoint:
    path: /instanceProfiles
    method: GET
- name: backupconfig
  endpoint:
    path: /backupconfig
    method: GET
- name: cluster_connection
  endpoint:
    path: /doc/1.0/administration/cluster/connection/
    method: GET
    data_selector: details
    params: {}
- name: cluster_pods
  endpoint:
    path: /cluster/pods
    method: GET
    data_selector: pods
    params: {}
- name: instance_profiles
  endpoint:
    path: /instanceProfiles
    method: GET
    data_selector: profiles
    params: {}
- name: postgres_configuration
  endpoint:
    path: /configurations/postgresconfig
    method: GET
    data_selector: postgresConfig
    params: {}
- name: pooling_configuration
  endpoint:
    path: /configurations/poolingconfig
    method: GET
    data_selector: poolingConfig
    params: {}
- name: backup_configuration
  endpoint:
    path: /configurations/backupconfig
    method: GET
    data_selector: backupConfig
    params: {}
- name: restore_configuration
  endpoint:
    path: /cluster/initialData/restore
    method: GET
    data_selector: restoreConfig
    params: {}
- name: scripts_configuration
  endpoint:
    path: /cluster/initialData/scripts
    method: GET
    data_selector: scriptsConfig
    params: {}
- name: primary_service
  endpoint:
    path: /services/data/vXX.X/sobjects/stackgres-primary
    method: GET
- name: replica_service
  endpoint:
    path: /services/data/vXX.X/sobjects/stackgres-replicas
    method: GET
- name: distributed_logs
  endpoint:
    path: /distributedLogs
    method: POST
    data_selector: logs
    params:
      enabled: 'false'
      create: 'true'
      persistentVolume:
        size: 5Gi
        storageClass: ''
- name: non_production_options
  endpoint:
    path: /nonProductionOptions
    method: POST
    data_selector: options
    params:
      disableClusterPodAntiAffinity: 'true'
      createMinio: 'true'
- name: SGCluster
  endpoint:
    path: /doc/1.0/reference/crd/sgcluster/
    method: GET
    data_selector: spec
    params: {}
- name: primary_service
  endpoint:
    path: /primary
    method: GET
- name: replica_service
  endpoint:
    path: /replicas
    method: GET
- name: defaultpgconfig
  endpoint:
    path: /defaultpgconfig
    method: GET
    data_selector: records
- name: defaultprofile
  endpoint:
    path: /defaultprofile
    method: GET
    data_selector: records
- name: defaultpgbouncer
  endpoint:
    path: /defaultpgbouncer
    method: GET
    data_selector: records
- name: defaultbackupconfig
  endpoint:
    path: /defaultbackupconfig
    method: GET
    data_selector: records
- name: SGCluster
  endpoint:
    path: /stackgres.io/v1/SGCluster
    method: GET
- name: pgbouncer_stats
  endpoint:
    path: /pgbouncer/stats
    method: GET
    data_selector: stats
- name: pgbouncer_pools
  endpoint:
    path: /pgbouncer/pools
    method: GET
    data_selector: pools
- name: pgbouncer_clients
  endpoint:
    path: /pgbouncer/clients
    method: GET
    data_selector: clients
- name: postgres-util
  endpoint:
    path: /
    method: GET
    data_selector: containers
    params: {}
- name: defaultpgconfig
  endpoint:
    path: /SGPostgresConfig
    method: GET
- name: defaultprofile
  endpoint:
    path: /SGInstanceProfile
    method: GET
- name: defaultpgbouncer
  endpoint:
    path: /SGPoolingConfig
    method: GET
- name: defaultbackupconfig
  endpoint:
    path: /SGBackupConfig
    method: GET
- name: SGCluster
  endpoint:
    path: /api/v1/SGCluster
    method: POST
    data_selector: extensions
    params: {}
- name: SGCluster
  endpoint:
    path: /sgcluster
    method: GET
    data_selector: items
- name: SGPostgresConfig
  endpoint:
    path: /sgpgconfig
    method: GET
    data_selector: items
- name: pgbouncer_stats
  endpoint:
    path: /pgbouncer/stats
    method: GET
    data_selector: stats
    params: {}
- name: pgbouncer_pools
  endpoint:
    path: /pgbouncer/pools
    method: GET
    data_selector: pools
    params: {}
- name: pgbouncer_clients
  endpoint:
    path: /pgbouncer/clients
    method: GET
    data_selector: clients
    params: {}
- name: SGCluster
  endpoint:
    path: /api/v1/sgcluster
    method: POST
    data_selector: extensions
- name: envoy_metrics
  endpoint:
    path: /doc/1.0/monitoring/metrics/envoy/
    method: GET
- name: postgres_exporter_metrics
  endpoint:
    path: /doc/1.0/monitoring/metrics/postgres_exporter/
    method: GET
- name: node_exporter_metrics
  endpoint:
    path: /doc/1.0/monitoring/metrics/node_exporter/
    method: GET
- name: SGCluster
  endpoint:
    path: /sgcluster
    method: GET
    data_selector: items
    params: {}
- name: SGPostgresConfig
  endpoint:
    path: /sgpgconfig
    method: GET
    data_selector: items
    params: {}
- name: envoy_metrics
  endpoint:
    path: /doc/1.0/monitoring/metrics/envoy/
    method: GET
- name: postgres_exporter_metrics
  endpoint:
    path: /doc/1.0/monitoring/metrics/postgres_exporter/
    method: GET
- name: node_exporter_metrics
  endpoint:
    path: /doc/1.0/monitoring/metrics/node_exporter/
    method: GET
- name: pg_postmaster
  endpoint:
    path: /pg_postmaster
    method: GET
    data_selector: metrics
    params: {}
- name: pg_replication
  endpoint:
    path: /pg_replication
    method: GET
    data_selector: metrics
    params: {}
- name: pg_stat_user_tables
  endpoint:
    path: /pg_stat_user_tables
    method: GET
    data_selector: metrics
    params: {}
- name: pg_statio_user_tables
  endpoint:
    path: /pg_statio_user_tables
    method: GET
    data_selector: metrics
    params: {}
- name: pg_database
  endpoint:
    path: /pg_database
    method: GET
    data_selector: metrics
    params: {}
- name: pg_archiver
  endpoint:
    path: /pg_archiver
    method: GET
    data_selector: metrics
    params: {}
- name: pg_stat_user_indexes
  endpoint:
    path: /pg_stat_user_indexes
    method: GET
    data_selector: metrics
    params: {}
- name: pg_statio_user_indexes
  endpoint:
    path: /pg_statio_user_indexes
    method: GET
    data_selector: metrics
    params: {}
- name: pg_total_relation_size
  endpoint:
    path: /pg_total_relation_size
    method: GET
    data_selector: metrics
    params: {}
- name: pg_blocked
  endpoint:
    path: /pg_blocked
    method: GET
    data_selector: metrics
    params: {}
- name: pg_oldest_blocked
  endpoint:
    path: /pg_oldest_blocked
    method: GET
    data_selector: metrics
    params: {}
- name: pg_slow
  endpoint:
    path: /pg_slow
    method: GET
    data_selector: metrics
    params: {}
- name: pg_long_running_transactions
  endpoint:
    path: /pg_long_running_transactions
    method: GET
    data_selector: metrics
    params: {}
- name: pg_vacuum
  endpoint:
    path: /pg_vacuum
    method: GET
    data_selector: metrics
    params: {}
- name: pg_vacuum_analyze
  endpoint:
    path: /pg_vacuum_analyze
    method: GET
    data_selector: metrics
    params: {}
- name: pg_stuck_idle_in_transaction
  endpoint:
    path: /pg_stuck_idle_in_transaction
    method: GET
    data_selector: metrics
    params: {}
- name: pg_txid
  endpoint:
    path: /pg_txid
    method: GET
    data_selector: metrics
    params: {}
- name: pg_database_datfrozenxid
  endpoint:
    path: /pg_database_datfrozenxid
    method: GET
    data_selector: metrics
    params: {}
- name: pg_wal_position
  endpoint:
    path: /pg_wal_position
    method: GET
    data_selector: metrics
    params: {}
- name: pg_replication_slots
  endpoint:
    path: /pg_replication_slots
    method: GET
    data_selector: metrics
    params: {}
- name: pg_stat_ssl
  endpoint:
    path: /pg_stat_ssl
    method: GET
    data_selector: metrics
    params: {}
- name: pg_table_bloat
  endpoint:
    path: /pg_table_bloat
    method: GET
    data_selector: metrics
    params: {}
- name: pg_index
  endpoint:
    path: /pg_index
    method: GET
    data_selector: metrics
    params: {}
- name: pg_replication_status
  endpoint:
    path: /pg_replication_status
    method: GET
    data_selector: metrics
    params: {}
- name: pgbouncer_show_clients
  endpoint:
    path: /pgbouncer_show_clients
    method: GET
    data_selector: metrics
    params: {}
- name: pgbouncer_show_pools
  endpoint:
    path: /pgbouncer_show_pools
    method: GET
    data_selector: metrics
    params: {}
- name: pgbouncer_show_databases
  endpoint:
    path: /pgbouncer_show_databases
    method: GET
    data_selector: metrics
    params: {}
- name: pgbouncer_show_stats_totals
  endpoint:
    path: /pgbouncer_show_stats_totals
    method: GET
    data_selector: metrics
    params: {}
- name: pgbouncer_show_stats
  endpoint:
    path: /pgbouncer_show_stats
    method: GET
    data_selector: metrics
    params: {}
- name: node_filesystem
  endpoint:
    path: /metrics/node_filesystem
    method: GET
    data_selector: metrics
- name: pg_postmaster
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_replication
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_stat_user_tables
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_statio_user_tables
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_database
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_archiver
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_stat_user_indexes
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_statio_user_indexes
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_total_relation_size
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_blocked
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_oldest_blocked
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_slow
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_long_running_transactions
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_vacuum
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_vacuum_analyze
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_stuck_idle_in_transaction
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_txid
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_database_datfrozenxid
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_wal_position
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_replication_slots
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_stat_ssl
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_table_bloat
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_index
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pg_replication_status
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pgbouncer_show_clients
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pgbouncer_show_pools
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pgbouncer_show_databases
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pgbouncer_show_stats_totals
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: pgbouncer_show_stats
  endpoint:
    path: /metrics
    method: GET
    data_selector: metrics
    params: {}
- name: file_system_metrics
  endpoint:
    path: /metrics
    method: GET
    data_selector: node_filesystem
    params: {}
- name: superuser
  endpoint:
    path: /get/secrets/-n/demo/stackgres
    method: GET
    data_selector: superuser-password
- name: replication
  endpoint:
    path: /get/secrets/-n/demo/stackgres
    method: GET
    data_selector: replication-password
- name: authenticator
  endpoint:
    path: /get/secrets/-n/demo/stackgres
    method: GET
    data_selector: authenticator-password
- name: sgcluster
  endpoint:
    path: /sgclusters.stackgres.io
    method: GET
    data_selector: items
    params: {}
- name: superuser
  endpoint:
    path: /secrets/-n/demo/stackgres
    method: GET
    data_selector: data.superuser-password
- name: replication
  endpoint:
    path: /secrets/-n/demo/stackgres
    method: GET
    data_selector: data.replication-password
- name: authenticator
  endpoint:
    path: /secrets/-n/demo/stackgres
    method: GET
    data_selector: data.authenticator-password
- name: sgcluster
  endpoint:
    path: /sgclusters.stackgres.io
    method: GET
    data_selector: items
    params:
      incremental: status.conditions
- name: SGDistributedLogs
  endpoint:
    path: /sgdistributedlogs.stackgres.io
    method: GET
- name: Change Password
  endpoint:
    path: /administration/adminui/change/password
    method: POST
- name: sgcluster
  endpoint:
    path: /sgcluster
    method: GET
    data_selector: clusters
    params: {}
- name: sgbackupconfigs
  endpoint:
    path: /sgbackupconfigs
    method: GET
    data_selector: backupConfigs
    params: {}
- name: sgbackups
  endpoint:
    path: /sgbackups
    method: GET
    data_selector: backups
    params: {}
- name: sgdistributedlogs
  endpoint:
    path: /sgdistributedlogs
    method: GET
    data_selector: distributedLogs
    params: {}
- name: sginstanceprofiles
  endpoint:
    path: /sginstanceprofiles
    method: GET
    data_selector: instanceProfiles
    params: {}
- name: sgpgconfigs
  endpoint:
    path: /sgpgconfigs
    method: GET
    data_selector: postgresConfigs
    params: {}
- name: sgpoolconfigs
  endpoint:
    path: /sgpoolconfigs
    method: GET
    data_selector: poolConfigs
    params: {}
- name: SGCluster
  endpoint:
    path: /api/v1/sgclusters
    method: GET
    data_selector: items
    params: {}
- name: sgcluster
  endpoint:
    path: /sgcluster
    method: GET
    data_selector: records
- name: sgbackupconfigs
  endpoint:
    path: /sgbackupconfigs
    method: GET
    data_selector: records
- name: sgbackups
  endpoint:
    path: /sgbackups
    method: GET
    data_selector: records
- name: sgdistributedlogs
  endpoint:
    path: /sgdistributedlogs
    method: GET
    data_selector: records
- name: sginstanceprofiles
  endpoint:
    path: /sginstanceprofiles
    method: GET
    data_selector: records
- name: sgpgconfigs
  endpoint:
    path: /sgpgconfigs
    method: GET
    data_selector: records
- name: sgpoolconfigs
  endpoint:
    path: /sgpoolconfigs
    method: GET
    data_selector: records
- name: SGCluster
  endpoint:
    path: /api/v1/sgclusters
    method: GET
    data_selector: items
    params: {}
- name: pods
  endpoint:
    path: /services/data/vXX.X/sobjects/Pods
    method: GET
    data_selector: records
    params: {}
- name: persistentVolume
  endpoint:
    path: /services/data/vXX.X/sobjects/PersistentVolume
    method: GET
    data_selector: records
    params: {}
- name: scheduling
  endpoint:
    path: /services/data/vXX.X/sobjects/Scheduling
    method: GET
    data_selector: records
    params: {}
- name: initialData
  endpoint:
    path: /services/data/vXX.X/sobjects/InitialData
    method: GET
    data_selector: records
    params: {}
- name: distributedLogs
  endpoint:
    path: /services/data/vXX.X/sobjects/DistributedLogs
    method: GET
    data_selector: records
    params: {}
- name: pods
  endpoint:
    path: /api/v1/pods
    method: GET
- name: sginstanceprofile
  endpoint:
    path: /sginstanceprofiles
    method: GET
    data_selector: items
- name: sginstanceprofile
  endpoint:
    path: /api/v1/sginstanceprofiles
    method: GET
    data_selector: items
    params: {}
- name: SGPostgresConfig
  endpoint:
    path: /api/v1/sgpgconfigs
    method: GET
    data_selector: items
    params: {}
- name: postgresql_configuration
  endpoint:
    path: /api/v1/sgpgconfigs
    method: POST
    data_selector: spec
    params: {}
- name: SGPoolingConfig
  endpoint:
    path: /v1/sgpoolconfigs
    method: GET
    data_selector: spec.pgBouncer
    params: {}
- name: pgbouncer
  endpoint:
    path: /pgbouncer/config
    method: GET
    data_selector: pgbouncer.ini
    params: {}
- name: baseBackups
  endpoint:
    path: /baseBackups
    method: GET
    data_selector: baseBackups
    params: {}
- name: storage
  endpoint:
    path: /storage
    method: GET
    data_selector: storage
    params: {}
- name: baseBackups
  endpoint:
    path: /api/v1/sgbackupconfigs
    method: GET
    data_selector: spec.baseBackups
    params: {}
- name: storage
  endpoint:
    path: /api/v1/sgbackupconfigs
    method: GET
    data_selector: spec.storage
    params: {}
- name: Azure Blob Storage
  endpoint:
    path: /path/to/azure/blob
    method: GET
    data_selector: records
    params:
      bucket: Azure Blob Storage bucket name
- name: sgbackup
  endpoint:
    path: /api/v1/sgbackups
    method: POST
    data_selector: spec
    params: {}
- name: sgbackup
  endpoint:
    path: /sgbackups
    method: GET
    data_selector: items
- name: Azure Blob Storage
  endpoint:
    path: /azure/blob/storage
    method: GET
    data_selector: records
- name: GCP Credentials
  endpoint:
    path: /gcp/credentials
    method: POST
    data_selector: secretKeySelectors
    params: {}
- name: Azure Blob Storage
  endpoint:
    path: /azure/blob/storage
    method: POST
    data_selector: azureCredentials
    params:
      bucket: bucket_name
- name: persistentVolume
  endpoint:
    path: /persistentVolume
    method: POST
    data_selector: spec
    params: {}
- name: postgresServices
  endpoint:
    path: /postgresServices
    method: POST
    data_selector: spec
    params: {}
- name: scheduling
  endpoint:
    path: /scheduling
    method: POST
    data_selector: spec
    params: {}
- name: metadata
  endpoint:
    path: /metadata
    method: POST
    data_selector: spec
    params: {}
- name: nonProductionOptions
  endpoint:
    path: /nonProductionOptions
    method: POST
    data_selector: spec
    params: {}
- name: distributed_logs
  endpoint:
    path: /api/v1/distributedlogs
    method: GET
    data_selector: spec
    params: {}
- name: sgdbops
  endpoint:
    path: /sgdbops
    method: POST
    data_selector: status
    params: {}
- name: sgdbops
  endpoint:
    path: /sgdbops
    method: GET
    data_selector: records
- name: repack_database
  endpoint:
    path: /repack
    method: POST
    data_selector: result
    params: {}
- name: major_version_upgrade
  endpoint:
    path: /upgrade/major
    method: POST
    data_selector: result
    params: {}
- name: restart
  endpoint:
    path: /restart
    method: POST
    data_selector: result
    params: {}
- name: minor_version_upgrade
  endpoint:
    path: /upgrade/minor
    method: POST
    data_selector: result
    params: {}
- name: security_upgrade
  endpoint:
    path: /upgrade/security
    method: POST
    data_selector: result
    params: {}
- name: repack_database
  endpoint:
    path: /repack/database
    method: POST
    data_selector: results
- name: major_version_upgrade
  endpoint:
    path: /upgrade/major
    method: POST
    data_selector: results
- name: restart
  endpoint:
    path: /restart
    method: POST
    data_selector: results
- name: minor_version_upgrade
  endpoint:
    path: /upgrade/minor
    method: POST
    data_selector: results
- name: security_upgrade
  endpoint:
    path: /upgrade/security
    method: POST
    data_selector: results
- name: conditions
  endpoint:
    path: /conditions
    method: GET
    data_selector: conditions
- name: benchmark_status
  endpoint:
    path: /benchmark/status
    method: GET
    data_selector: pgbench
- name: stackgres_zulu_image
  endpoint:
    path: /stackgres/stackgres-k8s/src
    method: POST
    data_selector: image
    params:
      build_type: jvm
- name: stackgres_native_image
  endpoint:
    path: /stackgres/stackgres-k8s/src
    method: POST
    data_selector: image
    params:
      build_type: native
- name: e2e_tests
  endpoint:
    path: /stackgres-k8s/e2e/run-all-tests.sh
    method: GET
    data_selector: tests
    params: {}
- name: logs_levels
  endpoint:
    path: /doc/1.0/debug/logs-levels
    method: GET
    data_selector: logs_levels
- name: sgclusters
  endpoint:
    path: /api/v1/sgclusters
    method: GET
    data_selector: items
    params: {}
- name: sgpgconfigs
  endpoint:
    path: /api/v1/sgpgconfigs
    method: GET
    data_selector: items
    params: {}
- name: sginstanceprofiles
  endpoint:
    path: /api/v1/sginstanceprofiles
    method: GET
    data_selector: items
    params: {}
- name: sgbackups
  endpoint:
    path: /api/v1/sgbackups
    method: GET
    data_selector: items
    params: {}
- name: sgbackupconfigs
  endpoint:
    path: /api/v1/sgbackupconfigs
    method: GET
    data_selector: items
    params: {}
- name: sgdistributedlogs
  endpoint:
    path: /api/v1/sgdistributedlogs
    method: GET
    data_selector: items
    params: {}
- name: sgpoolconfigs
  endpoint:
    path: /api/v1/sgpoolconfigs
    method: GET
    data_selector: items
    params: {}
- name: customresourcedefinitions
  endpoint:
    path: /api/v1/customresourcedefinitions
    method: GET
    data_selector: items
    params: {}
- name: namespaces
  endpoint:
    path: /api/v1/namespaces
    method: GET
    data_selector: items
    params: {}
- name: pods
  endpoint:
    path: /api/v1/pods
    method: GET
    data_selector: items
    params: {}
- name: secrets
  endpoint:
    path: /api/v1/secrets
    method: GET
    data_selector: items
    params: {}
- name: storageclasses
  endpoint:
    path: /api/v1/storageclasses
    method: GET
    data_selector: items
    params: {}
- name: sgclusters
  endpoint:
    path: /stackgres.io/sgclusters
    method: GET
    data_selector: resources
- name: sgpgconfigs
  endpoint:
    path: /stackgres.io/sgpgconfigs
    method: GET
    data_selector: resources
- name: sginstanceprofiles
  endpoint:
    path: /stackgres.io/sginstanceprofiles
    method: GET
    data_selector: resources
- name: sgbackups
  endpoint:
    path: /stackgres.io/sgbackups
    method: GET
    data_selector: resources
- name: sgbackupconfigs
  endpoint:
    path: /stackgres.io/sgbackupconfigs
    method: GET
    data_selector: resources
- name: sgdistributedlogs
  endpoint:
    path: /stackgres.io/sgdistributedlogs
    method: GET
    data_selector: resources
- name: sgpoolconfigs
  endpoint:
    path: /stackgres.io/sgpoolconfigs
    method: GET
    data_selector: resources
- name: customresourcedefinitions
  endpoint:
    path: /apiextensions.k8s.io/customresourcedefinitions
    method: GET
    data_selector: resources
- name: namespaces
  endpoint:
    path: /namespaces
    method: GET
    data_selector: resources
- name: pods
  endpoint:
    path: /pods
    method: GET
    data_selector: resources
- name: secrets
  endpoint:
    path: /secrets
    method: GET
    data_selector: resources
- name: storageclasses
  endpoint:
    path: /storage.k8s.io/storageclasses
    method: GET
    data_selector: resources
- name: SGDistributedLogs
  endpoint:
    path: /api/v1/sgdistributedlogs
    method: GET
    data_selector: items
    params: {}
- name: SGPostgresConfig
  endpoint:
    path: /api/v1/sgpostgresconfigs
    method: GET
    data_selector: items
    params: {}
- name: SGDistributedLogs
  endpoint:
    path: /api/v1/SGDistributedLogs
    method: GET
    data_selector: items
    params: {}
- name: SGPostgresConfig
  endpoint:
    path: /api/v1/SGPostgresConfig
    method: GET
    data_selector: items
    params: {}
- name: SGCluster
  endpoint:
    path: /api/v1/SGCluster
    method: GET
    data_selector: items
    params: {}
- name: SGCluster
  endpoint:
    path: /api/v1/sgcluster
    method: GET
    data_selector: items
    params: {}
- name: SGDistributedLogs
  endpoint:
    path: /api/v1/sgdistributedlogs
    method: GET
    data_selector: items
    params: {}
- name: SGPostgresConfig
  endpoint:
    path: /api/v1/sgpostgresconfig
    method: GET
    data_selector: items
    params: {}
- name: SGDistributedLogs
  endpoint:
    path: /api/v1/sgdistributedlogs
    method: GET
    data_selector: items
    params: {}
- name: SGPostgresConfig
  endpoint:
    path: /api/v1/sgpostgresconfig
    method: GET
    data_selector: items
    params: {}
- name: SGCluster
  endpoint:
    path: /api/v1/sgcluster
    method: GET
    data_selector: items
    params: {}
- name: ongres-db
  endpoint:
    path: /sgclusters
    method: PATCH
    data_selector: status
    params: {}
- name: SGPostgresConfig
  endpoint:
    path: /api/v1/sgpostgresconfig
    method: GET
    data_selector: items
    params: {}
- name: SGCluster
  endpoint:
    path: /api/v1/sgcluster
    method: GET
    data_selector: items
    params: {}
- name: SGDistributedLogs
  endpoint:
    path: /api/v1/sgdistributedlogs
    method: GET
    data_selector: items
    params: {}
- name: distributedlogs
  endpoint:
    path: /get/distributedlogs
    method: GET
    data_selector: logs
    params: {}
- name: ongres-db
  endpoint:
    path: /get/ongres-db
    method: GET
    data_selector: database
    params: {}
- name: SGDistributedLogs
  endpoint:
    path: /api/v1/sgdistributedlogs
    method: GET
    data_selector: records
- name: SGPostgresConfig
  endpoint:
    path: /api/v1/sgpostgresconfig
    method: GET
    data_selector: records
- name: SGCluster
  endpoint:
    path: /api/v1/sgcluster
    method: GET
    data_selector: records
- name: sgbackup
  endpoint:
    path: /sgbackups
    method: GET
    data_selector: items
- name: sgcluster
  endpoint:
    path: /sgclusters
    method: POST
    data_selector: metadata
    params: {}
- name: PostgresAlerts
  endpoint:
    path: /doc/1.0/runbooks/postgres-alerts/
    method: GET
    data_selector: alerts
    params: {}
- name: sgcluster
  endpoint:
    path: /apis/stackgres.io/v1/sgclusters
    method: PATCH
    data_selector: spec
    params: {}
- name: statefulset
  endpoint:
    path: /apis/apps/v1/namespaces/ongres-db/statefulsets/ongres-db
    method: PATCH
    data_selector: spec
    params: {}
- name: distributedlogs
  endpoint:
    path: /services/data/vXX.X/sobjects/distributedlogs
    method: GET
    data_selector: records
    params: {}
- name: ongres-db
  endpoint:
    path: /services/data/vXX.X/sobjects/ongres-db
    method: GET
    data_selector: records
    params: {}
- name: sgbackup
  endpoint:
    path: /sgbackups
    method: GET
    data_selector: items
    params: {}
- name: sgcluster
  endpoint:
    path: /sgclusters
    method: POST
    data_selector: result
    params: {}
- name: PgBouncerWaitingClients
  endpoint:
    path: /alerts/PgBouncerWaitingClients
    method: GET
    data_selector: alerts
    params: {}
- name: PgBouncerNotEnoughConnections
  endpoint:
    path: /alerts/PgBouncerNotEnoughConnections
    method: GET
    data_selector: alerts
    params: {}
- name: PgBouncerPoolFillingUp
  endpoint:
    path: /alerts/PgBouncerPoolFillingUp
    method: GET
    data_selector: alerts
    params: {}
- name: PgBouncerAvgWaitTimeTooHigh
  endpoint:
    path: /alerts/PgBouncerAvgWaitTimeTooHigh
    method: GET
    data_selector: alerts
    params: {}
- name: PgBouncerQueryTimeTooHigh
  endpoint:
    path: /alerts/PgBouncerQueryTimeTooHigh
    method: GET
    data_selector: alerts
    params: {}
- name: DatabaseLowDiskAvailable
  endpoint:
    path: /alerts/DatabaseLowDiskAvailable
    method: GET
    data_selector: alerts
    params: {}
- name: PostgresInstanceDown
  endpoint:
    path: /alerts/postgres_instance_down
    method: POST
    data_selector: alerts
    params:
      threshold: 1m
- name: PostgresExporterErrors
  endpoint:
    path: /alerts/postgres_exporter_errors
    method: POST
    data_selector: alerts
    params:
      threshold: 10m
- name: PostgresReplicationLagSizeTooLarge
  endpoint:
    path: /alerts/postgres_replication_lag_size_too_large
    method: POST
    data_selector: alerts
    params:
      threshold: 5m
- name: PostgresTooManyDeadTuples
  endpoint:
    path: /alerts/postgres_too_many_dead_tuples
    method: POST
    data_selector: alerts
    params:
      threshold: 30m
- name: PostgresInactiveReplicationSlots
  endpoint:
    path: /alerts/postgres_inactive_replication_slots
    method: POST
    data_selector: alerts
    params:
      threshold: 30m
- name: PostgresSplitBrain
  endpoint:
    path: /alerts/postgres_split_brain
    method: POST
    data_selector: alerts
    params:
      threshold: 1m
- name: PostgresTooManyConnections
  endpoint:
    path: /alerts/postgres_too_many_connections
    method: POST
    data_selector: alerts
    params:
      threshold: 5m
- name: PostgresNotEnoughConnections
  endpoint:
    path: /alerts/postgres_not_enough_connections
    method: POST
    data_selector: alerts
    params:
      threshold: 5m
- name: PostgresPromotedNode
  endpoint:
    path: /alerts/postgres_promoted_node
    method: POST
    data_selector: alerts
    params:
      threshold: 5m
- name: PgBouncerWaitingClients
  endpoint:
    path: /prometheus/rules
    method: GET
    data_selector: alerts
    params: {}
- name: PgBouncerNotEnoughConnections
  endpoint:
    path: /prometheus/rules
    method: GET
    data_selector: alerts
    params: {}
- name: PgBouncerPoolFillingUp
  endpoint:
    path: /prometheus/rules
    method: GET
    data_selector: alerts
    params: {}
- name: PgBouncerAvgWaitTimeTooHigh
  endpoint:
    path: /prometheus/rules
    method: GET
    data_selector: alerts
    params: {}
- name: PgBouncerQueryTimeTooHigh
  endpoint:
    path: /prometheus/rules
    method: GET
    data_selector: alerts
    params: {}
- name: DatabaseLowDiskAvailable
  endpoint:
    path: /prometheus/rules
    method: GET
    data_selector: alerts
    params: {}
notes:
- 'StackGres integrates the most renowned and production-tested high availability
  software for Postgres: Patroni.'
- Automated backups, lifecycle management.
- Uses OAuth2 with refresh token â€” requires setup of connected app in api
- Some objects like Contact may return nulls in deeply nested fields
- Access operating system process table.
- Provides tdigest aggregate function.
- Enables scalable inserts and complex queries for time-series data.
- Enterprise Postgres made easy. On Kubernetes
- A full-stack PostgreSQL distribution for Kubernetes, packed into an easy deployment
  unit.
- This cookies policy can be subject to modifications.
- PostgreSQL uses very conservative defaults so it must be tuned in order to achieve
  good performance of the database.
- StackGres is tuned by default to achieve better performance than using the default
  configuration.
- All extensions below are available for both PostgreSQL 11 and 12
- The pg_stat_monitor is a PostgreSQL Query Performance Monitoring tool, based on
  PostgreSQL contrib module pg_stat_statements. pg_stat_monitor provides aggregated
  statistics, client information, plan details including plan, and histogram information.
- Connecting directly through the postgres-util sidecar will grant you access with
  the postgres user.
- In general, any Kubernetes-compliant cluster from version 1.16 to 1.22 should work.
- The lab demo will be performed on an Amazon EKS cluster.
- Installation may take a few minutes.
- The Web Console uses a self-signed certificate by default.
- StackGres operates via CRDs
- The main CRD that drives Postgres cluster creation is called SGCluster
- Instance profiles are represented with the CRD SGInstanceProfile.
- You can create named t-shirt sizes for instances.
- Postgres configurations are created (and/or modified) once and then can be used
  in zero, one or multiple clusters.
- No need to repeat the configuration in every cluster.
- StackGres currently uses PgBouncer.
- Default configuration is provided by StackGres.
- Backups are created every 5 minutes. Modify the .spec.baseBackups.cronSchedule parameter
  to adjust.
- Pods contain one extra container due to the agent (FluentBit) used to export the
  logs to the distributed logs server.
- Logs will be sent to the distributed logs server, which will in turn show them in
  the Web Console.
- You may notice that in this occasion the pods contain one extra container due to
  the agent (FluentBit) used to export the logs to the distributed logs server.
- Postgres requires authentication with a superuser password retrieved from a secret.
- Installing some extensions may require a cluster restart.
- Postgres password is generated randomly when the cluster is created.
- To retrieve the Postgres password, use the secret named as the cluster with key
  'superuser-password'.
- Some Kubernetes environments requires additional configuration to be able to work
  with StackGres.
- All versions between `1.16` and `1.22` are supported.
- StackGres is not actively tested with RKE, if you find any problem, please open
  an issue.
- StackGres uses self-signed certificates to enable https on the Web UI.
- StackGres is not actively tested with RKE, if you find any problem, please open
  an issue
- The cluster creation process takes around 6 minutes.
- This process takes around 6 minutes to create a cluster.
- 'Make sure you include these parameters in order to avoid some of the next errors:'
- 'Autoscaler not working as expected: cluster-autoscaler pod didn''t trigger scale-up
  (it wouldn''t fit if a new node is added)'
- 'Volumes not assigned: N node(s) had no available volume zone'
- 'Losing data by accidentally removing a volume: reclaimPolicy: Retain will guarantee
  the volume is not deleted when a claim no longer exist.'
- Uses OpenEBS for Kubernetes Persistent Volumes
- Check the required parameters when creating a cluster
- 'When setting up a K8s environment the Storage Class by default is created with
  one main restriction and this is represented with the parameter allowVolumeExpansion:
  false this will not allow you to expand your disk when these are filling up.'
- 'It is recommended to create a new Storage Class with at least these next parameters:
  reclaimPolicy: Retain, volumeBindingMode: WaitForFirstConsumer, allowVolumeExpansion:
  true.'
- Backups are scheduled daily at 05:00 UTC
- Retention policy of 5 full-backups removed on rotation
- You can customize which devices will be discovered and managed by OpenEBS using
  the instructions provided in the documentation.
- Create a Kubernetes Secret with accessKeyId and secretAccessKey for backup configuration.
- Backups are created every 5 minutes.
- Backups are created every 5 minutes. Modify the .spec.baseBackups.cronSchedule parameter
  to adjust to your own needs.
- Modify the .spec.baseBackups.cronSchedule parameter to adjust to your own needs.
- StackGres provides more and advanced options for monitoring installation, see Operator
  installation with Helm in the Production installation session.
- StackGres only supports Prometheus integration.
- StackGres provides more and advanced options for monitoring installation.
- Only supports Prometheus integration.
- We recommend to disable all non production options in a production environment.
- In a k8s cluster with Istio installed you just only need to Annotate the StackGres
  cluster to avoid the sidecar injection from Istio.
- 'Before you create a StackGres cluster make sure you add the annotation `sidecar.istio.io/inject:
  ''false''` to the pods.'
- 'Add the annotation `sidecar.istio.io/inject: ''false''` to the pods.'
- You can specify the version adding --version 1.0.0 to the Helm command.
- The order of the CR creation has relevance for the Cluster creation.
- Each CR was assigned with its own name which you would keep to define in the cluster
  creation.
- It is not recommended to expose this Web UI to public internet without protecting
  it with some secure access bridge.
- Do not use the `--reuse-values` option from Helm, this prevent the new operator
  resources and the new values needed to be set.
- Pass your installation params using the values file or setting the values directly
  in the command using `--set-string` option.
- The main recommendation is to pass the same installation values in the upgrade command
  or using a values.yaml.
- Enabling LoadBalancer may incur additional costs depending on the cloud provider.
- 'By default following profiles are created: size-xs, size-s, size-m, size-l, size-xl,
  size-xxl'
- By default, the chart creates a storage class backed by a MinIO server.
- Backup configuration has default values set for retention, cronSchedule, and compression
- Local Connection to the database has to be through the postgres-utils sidecar.
- Access through port 5432 does not require a password, while port 6432 will ask for
  a password.
- The primary service is used to connect to the primary node.
- The replica service is used to access any of the replica nodes.
- Both services will accept connections from ports 5432 and 5433.
- By default, SGCluster services type are ClusterIP which means that the SGCluster
  will not be opened outside the k8s cluster.
- LoadBalancer is another option to expose cluster access to outside the k8s cluster.
- If you happen to be reading this, itâ€™s because you are aware of your application
  characteristics and needs for scaling connections on a production environment.
- Some applications, do not handle connection closing properly, which may require
  to add certain timeouts for releasing server connections.
- You can access through the port 5432 this will connect via unix socket directly
  to postgres instances and will not require a password or you can use the port 6432
  and the connection will be through the connection pooling tool (pgbouncer) and you
  will be asked for the password to connect.
- Some extensions need extra files to be installed and configured before they can
  be used.
- 'Important note: We strongly recommend to not manipulate the cluster with any other
  patronictl to avoid data lost or damage the entire configuration.'
- PgBouncer includes an admin database-style connection for getting valuable information
  about the pool stats.
- Check the filter documentation for more details.
- The superuserâ€™s password is the same as the postgres password
- The restart procedure will generate a service disruption.
- If any of postgresâ€™s parameters max_connections, max_prepared_transactions, max_wal_senders
  or max_locks_per_transaction are changed to a lower value than they were set the
  primary have to be restarted before any replica can be restarted.
- The upgrade procedure will generate a service disruption.
- Wait until the new instance is created and operational, receiving traffic from the
  service.
- If any of postgresâ€™s parameters `max_connections`, `max_prepared_transactions`,
  `max_wal_senders`, `max_locks_per_transaction` are changed to a lower value than
  they were set, the primary has to be restarted before any replica can be restarted.
- A minimum of 2 cores is recommended.
- A minimum of 2-4Gi of RAM is recommended.
- A minimum of 2-4Gi RAM is recommended.
- To guarantee a functional pgbouncer configuration most of the parameters specified
  in pgbouncer configuration documentation are not allowed to change and will be ignored.
- Most parameters specified in the pgbouncer configuration documentation are not allowed
  to change and will be ignored.
- Default backup schedule is at 5am UTC in a window of 1 hour.
- Backup configuration allows specifying when and how backups are performed.
- Note that StackGres generates in any case a folder per StackGres cluster, using
  the SGCluster.metadata.name.
- Backups are created automatically by the CronJob generated using the settings in
  backup configuration or manually by creating a backup CR.
- Podâ€™s persistent volume configuration includes size specified in Mebibytes, Gibibytes
  or Tebibytes.
- The database operations CR represent an operation that is performed on a cluster.
- Compiles fast but has a higher memory footprint. So it useful for local environment
  testing
- Takes long to compile but has a lower memory footprint. Is recommended for production
  workloads.
- This configuration only works if you use kind.
- E2E tests are mainly composed of POSIX complaint scripts.
- The easiest way to run the e2e scripts is by executing the stackgres-k8s/e2e/run-all-tests.sh
  file.
- E2E tests are mainly composed of POSIX complaint scripts
- The easiest way to run the e2e scripts is by executing the `stackgres-k8s/e2e/run-all-tests.sh`
  file.
- Logs levels affect logs of all the StackGres components.
- 'To set a log level for a category you can use the following command on the Operator
  deployment: kubectl set env -n stackgres deployment/stackgres-operator "APP_OPTS=-Dquarkus.log.category."$CATEGORY".level=$LOG_LEVEL".'
- To make the change effective for components of a running cluster you will have to
  restart it when the 'PendingRestart' condition of the 'SGCluster' CR becomes 'true'.
- RBAC mode must be enabled in Kubernetes for this to work.
- Permissions are denied by default.
- Before start, be sure that you have a SGCluster running that is using a SGDistributedLogs
  server.
- Remember to change the size according with your needs.
- Ensure a SGCluster is running with SGDistributedLogs server configured.
- Adjust the size of persistentVolume according to your needs.
- Assuming the disk size is over-dimensioned, and you need to perform a downsize to
  15Gi.
- 'Very important note: Do not forget the parameter `--cascade=orphan` because this
  will keep the existent pods.'
- Ensure SGCluster is running with SGDistributedLogs server.
- The restore process needs to be done in the same namespace as the cluster to be
  restored.
- This runbook will show you how to add Postgres alerts to your Prometheus installation.
- Do not forget the parameter --cascade=orphan because this will keep the existent
  pods.
- Cluster has 2 pods running.
- New pod will have the new disk size after switchover.
- Ensure metadata labels from Prometheus Rule match with the ruleSelector labels of
  your prometheus instance.
- StackGres contains PostgreSQL plus several other components from the PostgreSQL
  ecosystem.
- High Availability and automatic failover are based on Patroni.
- StackGres has been designed to run on any Kubernetes-certified platform.
- Ensure the metadata labels from your Prometheus Rule match with the ruleSelector
  labels of your prometheus instance.
errors:
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- Check if the operator was successfully deployed and is available.
- Check if the restapi was successfully deployed and is available.
- '401 Unauthorized: Ensure that the correct authentication token is provided.'
- '404 Not Found: Verify the resource path and parameters.'
- 'Autoscaler not working as expected: cluster-autoscaler pod didn''t trigger scale-up
  (it wouldn''t fit if a new node is added)'
- 'Volumes not assigned: N node(s) had no available volume zone'
- 'Losing data by accidentally removing a volume: reclaimPolicy: Retain will guarantee
  the volume is not deleted when a claim no longer exist.'
- 'pgbouncer connection error: Check if the pgbouncer service is running.'
- Refer to Cluster Restart Troubleshooting section for solutions to common issues.
- 'Currently we support following environment: kind, minikube, gke'
- 'postgres-blocklist: The postgres configuration that is trying to be created or
  update contains blocklisted parameters'
- 'postgres-major-version-mismatch: The postgres configuration that you are using
  is targeted to a different major version that the one that your cluster has.'
- 'invalid-configuration-reference: The StackGres cluster you are trying to create
  or update holds a reference to a custom resource that donâ€™t exists'
- 'default-configuration: An attempt to update or delete a default configuration has
  been detected'
- 'forbidden-configuration-deletion: You are attempting to delete a custom resource
  that cluster depends on it'
- 'forbidden-configuration-update: You are attempting to update a custom resource
  that cluster depends on it'
- 'forbidden-cluster-update: You are trying to update a cluster property that should
  not be updated'
- 'invalid-storage-class: You are trying to create a cluster using a storage class
  that doesnâ€™t exists'
- 'constraint-violation: One of the properties of the CR that you are creating or
  updating violates its syntactic rules.'
- 'forbidden-authorization: You donâ€™t have the permissions to access the Kubernetes
  resource based on the RBAC rules.'
- 'invalid-secret: You are trying to create a cluster using a secret that doesnâ€™t
  exists'
- 'extension-not-found: Any of the default or configured extensions can not be found
  in extensions repository'
- 'already-exists: The resource already exists'
- 'already-exists: A resource of same type in the same namespace and with the same
  name as the one you are trying to create already exists'
- 'forbidden-authorization: You donâ€™t have the permisions to access the Kubernetes
  resource based on the RBAC rules.'
- Check the last scrape from postgres-exporter
- Check if postgres service is up
- Check if there is a inactive replication slot
- Check if the replication lag is increasing
- Check if there are too many dead tuples
- Check if postgres connections are above 90% of max_connections
- Check if postgres available connections are less than 5
- 'StatefulSet.apps "ongres-db" is invalid: spec: Forbidden: updates to statefulset
  spec for fields other than ''replicas'', ''template'', and ''updateStrategy'' are
  forbidden.'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
  - stackgres-restapi
client:
  base_url: https://stackgres.io
  headers:
    Accept: application/json
source_metadata: null
