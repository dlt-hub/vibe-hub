resources:
- name: download_data
  endpoint:
    path: /api/v1/misc/scoreboard
    method: GET
- name: retrieve_datamap
  endpoint:
    path: /api/v1/misc/scoreboard
    method: GET
- name: retrieve_data_layouts
  endpoint:
    path: /api/v1/misc/scoreboard
    method: GET
- name: retrieve_single_data_layout
  endpoint:
    path: /api/v1/misc/scoreboard
    method: GET
- name: scoreboard
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
    params: {}
- name: scoreboard
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: completion
  endpoint:
    path: /datafeed/{feed}/completions
    method: GET
    data_selector: results
- name: campaigns
  endpoint:
    path: /datafeed/{feed}/campaigns
    method: GET
    data_selector: results
- name: scoreboard
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
    params: {}
- name: Umerge
  endpoint:
    path: /umerge
    method: POST
    data_selector: results
- name: GetQuota
  endpoint:
    path: /getQuota
    method: GET
    data_selector: quota
- name: registration_survey
  endpoint:
    path: /get/registration/survey
    method: GET
    data_selector: surveys
    params: {}
- name: list_files
  endpoint:
    path: /get/misc/scoreboard
    method: GET
    data_selector: surveys
    params: {}
- name: upload_file
  endpoint:
    path: /upload/replace/file
    method: POST
    data_selector: surveys
    params: {}
- name: list_panel_datapoints
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
    params: {}
- name: list_users
  endpoint:
    path: /users
    method: GET
    data_selector: users
    params: {}
- name: get_user
  endpoint:
    path: /users/{user}
    method: GET
    data_selector: user
    params: {}
- name: create_survey_from_template
  endpoint:
    path: /surveys
    method: POST
    data_selector: surveys
- name: copy_survey
  endpoint:
    path: /surveys/copy
    method: POST
    data_selector: surveys
- name: get_survey_information
  endpoint:
    path: /surveys/{survey}
    method: GET
    data_selector: surveys
- name: update_survey_information
  endpoint:
    path: /surveys/{survey}
    method: PUT
    data_selector: surveys
- name: retrieve_survey_audit_log
  endpoint:
    path: /surveys/{survey}/audit_log
    method: GET
    data_selector: surveys
- name: list_company_panels
  endpoint:
    path: /panels
    method: GET
    data_selector: panels
- name: get_crosstab_preferences
  endpoint:
    path: /crosstab/preferences
    method: GET
    data_selector: preferences
- name: update_crosstab_preferences
  endpoint:
    path: /crosstab/preferences
    method: PUT
    data_selector: preferences
- name: check_if_survey_can_be_archived
  endpoint:
    path: /surveys/{survey}/can_archive
    method: GET
    data_selector: surveys
- name: archive_project
  endpoint:
    path: /surveys/{survey}/archive
    method: POST
    data_selector: surveys
- name: un_archive_project
  endpoint:
    path: /surveys/{survey}/unarchive
    method: POST
    data_selector: surveys
- name: audit_log
  endpoint:
    path: /audit/log
    method: GET
    data_selector: logs
    params:
      user: string
- name: companies
  endpoint:
    path: /companies
    method: GET
    data_selector: companies
    params: {}
- name: company_preferences
  endpoint:
    path: /companies/preferences
    method: GET
    data_selector: preferences
    params:
      company: string
- name: update_company_preference
  endpoint:
    path: /companies/preferences/update
    method: POST
    data_selector: preferences
    params:
      company: string
      key: string
      value: string
- name: preference_history
  endpoint:
    path: /companies/preferences/history
    method: GET
    data_selector: history
    params:
      company: string
      key: string
- name: groups_within_company
  endpoint:
    path: /companies/groups
    method: GET
    data_selector: groups
    params:
      company: string
- name: data_retention_settings
  endpoint:
    path: /companies/data_retention
    method: GET
    data_selector: retention_settings
    params:
      company: string
- name: categories
  endpoint:
    path: /categories
    method: GET
    data_selector: categories
    params: {}
- name: surveys
  endpoint:
    path: /surveys
    method: GET
    data_selector: surveys
    params:
      company: string
      query: string
      companies: Array of arrays
      permission: string
      select: Array of strings
- name: current_surveys
  endpoint:
    path: /surveys/current
    method: GET
    data_selector: current_surveys
    params:
      permission: string
      states: Array of strings
- name: historical_list
  endpoint:
    path: /surveys/historical
    method: GET
    data_selector: historical_surveys
    params:
      permission: string
- name: archived_surveys
  endpoint:
    path: /surveys/archived
    method: GET
    data_selector: archived_surveys
    params:
      company: string
      only_unarchivable: boolean
- name: surveys
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: categories
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: categories
- name: dashboards
  endpoint:
    path: /get/misc/scoreboard
    method: GET
    data_selector: surveys
- name: update_dashboard
  endpoint:
    path: /update_dashboard
    method: POST
    data_selector: surveys
- name: delete_dashboard
  endpoint:
    path: /delete_dashboard
    method: DELETE
    data_selector: surveys
- name: get_share_link
  endpoint:
    path: /get_share_link
    method: GET
    data_selector: surveys
- name: Get planned activities
  endpoint:
    path: /get/planned/activities
    method: GET
    data_selector: surveys
- name: Purge collected data in archive
  endpoint:
    path: /purge/collected/data
    method: POST
    data_selector: surveys
- name: Get archives deletion report
  endpoint:
    path: /get/archives/deletion/report
    method: GET
    data_selector: surveys
- name: Get participant data deletion report
  endpoint:
    path: /get/participant/data/deletion/report
    method: GET
    data_selector: surveys
- name: Get archives deleted report
  endpoint:
    path: /get/archives/deleted/report
    method: GET
    data_selector: surveys
- name: Get surveys scheduled to be archived
  endpoint:
    path: /get/surveys/scheduled/to/be/archived
    method: GET
    data_selector: surveys
- name: List API Keys
  endpoint:
    path: /list/api/keys
    method: GET
    data_selector: api_keys
- name: Create API key
  endpoint:
    path: /create/api/key
    method: POST
    data_selector: api_key
- name: Rekey
  endpoint:
    path: /rekey
    method: POST
    data_selector: api_key
- name: Get
  endpoint:
    path: /get
    method: GET
    data_selector: api_key
- name: Update
  endpoint:
    path: /update
    method: PATCH
    data_selector: api_key
- name: Retire
  endpoint:
    path: /retire
    method: DELETE
    data_selector: api_key
- name: campaign_spam_reports
  endpoint:
    path: /get/campaign_spam_reports
    method: GET
    data_selector: reports
    params: {}
- name: campaign_optouts
  endpoint:
    path: /get/campaign_optouts
    method: GET
    data_selector: optouts
    params: {}
- name: campaign_bounce_backs
  endpoint:
    path: /get/campaign_bounce_backs
    method: GET
    data_selector: bounce_backs
    params: {}
- name: campaign_blocks
  endpoint:
    path: /get/campaign_blocks
    method: GET
    data_selector: blocks
    params: {}
- name: check_bounce_backs
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: get_participant_sources
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: create_signed_links
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: verify_signed_links
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: get_tags
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: create_tag
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: update_tag
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: delete_tag
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: purge_tag_cache
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: send_api_to_email
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: send_api_to_sftp
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: send_api_to_slack
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: scoreboard
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
    params: {}
- name: get_campaign_list
  endpoint:
    path: /campaigns
    method: GET
    data_selector: campaigns
- name: create_shared_list
  endpoint:
    path: /shared-lists
    method: POST
    data_selector: sharedList
- name: get_suppression_lists
  endpoint:
    path: /suppression-lists
    method: GET
    data_selector: suppressionLists
- name: create_suppression_list
  endpoint:
    path: /suppression-lists
    method: POST
    data_selector: suppressionList
- name: get_videos
  endpoint:
    path: /api/v1/misc/scoreboard
    method: GET
    data_selector: surveys
- name: upload_video
  endpoint:
    path: /api/v1/misc/scoreboard
    method: POST
    data_selector: surveys
- name: get_video
  endpoint:
    path: /api/v1/misc/scoreboard
    method: GET
    data_selector: surveys
- name: increase_unique_watermarked_videos
  endpoint:
    path: /api/v1/misc/scoreboard
    method: POST
    data_selector: surveys
- name: create_watermark_file
  endpoint:
    path: /api/v1/misc/scoreboard
    method: POST
    data_selector: surveys
- name: list_watermarked_videos
  endpoint:
    path: /api/v1/misc/scoreboard
    method: GET
    data_selector: surveys
- name: translation_delta
  endpoint:
    path: /get/translation/delta
    method: GET
    data_selector: translations
- name: translation_reservations
  endpoint:
    path: /get/translation/reservations
    method: GET
    data_selector: reservations
- name: add_translation_reservation
  endpoint:
    path: /add/translation/reservation
    method: POST
    data_selector: reservation
- name: delete_translation_reservation
  endpoint:
    path: /delete/translation/reservation
    method: DELETE
    data_selector: result
- name: update_primary_language
  endpoint:
    path: /update/primary/language
    method: PUT
    data_selector: language_update
- name: mark_language_unused
  endpoint:
    path: /put/mark/language/unused
    method: PUT
    data_selector: unused_language
- name: restore_language
  endpoint:
    path: /delete/restore/language
    method: DELETE
    data_selector: restored_language
- name: available_project_parameters
  endpoint:
    path: /get/available/project/parameters
    method: GET
    data_selector: project_parameters
- name: saved_project_parameters
  endpoint:
    path: /get/saved/project/parameters
    method: GET
    data_selector: saved_parameters
- name: validate_saved_project_parameters
  endpoint:
    path: /validate/saved/project/parameters
    method: POST
    data_selector: validation_results
- name: update_saved_project_parameters
  endpoint:
    path: /update/saved/project/parameters
    method: PUT
    data_selector: updated_parameters
- name: set_project_parameters_configuration
  endpoint:
    path: /set/project/parameters/configuration
    method: POST
    data_selector: set_configuration
- name: disable_project_parameters_configuration
  endpoint:
    path: /disable/project/parameters/configuration
    method: POST
    data_selector: disable_configuration
- name: light_scoreboard
  endpoint:
    path: /get/misc/scoreboard
    method: GET
    data_selector: surveys
    params:
      hours: 4
      end: now
- name: cancel_task
  endpoint:
    path: /cancel/task
    method: POST
    data_selector: null
    params:
      all: boolean
      id: string
      survey: string
- name: get_task_content
  endpoint:
    path: /get/task/content
    method: GET
    data_selector: null
    params:
      id: string
- name: remove_content
  endpoint:
    path: /remove/content
    method: DELETE
    data_selector: null
    params:
      id: string
- name: Get system information
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Update system information
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Get system configuration
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Trigger logic node
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Debug logic node
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Get logic events
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Manage CATI server
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Search for email usage
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Search for extra variable usage
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Hello there!
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Get API metadata
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Get survey test URL token
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Find error
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: Get task
  endpoint:
    path: /misc/scoreboard
    method: GET
    data_selector: surveys
- name: project
  endpoint:
    path: /samples
    method: POST
    data_selector: records
    params: {}
- name: sample
  endpoint:
    path: /samples
    method: POST
    data_selector: records
    params: {}
- name: estimates
  endpoint:
    path: /estimates
    method: POST
    data_selector: estimates
    params: {}
- name: samples
  endpoint:
    path: /samples
    method: POST
    data_selector: samples
    params: {}
- name: projects
  endpoint:
    path: /projects
    method: POST
    data_selector: projects
    params: {}
- name: samples
  endpoint:
    path: /post/samples
    method: POST
    data_selector: id
    params: {}
- name: app_samplesource
  endpoint:
    path: /app/samplesource
    method: PATCH
    data_selector: exit_links
    params: {}
notes:
- Paginated response with 10,000 records at a time.
- Use ACK system for managing data feed state.
- Requires APIKey for authorization
- The Forsta Sample Marketplace expects responses to these calls within 10 seconds
  before terminating the request.
- The /estimates endpoint is always requested before any other endpoint.
- All requests that come from the test runner include the header 'X-FV-TEST' with
  a value of 'true'.
- Requires setup of connected app in Forsta
- Ensure to handle exit links and query parameters correctly
errors:
- 401 - invalid authentication; your API key is invalid, expired or not valid from
  this IP or action
- '402 - payment required: you have exceeded your monthly API calls'
- '403 - invalid authorization: your API key is valid but you are not allowed access
  to this survey'
- '404 - not found: you asked for a survey or other resource that does not exist'
- '405 - method not allowed: you tried to e.g. DELETE something that does not support
  deletion'
- 429 - too many concurrent requests
- 400 - other invalid parameter not covered above, e.g. survey cannot be loaded due
  to an error
- '400 invalid key: the key supplied is not a valid variable'
- '400 bad variable <name>: some of the variables supplied in data do not exist or
  cannot be updated.'
- '401 Unauthorized: Check API Key validity'
- '404 Not Found: Ensure the survey path is correct'
- '401 Unauthorized: Recheck API key or authorization'
- 201 Sample created
- 401 Unauthorized
- 422 Unprocessable entity
- 500 Internal Server Error
- '401 Unauthorized: Recheck API Key or authentication method.'
- '422 Unprocessable entity: Validate input fields.'
- '500 Internal Server Error: Check server status.'
- '401 Unauthorized: Check client_id and client_secret'
- '500 Internal Server Error: Server issue, try again later'
auth_info:
  mentioned_objects:
  - OauthToken
client:
  base_url: https://{server}/api/v1
  auth:
    type: APIKey
source_metadata: null
