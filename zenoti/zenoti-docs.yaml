resources:
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: invoice
  endpoint:
    path: /webhooks/invoice/closed
    method: POST
- name: guest
  endpoint:
    path: /webhooks/guest
    method: POST
- name: class
  endpoint:
    path: /webhooks/class
    method: POST
- name: guest_membership
  endpoint:
    path: /webhooks/guest_membership
    method: POST
- name: guest_package
  endpoint:
    path: /webhooks/guest_package
    method: POST
- name: appointment
  endpoint:
    path: /webhooks/appointment
    method: POST
- name: appointment_group
  endpoint:
    path: /webhooks/appointment_group
    method: POST
- name: employee
  endpoint:
    path: /webhooks/employee
    method: POST
- name: retrieve_invoice_details
  endpoint:
    path: /retrieve_invoice_details
    method: GET
- name: retrieve_saved_cards
  endpoint:
    path: /retrieve_saved_cards
    method: GET
- name: add_credit_debit_card
  endpoint:
    path: /add_credit_debit_card
    method: POST
- name: insert_custom_payment
  endpoint:
    path: /insert_custom_payment
    method: POST
- name: collect_unsaved_card_payment
  endpoint:
    path: /collect_unsaved_card_payment
    method: POST
- name: verify_invoice_closed
  endpoint:
    path: /verify_invoice_closed
    method: GET
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: memberships
  endpoint:
    path: /api/v1/memberships
    method: GET
    data_selector: memberships
    params: {}
- name: retrieve_invoice_details
  endpoint:
    path: /api/retrieve_invoice_details
    method: GET
- name: retrieve_saved_cards
  endpoint:
    path: /api/retrieve_saved_cards
    method: GET
- name: add_credit_card
  endpoint:
    path: /api/add_credit_card
    method: POST
- name: insert_custom_payment
  endpoint:
    path: /api/insert_custom_payment
    method: POST
- name: collect_invoice_payment
  endpoint:
    path: /api/collect_invoice_payment
    method: POST
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: event_response
  endpoint:
    data_selector: data
notes:
- Uses OAuth2 with refresh token â€” requires setup of connected app in api
- Some objects like Contact may return nulls in deeply nested fields
- Use the List all templates API to retrieve the gift card templates.
- Use the Create a giftcard template with custom amount API for custom amounts.
- Use the Create a gift card template with services or day packages API for service/package
  combinations.
- Authorization is an additional security layer to check if you have permission to
  access the API endpoints.
- API calls will first check if you have the security role permission to access the
  data.
- You can configure a default action in Zenoti after you close an invoice.
- The access token is valid only for 24 hours, post which you must generate a new
  token by invoking the Refresh an access token API.
- Requires setup of connected app in api
- The standard applicable rate limit is 60 calls per minute.
- The API key is valid for one year, after which you must update the API key before
  expiry.
- The bearer token is valid for 10 hours.
- The generated API keys expire in a designated time duration.
- Zenoti recommends that you create separate apps for each of your use cases.
- If the card on file is mandatory and the guest has no saved cards, you can add it
  using Add a credit/debit card for a guest API.
- API keys are confidential and should be stored on your servers.
- Access token of an employee expires once the employee's password is changed or if
  an employee has left the organization.
- Zenoti will generate a new API Key.
- Copy the API key to a notepad. Do not navigate away from this page without copying
  the API Key.
- Each webhook request is queued for 10 seconds to get a response from the endpoint
  URL.
- If no response is received within 10 seconds, the request will attempt to reconnect
  to the server up to 5 times.
- The retry mechanism sends the webhook up to 5 times before failing with exponential
  backoff.
- Webhooks will wait for a minimum retry delay of 30 seconds to a maximum retry delay
  of 10 minutes between each attempt.
- If a webhook fails up to 20 times in a row, it generates an error log, deactivates
  the webhook, and sends a failure notification email automatically.
- Use the List all occasions API to retrieve occasions and their images available
  in the organization.
- You can also change the appointment time slot duration as per your requirement.
- For example, if the Appointment Time Slot is configured at 5 mins, you will see
  the time slots in the Appointment Book as 10:00, 10:05, 10:10, and so on.
- Similarly, if the setting is configured at 15 mins, you will see the times slots
  in the Appointment Book as 10:00, 10:15, 10:30, and so on.
errors:
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- '422: You cannot request more than 100 items.'
- '200 OK: indicates a successful response'
- '4XX: response indicates an error from the requesting client'
- '5XX: response indicates an error from our API servers'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: https://your-instance.api-name.com
  auth:
    type: oauth2
    flow: refresh_token
    token_url: https://login.api.com/services/oauth2/token
    client_id: '{{ dlt.secrets[''api_client_id''] }}'
    client_secret: '{{ dlt.secrets[''api_client_secret''] }}'
    refresh_token: '{{ dlt.secrets[''api_refresh_token''] }}'
    location: header
    header_name: Authorization
  headers:
    Accept: application/json
    Authorization: apikey 1fa75c01e77b497fa2a794473d1324713192fee3f19342b8bc4ca458023cab68
  paginator:
    type: cursor
    cursor_path: nextRecordsUrl
    cursor_param: nextUrl
    page_size_param: pageSize
    default_page_size: 200
source_metadata: null
