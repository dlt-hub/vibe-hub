resources:
- name: application_data
  endpoint:
    path: /api/data
    method: GET
    data_selector: albums
    params: {}
- name: recently_played
  endpoint:
    path: /api/interaction/recently-played/1
    method: GET
    data_selector: records
    params:
      count: '2'
- name: playlist
  endpoint:
    path: /api/playlist
    method: GET
    data_selector: records
    params: {}
- name: album
  endpoint:
    path: /api/album/1/info
    method: GET
    data_selector: records
    params: {}
- name: artist
  endpoint:
    path: /api/artist/1/info
    method: GET
    data_selector: records
    params: {}
- name: songs
  endpoint:
    path: /api/songs
    method: PUT
    data_selector: records
    params: {}
- name: favorites
  endpoint:
    path: /api/download/favorites
    method: GET
    data_selector: ''
    params: {}
- name: user
  endpoint:
    path: /api/user
    method: POST
    data_selector: ''
    params: {}
- name: current_user_profile
  endpoint:
    path: /api/me
    method: GET
    data_selector: ''
    params: {}
- name: scrobble_song
  endpoint:
    path: /api/1/scrobble/1
    method: POST
    data_selector: ''
    params: {}
- name: connect
  endpoint:
    path: /api/lastfm/connect
    method: GET
    data_selector: ''
    params: {}
- name: session_key
  endpoint:
    path: /api/lastfm/session-key
    method: POST
- name: upload
  endpoint:
    path: /api/upload
    method: POST
- name: broadcasting_auth
  endpoint:
    path: /broadcasting/auth
    method: GET
notes:
- Token is valid for a week, after that the user will need to log in again.
- Uses OAuth2 with Bearer token for authentication.
- The application should redirect the current user to Last.fm for authentication.
errors:
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 500 Internal Server Error
auth_info:
  mentioned_objects: []
client:
  base_url: https://api-docs.koel.dev
  auth:
    type: oauth2
    location: header
    header_name: Authorization
  headers:
    Content-Type: application/json
    Accept: application/json
source_metadata: null
