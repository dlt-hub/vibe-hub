resources:
- name: login
  endpoint:
    path: /login
    method: POST
    data_selector: token
- name: refresh
  endpoint:
    path: /refresh
    method: POST
    data_selector: token
- name: login
  endpoint:
    path: /login
    method: POST
    data_selector: token
    params: {}
- name: refresh_token
  endpoint:
    path: /refresh
    method: POST
    data_selector: token
    params: {}
- name: login
  endpoint:
    path: /login
    method: POST
    data_selector: jwttoken
    params: {}
- name: add_api_key
  endpoint:
    path: /api/config/addapikey
    method: POST
    data_selector: response
    params: {}
- name: get_user_api_keys
  endpoint:
    path: /api/config/dn/userapikey/local-admin
    method: GET
    data_selector: apiKeys
    params:
      showPassword: 'yes'
- name: update_api_key
  endpoint:
    path: /api/config/userapikey/
    method: POST
    data_selector: response
    params: {}
- name: delete_api_key
  endpoint:
    path: /api/config/deleteapikey
    method: POST
    data_selector: response
    params: {}
- name: login
  endpoint:
    path: /login
    method: POST
    data_selector: jwttoken
- name: add_api_key
  endpoint:
    path: /api/config/addapikey
    method: POST
    data_selector: response
- name: get_api_keys
  endpoint:
    path: /api/config/dn/userapikey/local-admin
    method: GET
    data_selector: apiKeys
- name: update_api_key
  endpoint:
    path: /api/config/userapikey/
    method: POST
    data_selector: response
- name: delete_api_key
  endpoint:
    path: /api/config/deleteapikey
    method: POST
- name: advisories
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/telemetry/advisories/details.json
    method: GET
- name: advisories
  endpoint:
    path: /advisories/details.json
    method: GET
- name: advisories
  endpoint:
    path: /telemetry/advisories/details.json
    method: GET
    data_selector: entries
- name: anomalies_summary
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/telemetry/v2/anomalies/summary.json
    method: GET
- name: anomalies_details
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/anomalies/details
    method: GET
- name: anomalies_summary_v1
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/anomalies/summary
    method: GET
- name: congestion_counters
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/congestion/counters
    method: GET
- name: defect_details
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/telemetry/defectDetails
    method: GET
- name: defectDetails
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/telemetry/defectDetails
    method: GET
- name: fullIntegrations
  endpoint:
    path: /fullIntegrations
    method: GET
- name: integration
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/telemetry/v2/config/integration
    method: GET
- name: ndsites
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/ndsites
    method: GET
- name: anomalies
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/anomalies/details
    method: GET
- name: alertRulesUpgrade
  endpoint:
    path: /insightsGroup/{igName}/alertRules/upgrade
    method: POST
- name: congestion_counters
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/congestion/counters
    method: GET
- name: defect_details
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/telemetry/defectDetails
    method: GET
- name: site_inventory
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/sites/inventory
    method: GET
- name: alerts_rootcause_node_details
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/alerts/rootcause/nodeDetails
    method: GET
- name: alerts_rootcause_node_graph
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/alerts/rootcause/nodeGraph
    method: GET
- name: alerts_rootcause_node_list
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/alerts/rootcause/nodeList
    method: GET
- name: alerts_rootcause_root_details
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/alerts/rootcause/rootDetails
    method: GET
- name: global_rules_categories
  endpoint:
    path: /globalRules/categories/{category}
    method: GET
- name: global_rules_thresholds
  endpoint:
    path: /globalRules/thresholds/{anomaly}
    method: GET
- name: traffic_analytics_service_categories
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/telemetry/v2/config/trafficAnalyticsServiceCategories
    method: GET
- name: sustainability_top_outlets
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/sustainability/topOutlets
    method: GET
- name: topology
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/insights/topology
    method: GET
- name: topology_search
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/insights/topology/search
    method: GET
- name: flows_troubleshoot
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/flows/troubleshoot/isTaTroubleshootSupported
    method: GET
- name: anomalies_summary
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/anomalies/summary
    method: GET
    data_selector: entries
    params:
      includeAnomalies: ''
- name: congestion_counters
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/congestion/counters
    method: GET
    data_selector: entries
    params: {}
- name: traffic_metrics
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/trafficMetrics
    method: GET
    data_selector: entries
    params: {}
- name: anomalies_summary
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/telemetry/v2/anomalies/summary.json
    method: GET
    data_selector: records
- name: congestion_counters
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/congestion/counters
    method: GET
    data_selector: records
- name: defect_details
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/telemetry/defectDetails
    method: GET
    data_selector: records
- name: sustainability_cost
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/sustainability/cost
    method: GET
    data_selector: records
- name: sites
  endpoint:
    path: /sites
    method: GET
    data_selector: records
- name: collection_settings
  endpoint:
    path: /collectionSettings/integrations/{integrationUuid}
    method: GET
    data_selector: value/data/collectionEntities/items
    params: {}
- name: fabrics
  endpoint:
    path: /fabric
    method: GET
    data_selector: /items
    params: {}
- name: insights_group
  endpoint:
    path: /insightsGroup
    method: GET
    data_selector: value/data/items
    params: {}
- name: site_groups
  endpoint:
    path: /siteGroups
    method: GET
    data_selector: value/data/items
    params: {}
- name: sustainability_cost
  endpoint:
    path: /sustainability/cost
    method: GET
    data_selector: value/data
    params:
      deviceName: ''
- name: defect_details
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/telemetry/defectDetails
    method: GET
    data_selector: bugs
- name: full_integrations
  endpoint:
    path: /fullIntegrations
    method: GET
    data_selector: integrations
- name: ndsites
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/v1/ndsites
    method: GET
    data_selector: sites
- name: anomalies_summary
  endpoint:
    path: /sedgeapi/v1/cisco-nir/api/api/telemetry/v2/anomalies/summary.json
    method: GET
    data_selector: summary
- name: fabrics
  endpoint:
    path: /telemetry/v2/config/fabric
    method: GET
    data_selector: items
    params: {}
- name: insightsGroup_fabric
  endpoint:
    path: /telemetry/v2/config/insightsGroup/{igName}/fabric/{fabricName}
    method: GET
    data_selector: items
    params: {}
- name: sustainability_cost
  endpoint:
    path: /v1/sustainability/cost
    method: GET
    data_selector: items
    params:
      deviceName: ''
- name: sustainability_emissions
  endpoint:
    path: /v1/sustainability/emissions
    method: GET
    data_selector: items
    params:
      deviceName: ''
- name: sustainability_power
  endpoint:
    path: /v1/sustainability/power
    method: GET
    data_selector: items
    params:
      deviceName: ''
- name: site
  endpoint:
    path: /sites
    method: GET
    data_selector: items
    params: {}
- name: collectionSettings
  endpoint:
    path: /collectionSettings/integrations/{integrationUuid}
    method: GET
    data_selector: value/data/collectionEntities/items
    params: {}
- name: fabric
  endpoint:
    path: /fabric
    method: GET
    data_selector: /items
    params: {}
- name: insightsGroup
  endpoint:
    path: /insightsGroup
    method: GET
    data_selector: value/data/items
    params: {}
- name: sites
  endpoint:
    path: /sites
    method: GET
    data_selector: value/data/items
    params: {}
- name: fullIntegrations
  endpoint:
    path: /fullIntegrations
    method: GET
    data_selector: value/data/items
    params: {}
- name: sustainabilityCost
  endpoint:
    path: /sustainability/cost
    method: GET
    data_selector: ''
    params:
      query: deviceName
- name: sustainabilityEmissions
  endpoint:
    path: /sustainability/emissions
    method: GET
    data_selector: ''
    params:
      query: deviceName
- name: sustainabilityPower
  endpoint:
    path: /sustainability/power
    method: GET
    data_selector: ''
    params:
      query: deviceName
- name: sustainabilitySources
  endpoint:
    path: /sustainability/sources
    method: GET
    data_selector: ''
    params:
      query: deviceName
- name: ndSites
  endpoint:
    path: /ndsites
    method: GET
    data_selector: /items
    params: {}
- name: inventory
  endpoint:
    path: /sites/inventory
    method: GET
    data_selector: /items
    params:
      query:
      - endDate
      - nodes
      - siteName
      - siteStatus
      - startDate
      - summary
notes:
- Tokens expire after a default duration of 20 minutes.
- API keys are available only for local users.
- All payloads to and from the REST interface must be in JSON format.
- Default token duration is 20 minutes.
- Uses API key for authentication and requires username with API key for some calls.
- Uses JWT for authentication — extract token from login response payload
- Use verify=False if you are sure the target system is the system you expect and
  it has a self-signed certificate.
- Breaking change in congestion counters API response format.
- Breaking changes noted for various properties across multiple endpoints.
- Breaking changes may affect integration.
- New optional properties added to some endpoints.
- Uses OAuth2 with refresh token — requires setup of connected app in api
- The server is not using any kind of authentication or encryption.
- The existing Kafka Cluster consists of a single server.
- The existing Kafka Cluster used in this example consists of a single server.
- Some objects like Contact may return nulls in deeply nested fields
errors:
- '401 Unauthorized: Check username and password or API key validity'
- '200: Success'
- '401: Unauthorized - Check credentials or token'
- '500: Internal Server Error - Check server status'
- '200: Successful API call'
- '401: Unauthorized, check authentication token'
- Other status codes may indicate specific issues.
auth_info:
  mentioned_objects:
  - AuthCookie
  - jwttoken
client:
  base_url: https://<nd-node-ip>
  auth:
    type: apikey
    location: header
    header_name: X-Nd-Apikey
source_metadata: null
