resources:
- name: cluster_status
  endpoint:
    path: /cluster
    method: GET
    data_selector: data
    params: {}
- name: cluster_status
  endpoint:
    path: /cluster
    method: GET
    data_selector: data
- name: S3_cluster
  endpoint:
    path: /s3/cluster
    method: POST
- name: S3_bucket
  endpoint:
    path: /s3/bucket
    method: POST
- name: S3_user
  endpoint:
    path: /s3/user
    method: POST
- name: TLS_certificate
  endpoint:
    path: /security/tls
    method: GET
- name: cluster_status
  endpoint:
    path: /cluster
    method: GET
    data_selector: data
- name: login
  endpoint:
    path: /login
    method: POST
    data_selector: data
- name: login_refresh
  endpoint:
    path: /login/refresh
    method: POST
    data_selector: data
- name: active_directory
  endpoint:
    path: /activeDirectory
    method: PUT
- name: alerts
  endpoint:
    path: /alerts
    method: GET
- name: alert_types
  endpoint:
    path: /alerts/types
    method: GET
- name: alert_descriptions
  endpoint:
    path: /alerts/description
    method: GET
- name: mute_alert
  endpoint:
    path: /alerts/{alert_type}/mute
    method: PUT
- name: unmute_alert
  endpoint:
    path: /alerts/{alert_type}/unmute
    method: PUT
- name: weka_home
  endpoint:
    path: /wekaHome
    method: GET
    data_selector: configuration
- name: weka_home_proxy
  endpoint:
    path: /wekaHome/proxy
    method: GET
    data_selector: proxy_url
- name: weka_home_upload_rate
  endpoint:
    path: /wekaHome/uploadRate
    method: GET
    data_selector: upload_rate
- name: weka_home_url
  endpoint:
    path: /wekaHome/url
    method: GET
    data_selector: base_url
- name: cluster_status
  endpoint:
    path: /cluster
    method: GET
    data_selector: status
- name: containers
  endpoint:
    path: /containers
    method: GET
    data_selector: containers
- name: events
  endpoint:
    path: /events
    method: GET
    data_selector: events
- name: filesystems
  endpoint:
    path: /fileSystems
    method: GET
    data_selector: filesystems
- name: quota
  endpoint:
    path: /fileSystems/{uid}/quota
    method: GET
- name: default_quota
  endpoint:
    path: /fileSystems/{uid}/quota/default
    method: GET
- name: quota_details
  endpoint:
    path: /fileSystems/{uid}/quota/{inode_id}
    method: GET
- name: set_quota
  endpoint:
    path: /fileSystems/{uid}/quota/{inode_id}
    method: PUT
- name: update_quota
  endpoint:
    path: /fileSystems/{uid}/quota/{inode_id}
    method: PATCH
- name: remove_quota
  endpoint:
    path: /fileSystems/{uid}/quota/{inode_id}
    method: DELETE
- name: set_default_quota
  endpoint:
    path: /fileSystems/quota/{inode_id}
    method: PUT
- name: remove_default_quota
  endpoint:
    path: /fileSystems/quota/{inode_id}/default
    method: DELETE
- name: resolve_path
  endpoint:
    path: /fileSystems/{uid}/resolvePath
    method: GET
- name: filesystem_groups
  endpoint:
    path: /fileSystemGroups
    method: GET
- name: create_filesystem_group
  endpoint:
    path: /fileSystemGroups
    method: POST
- name: specific_filesystem_group
  endpoint:
    path: /fileSystemGroups/{uid}
    method: GET
- name: update_filesystem_group
  endpoint:
    path: /fileSystemGroups/{uid}
    method: PUT
- name: delete_filesystem_group
  endpoint:
    path: /fileSystemGroups/{uid}
    method: DELETE
- name: health_check
  endpoint:
    path: /healthcheck
    method: GET
- name: ui_health_check
  endpoint:
    path: /ui/healthcheck
    method: GET
- name: nfs_permissions
  endpoint:
    path: /nfs/permissions
    method: GET
    data_selector: null
    params: {}
- name: nfs_client_groups
  endpoint:
    path: /nfs/clientGroups
    method: GET
    data_selector: null
    params: {}
- name: nfs_global_config
  endpoint:
    path: /nfs/globalConfig
    method: GET
    data_selector: null
    params: {}
- name: nfs_debug_level
  endpoint:
    path: /nfs/debug
    method: GET
    data_selector: null
    params: {}
- name: organizations
  endpoint:
    path: /organizations
    method: GET
    data_selector: null
    params: {}
- name: processes
  endpoint:
    path: /processes
    method: GET
    data_selector: null
    params: {}
- name: s3_cluster
  endpoint:
    path: /s3
    method: GET
    data_selector: details
- name: s3_buckets
  endpoint:
    path: /s3/buckets
    method: GET
    data_selector: buckets
- name: s3_user_policies
  endpoint:
    path: /s3/userPolicies
    method: GET
    data_selector: policies
- name: s3_iam_policies
  endpoint:
    path: /s3/policies
    method: GET
    data_selector: policies
- name: s3_service_accounts
  endpoint:
    path: /s3/serviceAccounts
    method: GET
    data_selector: serviceAccounts
- name: s3_audit_webhook
  endpoint:
    path: /s3/auditWebhook
    method: GET
    data_selector: webhook
- name: smb_cluster
  endpoint:
    path: /smb
    method: GET
    data_selector: cluster
- name: smb_shares
  endpoint:
    path: /smb/shares
    method: GET
    data_selector: shares
- name: smb_domains
  endpoint:
    path: /smb/domains
    method: GET
    data_selector: domains
- name: security_token_expiry
  endpoint:
    path: /security/defaultTokensExpiry
    method: GET
    data_selector: tokensExpiry
    params: {}
- name: security_login_banner
  endpoint:
    path: /security/banner
    method: GET
    data_selector: banner
    params: {}
- name: servers
  endpoint:
    path: /servers
    method: GET
    data_selector: servers
    params: {}
- name: snapshot_policy
  endpoint:
    path: /snapshotPolicy
    method: GET
    data_selector: snapshotPolicies
    params: {}
- name: snapshots
  endpoint:
    path: /snapshots
    method: GET
    data_selector: snapshots
    params: {}
- name: statistics
  endpoint:
    path: /stats
    method: GET
    data_selector: statistics
    params: {}
- name: system_io
  endpoint:
    path: /io/start
    method: POST
    data_selector: ioStart
    params: {}
- name: background_tasks
  endpoint:
    path: /tasks
    method: GET
    data_selector: tasks
    params: {}
- name: telemetry
  endpoint:
    path: /telemetry
    method: GET
    data_selector: null
    params: {}
- name: telemetry_exports
  endpoint:
    path: /telemetry/exports
    method: GET
    data_selector: null
    params: {}
- name: tls
  endpoint:
    path: /tls
    method: GET
    data_selector: null
    params: {}
- name: traces
  endpoint:
    path: /traces
    method: GET
    data_selector: null
    params: {}
- name: users
  endpoint:
    path: /users
    method: GET
    data_selector: null
    params: {}
- name: cluster_metrics
  endpoint:
    path: /api/v3/clusters/<cluster_id>/stats/prometheus
    method: GET
    data_selector: metrics
notes:
- Access token is valid for 5 minutes, refresh token is valid for 1 year.
- Access token is a short-live token (five minutes) used for accessing the Weka system
  API.
- Refresh token is a long-live token (one year) used for obtaining an additional access
  token.
- Access token is valid for 5 minutes.
- Refresh token is valid for 1 year.
- Access token is short-lived (five minutes)
- Refresh token is long-lived for obtaining additional access tokens
- Data written through the S3 protocol can be encrypted at rest by configuring an
  encrypted filesystem.
- Clients access the service securely through HTTPS, using the same certificates as
  WEKA's other API access points.
- The privileged mode must be allowed on the Kubernetes cluster.
- 'The following Kubernetes feature gates must be enabled: DevicePlugins, CSINodeInfo,
  CSIDriverRegistry, and ExpandCSIVolumes (all these gates are enabled by default).'
- A WEKA cluster is installed.
- For snapshot and directory backing, a filesystem must be pre-defined on the WEKA
  cluster.
- For filesystem backing, a filesystem group must be pre-defined on the WEKA cluster.
- Your workstation has a valid connection to the Kubernetes worker nodes.
- The WEKA CSI container must run as the root user to enable the management of WEKA
  filesystem mounts at the Worker Node level.
- This version introduces support for additional volume types, as well as snapshot
  and volume cloning capabilities.
- It is recommended to carefully go over new configuration parameters and its meanings,
  as behavior of the plugin and its reported capabilities largely depend on the configuration
  and WEKA cluster version.
- Support of legacy volumes without API binding will be removed in next major release
  of WEKA CSI Plugin.
- Obtain the CWH cluster API key from the Customer Success Team.
- Access token is valid for five minutes.
- Refresh token is long-lived, one month by default, but customizable.
- Supports up to 1024 filesystems
- 'Total capacity with object store: Up to 14 EiB'
- 'Total SSD capacity: Up to 1 EiB'
- 'File size: Up to 4 PiB'
- Data reduction applies only to user data, not metadata, on a per-filesystem basis.
- Data reduction is a post-process, background activity with a lower priority than
  user I/O requests.
- Data encryption settings can only be configured during the initial creation of a
  filesystem.
errors:
- '401 Unauthorized: Recheck access token or refresh token.'
- '401 Unauthorized: Check credentials or token expiration.'
- '401 Unauthorized: Check the cluster API key.'
auth_info:
  mentioned_objects:
  - OauthToken
  - AccessToken
  - RefreshToken
client:
  base_url: https://weka01:14000/api/v2
  auth:
    type: oauth2
    flow: refresh_token
    token_url: https://weka01:14000/api/v2/login
    location: header
    header_name: Authorization
  headers:
    Content-Type: application/json
  paginator: {}
source_metadata: null
