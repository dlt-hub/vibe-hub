resources:
- name: carts
  endpoint:
    path: /api/v1/carts/
    method: POST
    data_selector: result
- name: orders
  endpoint:
    path: /api/v1/orders/
    method: POST
    data_selector: result
- name: webhook_events
  endpoint:
    path: /admin/api/webhooks
    method: POST
    data_selector: events
    params: {}
- name: checkout_links
  endpoint:
    path: /checkout/add/
    method: GET
    data_selector: parameters
    params: {}
- name: carts
  endpoint:
    path: /carts/
    method: POST
- name: orders
  endpoint:
    path: /orders/
    method: POST
- name: add_line_items
  endpoint:
    path: /orders/<NUMBER>/add-line-items/
    method: POST
- name: translations
  endpoint:
    path: /translations
    method: GET
    data_selector: translations
    params: {}
- name: settings_schema
  endpoint:
    path: /configs/settings_schema.json
    method: GET
- name: settings_data
  endpoint:
    path: /configs/settings_data.json
    method: GET
- name: page_viewed
  endpoint:
    path: /page_viewed
    method: GET
    data_selector: event
    params: {}
- name: product_category_viewed
  endpoint:
    path: /product_category_viewed
    method: GET
    data_selector: event
    params: {}
- name: product_viewed
  endpoint:
    path: /product_viewed
    method: GET
    data_selector: event
    params: {}
- name: product_added_to_cart
  endpoint:
    path: /product_added_to_cart
    method: GET
    data_selector: event
    params: {}
- name: product_removed_from_cart
  endpoint:
    path: /product_removed_from_cart
    method: GET
    data_selector: data
    params: {}
- name: checkout_started
  endpoint:
    path: /checkout_started
    method: GET
    data_selector: data
    params: {}
- name: checkout_contact_info_submitted
  endpoint:
    path: /checkout_contact_info_submitted
    method: GET
    data_selector: data
    params: {}
- name: checkout_shipping_address_submitted
  endpoint:
    path: /checkout_shipping_address_submitted
    method: GET
    data_selector: data
    params: {}
- name: checkout_shipping_method_submitted
  endpoint:
    path: /checkout_shipping_method_submitted
    method: GET
    data_selector: data
    params: {}
- name: checkout_completed
  endpoint:
    path: /checkout/completed
    method: POST
    data_selector: data
- name: blog_list
  endpoint:
    path: /blog/
    method: GET
    data_selector: records
- name: blog_detail
  endpoint:
    path: /blog/detail/:post_slug/
    method: GET
    data_selector: records
- name: cart_summary
  endpoint:
    path: /cart/
    method: GET
    data_selector: records
- name: catalogue_index
  endpoint:
    path: /catalogue/
    method: GET
    data_selector: records
- name: catalogue_category
  endpoint:
    path: /catalogue/category/:category_slug/
    method: GET
    data_selector: records
- name: catalogue_detail
  endpoint:
    path: /catalogue/:product_slug/
    method: GET
    data_selector: records
- name: checkout_shipping_address
  endpoint:
    path: checkout/*
    method: GET
    data_selector: records
- name: support_category_list
  endpoint:
    path: /support/categories/
    method: GET
    data_selector: records
- name: support_article_list
  endpoint:
    path: /support/categories/:category_slug/
    method: GET
    data_selector: records
- name: support_article_detail
  endpoint:
    path: /support/articles/:article_slug/
    method: GET
    data_selector: records
- name: error_403
  endpoint:
    path: /:any-403-error
    method: GET
    data_selector: records
- name: error_404
  endpoint:
    path: /:any-404-error
    method: GET
    data_selector: records
- name: error_500
  endpoint:
    path: /:any-500-error
    method: GET
    data_selector: records
- name: ordersRetrieve
  endpoint:
    path: /orders/{number}/
    method: GET
    data_selector: lines
- name: ordersRefundCalculateCreate
  endpoint:
    path: /orders/{number}/refund/calculate/
    method: POST
    data_selector: refund_lines
- name: ordersRefundCreate
  endpoint:
    path: /orders/{number}/refund/
    method: POST
    data_selector: refund_lines
- name: ordersLinesPartialUpdate
  endpoint:
    path: /orders/{number}/lines/{lineID}/
    method: PATCH
    data_selector: null
- name: ordersLinesDestroy
  endpoint:
    path: /orders/{number}/lines/{lineID}/
    method: DELETE
    data_selector: null
- name: ordersLinesCreate
  endpoint:
    path: /orders/{number}/lines/
    method: POST
    data_selector: null
- name: ordersUpdate
  endpoint:
    path: /orders/{number}/
    method: PATCH
    data_selector: shipping_address
- name: fulfillmentRequestSend
  endpoint:
    path: /fulfillment-orders/{id}/fulfillment-request/
    method: POST
    data_selector: null
- name: fulfillmentOrdersHold
  endpoint:
    path: /fulfillment-orders/{id}/hold/
    method: POST
    data_selector: null
- name: cancellationRequestSend
  endpoint:
    path: /fulfillment-orders/{id}/cancellation-request/
    method: POST
    data_selector: null
- name: available_locations
  endpoint:
    path: /fulfillment-orders/{id}/available-locations/
    method: GET
    data_selector: available_locations
- name: move_fulfillment_order
  endpoint:
    path: /fulfillment-orders/{id}/move/
    method: POST
- name: cancel_order
  endpoint:
    path: /orders/{number}/cancel/
    method: POST
- name: create_subscription
  endpoint:
    path: /api/admin/subscriptions
    method: POST
    data_selector: lines
    params: {}
- name: update_subscription
  endpoint:
    path: /api/admin/subscriptions/{id}/lines/
    method: POST
    data_selector: price
    params: {}
- name: update_renewal_schedule
  endpoint:
    path: /api/admin/subscriptions/{id}/
    method: PATCH
    data_selector: interval
    params: {}
- name: change_next_renewal_date
  endpoint:
    path: /api/admin/subscriptions/{id}/
    method: PATCH
    data_selector: next_renewal_date
    params: {}
- name: update_payment_details
  endpoint:
    path: /api/admin/subscriptions/{id}/
    method: PATCH
    data_selector: payment_details
    params: {}
- name: retry_subscription_renewal
  endpoint:
    path: /api/admin/subscriptions/{id}/retry/
    method: POST
    data_selector: payment_gateway
    params: {}
- name: cancel_subscription
  endpoint:
    path: /api/admin/subscriptions/{id}/cancel/
    method: POST
    data_selector: cancel_reason
    params: {}
- name: create_order
  endpoint:
    path: /create_order
    method: POST
    data_selector: response
    params:
      payment_method: apple_pay
      payment_return_url: <external checkout url>
- name: orders_create
  endpoint:
    path: /orders_create
    method: POST
    data_selector: payment_details
    params:
      payment_method: bancontact
      payment_return_url: <external checkout url>
- name: custom_page_template
  endpoint:
    path: /templates/pages
    method: GET
    data_selector: templates
    params: {}
- name: product_template
  endpoint:
    path: /templates/catalogue
    method: GET
    data_selector: templates
    params: {}
- name: assigned_fulfillment_orders
  endpoint:
    path: /assigned-fulfillment-orders/
    method: GET
    data_selector: records
    params:
      assignment_status: fulfillment_requested
- name: fulfillment_order_accept
  endpoint:
    path: /fulfillment-orders/{id}/fulfillment-request/accept/
    method: POST
- name: fulfillment_order_reject
  endpoint:
    path: /fulfillment-orders/{id}/fulfillment-request/reject/
    method: POST
- name: cancellation_request_accept
  endpoint:
    path: /fulfillment-orders/{id}/cancellation-request/accept/
    method: POST
- name: cancellation_request_reject
  endpoint:
    path: /fulfillment-orders/{id}/cancellation-request/reject/
    method: POST
- name: create_fulfillment
  endpoint:
    path: /fulfillment-orders/{id}/fulfillments/
    method: POST
- name: retrieve_stock_records
  endpoint:
    path: /stockrecords/
    method: GET
- name: update_stock_record
  endpoint:
    path: /stockrecords/{id}/
    method: PATCH
- name: available_locations
  endpoint:
    path: /fulfillment-orders/{id}/available-locations/
    method: GET
- name: move_fulfillment_order
  endpoint:
    path: /fulfillment-orders/{id}/move/
    method: POST
- name: orders_create
  endpoint:
    path: /orders_create
    method: POST
    data_selector: response
    params:
      payment_method: ideal
      payment_return_url: <external checkout url>
- name: orders_create
  endpoint:
    path: /orders_create
    method: POST
    data_selector: payment_complete_url
    params:
      payment_method: klarna
      payment_return_url: <external checkout url>
- name: order_data
  endpoint:
    path: /order_data
    method: POST
    data_selector: response
    params: {}
- name: create_order
  endpoint:
    path: /orders_create
    method: POST
    data_selector: payment_complete_url
    params:
      payment_method: paypal
      payment_return_url: <external checkout url>
- name: product_metadata
  endpoint:
    path: /metadata/product
    method: GET
    data_selector: metadata
    params: {}
- name: variant_choices
  endpoint:
    path: /api/variant_choices
    method: GET
    data_selector: variant_choices
    params: {}
- name: product_data
  endpoint:
    path: /api/product_data
    method: GET
    data_selector: product.data
    params: {}
- name: create_order
  endpoint:
    path: /orders_create
    method: POST
    data_selector: response
    params: {}
- name: orders_create
  endpoint:
    path: /api/admin/orders_create
    method: POST
    data_selector: payment_details
    params:
      payment_method: twint
      payment_return_url: <external checkout url>
- name: ordersAddLineItemsCreate
  endpoint:
    path: /api/admin/ordersAddLineItemsCreate
    method: POST
    data_selector: response
    params: {}
- name: storefront_event_tracker
  endpoint:
    path: /tracking.js
    method: GET
    data_selector: tracking.js
    params: {}
- name: locations
  endpoint:
    path: /snippets/global-header.html
    method: GET
    data_selector: snippets/global-header.html
    params: {}
- name: settings_schema
  endpoint:
    path: /settings_schema
    method: GET
    data_selector: settings_schema
    params: {}
- name: app_assets
  endpoint:
    path: /assets
    method: GET
- name: snippets
  endpoint:
    path: /snippets
    method: GET
- name: storefront_event_tracker
  endpoint:
    path: /docs/storefront/event-tracking/
    method: GET
    data_selector: tracking.js
- name: global_header
  endpoint:
    path: app_hooks/global_header
    method: GET
- name: global_footer
  endpoint:
    path: app_hooks/global_footer
    method: GET
notes:
- Generate an Access Token through Settings > API Access for single store access or
  use the Authorization Code flow with your partner App Client ID.
- It's recommended to create unique Oauth Apps per external system so that you can
  revoke as needed.
- Campaign API Key is required for authentication.
- Admin API tokens provide full access to your system, including the ability to perform
  destructive actions like deleting data or users. These tokens should never be shared
  publicly or exposed in client-side code.
- Apps and supporting tools are in Public Beta, if you have questions or run into
  any issues, don't hesitate to reach out to support@29next.com.
- More documentation, more examples, and more tools are on the way.
- Webhook target endpoints must accept JSON data and respond with a 200 response code.
- Failing webhooks will trigger email notifications to all store admins and will be
  eventually deactivated.
- Carts are the starting point for all orders.
- Attribution added to a cart is carried over to the Orders and Subscriptions created
  on the users next order.
- Campaigns API uses unique API Keys for authentication to access campaign details
  and execute the checkout flow with your configured packages.
- Importing external fonts or images is not supported due to CORS restrictions.
- Store authentication uses Oauth and requires creating a store Oauth App with theme:read
  and theme:write permissions.
- Event trackers are pure javascript, meaning third-party event tracking scripts sometimes
  need some adjustment before they can be added.
- Event data includes various attributes related to the checkout process.
- Your store must have a 3DS2 enabled gateway to process 3DS2 transactions.
- Order Refund Calculate APIs are only available on `2024-04-01` version and newer.
- Order editing APIs are only available on `2024-04-01` API Version and above.
- Your store must have a Apple Pay setup and enabled with a gateway to use the Apple
  Pay payment method.
- The user device must also be an Apple Device with Touch ID enabled.
- Upsells are not supported with Bancontact payments.
- Products can have very diverse design requirements that often require custom layouts.
- Dispute service apps should subscribe to the `transaction.created` webhook event
  to be notified of all payment transaction events.
- Fulfillment locations need to accept the cancellation request to confirm they were
  able to stop fulfillment on their end.
- Your store must have a Google Pay setup and enabled with a gateway to use the Google
  Pay payment method and the user device must use Chrome browser or Android with Google
  Pay setup.
- Upsells are not supported with iDEAL payments.
- Order data structure follows Admin Order API and is application/x-www-form-urlencoded
  in a variable called response.
- If the order data is an empty dictionary, it means payment collection was unsuccessful
  and the order was not created.
- Upsells are not supported with SEPA Direct Debit payments.
- Server to Server apps don't need to upload any 'code' or files to Next Commerce,
  their apps are fully external and simply use Oauth to obtain Admin API access.
- Test cards can be used to test your live integration flows without changing any
  store payment settings.
- Use with caution if your store has live traffic.
- Server to Server apps leverage the Oauth flow to obtain API Access.
- App changes are automatically pushed to your development stores
- App bundle max size is 2MB, it's important to minimize and reduce the size of the
  assets in your App to maintain efficiency.
- All assets are loaded from a CDN which does not support local file imports from
  another file. It's a best practice to compile and minify your assets into self contained
  single files.
- Event trackers and App snippets are not cross compatible as Event Trackers are loaded
  in their own sandboxed environment for greater security.
- Private apps can be shared with merchants and installed using the Install Link feature
  available on your app dashboard. Use install links to install and validate your
  app with merchants before submitting for review.
errors:
- '429 Too Many Requests: Retry-After: 1'
- '429 Too Many Requests: A throttle has been applied.'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- '429 Too Many Requests: Rate limit exceeded'
- First name can't be blank
- Last name can't be blank
auth_info:
  mentioned_objects:
  - Access Tokens
client:
  base_url: https://{store}.29next.store/api/admin/
  auth:
    type: oauth2
    token_url: /oauth2/token/
source_metadata: null
