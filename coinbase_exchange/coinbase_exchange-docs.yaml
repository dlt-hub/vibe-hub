resources:
- name: accounts
  endpoint:
    path: /accounts
    method: GET
    data_selector: data
    params: {}
- name: account_transfers
  endpoint:
    path: /accounts/{account_id}/transfers
    method: GET
    data_selector: data
    params: {}
- name: profiles
  endpoint:
    path: /profiles
    method: GET
    data_selector: data
    params: {}
- name: product_details
  endpoint:
    path: /products/{product_id}
    method: GET
    data_selector: data
    params: {}
- name: Order Entry
  endpoint:
    path: tcp+ssl://fix-ord.exchange.coinbase.com:6121
    method: GET
- name: Market Data Snapshot Enabled
  endpoint:
    path: tcp+ssl://fix-md.exchange.coinbase.com:6121
    method: GET
- name: Market Data Snapshot Disabled
  endpoint:
    path: tcp+ssl://fix-md.exchange.coinbase.com:6122
    method: GET
- name: Dedicated Drop Copy
  endpoint:
    path: tcp+ssl://fix-dc.exchange.coinbase.com:6122
    method: GET
- name: Coinbase Market Data
  endpoint:
    path: wss://ws-feed.exchange.coinbase.com
    method: GET
- name: Coinbase Direct Market Data
  endpoint:
    path: wss://ws-direct.exchange.coinbase.com
    method: GET
- name: orders
  endpoint:
    path: /orders
    method: POST
- name: Market Data Request
  endpoint:
    path: /market-data/request
    method: POST
    data_selector: MarketData
    params: {}
- name: Market Data Snapshot Full Refresh
  endpoint:
    path: /market-data/snapshot
    method: GET
    data_selector: MarketDataSnapshot
    params: {}
- name: Security List Request
  endpoint:
    path: /security/list/request
    method: POST
    data_selector: SecurityList
    params: {}
- name: match
  endpoint:
    path: /match
    method: GET
- name: change
  endpoint:
    path: /change
    method: GET
- name: activate
  endpoint:
    path: /activate
    method: GET
- name: user_channel
  endpoint:
    path: /user_channel
    method: GET
- name: level2
  endpoint:
    path: /level2
    method: GET
- name: level2_batch
  endpoint:
    path: /level2_batch
    method: GET
- name: level3
  endpoint:
    path: /level3
    method: GET
- name: balance
  endpoint:
    path: /balance
    method: GET
notes:
- Ensure to authenticate all API requests.
- The sandbox hosts a subset of the production order books and supports all exchange
  functionality except Transfers.
- Login sessions and API keys are separate from production.
- Rate-limiting for both the Exchange REST API and the FIX API use a lazy-fill token
  bucket implementation.
- FIX5 Resets Saturdays at 1PM ET
- Changes are deployed every Monday and Thursday at or near 2PM EST
- Coinbase Market Data is available without authentication.
- Coinbase Direct Market Data requires authentication.
- Private endpoints require authentication using your Coinbase Exchange API key.
- Public endpoints are throttled by IP and private endpoints by profile ID. Some endpoints
  (like `/fills`) may have custom rate limits.
- When a REST API rate limit is exceeded, a status of `429 Too Many Requests` is returned.
- Coinbase Exchange uses cursor pagination for all REST requests which return arrays.
- Profiles are the equivalent of portfolios on the Coinbase Exchange website.
- The maximum number of profiles is 100.
- 1 API key per session/connection to guarantee a connection
- 75 maximum connections per profile
- 175 maximum connections per user across all profiles
- 'FIX 4.2 Order Entry API rate limits are: 50 requests per rolling second per session,
  100 messages per second in bursts.'
- 'FIX 5 Order Entry API rate limits are: 2 logons per second per API key, 100 requests
  per second.'
- Connectivity is limited to a single connection per API key.
- Websocket clients should authenticate to help troubleshoot issues if necessary.
  Authenticating is optional and does not impact web socket performance.
- 'Include the following header in the opening handshake to allow for compression,
  which will lower bandwidth consumption with minimal impact to CPU / memory: Sec-WebSocket-Extensions:
  permessage-deflate.'
- Coinbase recommends that you authenticate all WebSocket channels, but only those
  listed are enforced.
- WebSocket channels provide real-time updates on orders and trades.
- Make a REST request for the order book snapshot from the REST feed.
- Exchange accounts are limited to 10 WebSocket subscriptions on a per product, per
  channel basis.
- All WebSocket inbound messages are subject to a rate limit of 10 RPS / 1000 burst
  RPS.
errors:
- '403 Forbidden: Check API key permissions'
- '404 Not Found: Verify endpoint URL'
- '429 Too Many Requests: Rate limit exceeded'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'REQUEST_EXPIRED: Your request is considered expired and rejected.'
- '400: Bad Request — Invalid request format'
- '401: Unauthorized — Invalid API Key'
- '403: Forbidden — You do not have access to the requested resource'
- '404: Not Found'
- '500: Internal Server Error — We had a problem with our server'
- 0=Unknown symbol
- 1=Duplicate MDReqID
- 7=Other
- 'ErrSlowConsume: The client has too many backed up messages.'
- 'ErrSlowRead: The client is sending too many messages.'
- 'Message too big: The message size is too large.'
- 'ErrSlowConsume: The client has too many backed up messages'
- 'ErrSlowRead: The client is sending too many messages'
- 'Message too big: The message size is too large'
auth_info:
  mentioned_objects:
  - Credentials
  - API key
client:
  base_url: https://api.exchange.coinbase.com
  auth:
    type: apikey
    location: header
    header_name: CB-ACCESS-KEY
  headers:
    Accept: application/json
source_metadata: null
