resources:
- name: managedRepositories
  endpoint:
    path: /restServices/archivaServices/getManagedRepositories
    method: GET
    data_selector: List<ManagedRepository>
    params: {}
- name: managedRepository
  endpoint:
    path: /restServices/archivaServices/getManagedRepository/{repositoryId}
    method: GET
    data_selector: ManagedRepository
    params: {}
- name: addManagedRepository
  endpoint:
    path: /restServices/archivaServices/addManagedRepository
    method: POST
    data_selector: ManagedRepository
    params: {}
- name: central
  endpoint:
    path: https://repo.maven.a
    method: GET
notes:
- This is a security fix release. Users are advised to update their systems to the
  new version as soon as possible.
- CVE-2022-29405 Apache Archiva Arbitrary user password reset vulnerability.
- All services can return json or xml.
- Uses OAuth2 with refresh token â€” requires setup of connected app in api
errors:
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: https://archiva.apache.org
  headers:
    Accept: application/json
source_metadata: null
