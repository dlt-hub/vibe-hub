resources:
- name: DFS namespace
  endpoint:
    path: /dfs/namespace
    method: GET
    data_selector: namespace_info
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: Edge Appliance Installation
  endpoint:
    path: /installing-edge-appliance
    method: GET
    data_selector: installation_guide
    params: {}
- name: Edge Appliance Installation
  endpoint:
    path: /docs/installing-edge-appliance-on-scale-hypercore
    method: GET
    data_selector: installation_steps
    params: {}
- name: Nasuni Edge Appliance
  endpoint:
    path: /api/edge-appliance
    method: GET
    data_selector: appliances
    params: {}
- name: dfs_namespace
  endpoint:
    path: /dfs/namespace
    method: GET
    data_selector: namespace_data
- name: ftp_directory
  endpoint:
    path: /ftp/directories
    method: GET
    data_selector: directories
- name: ftp_directory
  endpoint:
    path: /ftp/directories
    method: GET
    data_selector: directories
    params: {}
- name: ftp_directories
  endpoint:
    path: /v1/docs/ftp-access-configuration#viewing-ftp-directories
    method: GET
    data_selector: FTP Directories
    params: {}
- name: ftp_clients
  endpoint:
    path: /v1/docs/ftp-access-configuration#viewing-ftp-clients
    method: GET
    data_selector: FTP Clients
    params: {}
- name: namespace_servers
  endpoint:
    path: /dfs/namespace/servers
    method: GET
    data_selector: servers
- name: clients
  endpoint:
    path: /dfs/clients
    method: GET
    data_selector: clients
- name: namespace_servers
  endpoint:
    path: /namespace/servers
    method: GET
    data_selector: servers
    params: {}
- name: clients
  endpoint:
    path: /clients
    method: GET
    data_selector: clients
    params: {}
- name: cifs
  endpoint:
    path: /services/data/v1.0/protocols/cifs
    method: GET
    data_selector: records
- name: nfs
  endpoint:
    path: /services/data/v1.0/protocols/nfs
    method: GET
    data_selector: records
- name: ftp
  endpoint:
    path: /services/data/v1.0/protocols/ftp
    method: GET
    data_selector: records
- name: volume_configuration
  endpoint:
    path: /docs/appendix-c-volume-configuration
    method: GET
    data_selector: volume_configuration
    params: {}
- name: smb_clients_only
  endpoint:
    path: /appendix-c/volume-configuration/smb_clients_only
    method: GET
    data_selector: records
    params: {}
- name: smb_clients_ftp
  endpoint:
    path: /appendix-c/volume-configuration/smb_clients_ftp
    method: GET
    data_selector: records
    params: {}
- name: nfs_clients
  endpoint:
    path: /appendix-c/volume-configuration/nfs_clients
    method: GET
    data_selector: records
    params: {}
- name: nfs_smb_clients
  endpoint:
    path: /appendix-c/volume-configuration/nfs_smb_clients
    method: GET
    data_selector: records
    params: {}
- name: smb_nfs_basic_interop
  endpoint:
    path: /appendix-c/volume-configuration/smb_nfs_basic_interop
    method: GET
    data_selector: records
    params: {}
- name: volume_configuration
  endpoint:
    path: /docs/nasuni-management-console-appendix-g-volume-configuration
    method: GET
    data_selector: records
- name: SMB_clients_only
  endpoint:
    path: /api/smb_clients_only
    method: POST
    data_selector: configuration
    params:
      authentication: Active Directory
      permissions_policy: NTFS Exclusive
      case_sensitivity: 'No'
- name: SMB_clients_FTP
  endpoint:
    path: /api/smb_clients_ftp
    method: POST
    data_selector: configuration
    params:
      authentication: Active Directory
      permissions_policy: NTFS Compatible or POSIX
      case_sensitivity: 'Yes'
- name: NFS_clients
  endpoint:
    path: /api/nfs_clients
    method: POST
    data_selector: configuration
    params:
      authentication: Active Directory
      permissions_policy: POSIX
      case_sensitivity: 'Yes'
- name: NFS_SMB_clients
  endpoint:
    path: /api/nfs_smb_clients
    method: POST
    data_selector: configuration
    params:
      authentication: Active Directory
      permissions_policy: POSIX
      case_sensitivity: 'Yes'
- name: SMB_NFS_Basic_InterOp
  endpoint:
    path: /api/smb_nfs_basic_interop
    method: POST
    data_selector: configuration
    params:
      authentication: Active Directory
      permissions_policy: NTFS Compatible + POSIX
      case_sensitivity: 'Yes'
- name: audit_events
  endpoint:
    path: /api/audit_events
    method: GET
    data_selector: records
- name: datadvantage
  endpoint:
    path: /services/data/v8.5/sobjects/DatAdvantage
    method: GET
    data_selector: records
    params: {}
- name: dataclassificationengine
  endpoint:
    path: /services/data/v8.5/sobjects/DataClassificationEngine
    method: GET
    data_selector: records
    params: {}
- name: audit_events
  endpoint:
    path: /api/audit_events
    method: GET
    data_selector: records
    params: {}
notes:
- API action elements prefixed with 'POST' or 'PATCH' require a body as part of the
  action.
- Antivirus Protection is available for SMB and NFS volumes and FTP/SFTP directories.
- Antivirus Protection feature can be enabled or disabled in your customer license
  by Nasuni Support.
- If the same user has logged into multiple Edge Appliances in a day, this might indicate
  that DFS is switching which Edge Appliance they are connected to.
- To avoid orphaned global locks, 'missing' data, users conflicting with themselves,
  and other problems due to the time it takes for caches to synchronize across Edge
  Appliances, Nasuni recommends configuring the referral ordering to only return targets
  within a client’s site.
- DFS namespacing requires Windows Server.
- The namespace component is available on all currently supported versions of Windows
  Server.
- Microsoft Distributed File System (DFS) provides flexibility for multiple SMB servers
  with common shares to be distributed locally or across geographic Active Directory
  sites.
- To leverage DFS capabilities so that planned disruptions provide the greatest protection
  of data synchronization, a prescribed process involving both DFS and Nasuni administration
  is detailed here.
- It is recommended that the effective failback mode for DFS clients is enabled.
- Clients with read or write operations 'in-flight' are expected to continue under
  the previous DFS referral order until interrupted.
- Windows protected words cannot be used as the DFS path or DFS target path.
- DFS-R only runs on Windows servers and is, therefore, not compatible with Nasuni.
- DFS-N fits in well with Nasuni’s global file system capabilities.
- The ability for an administrator to issue DFS namespace changes in order to steer
  clients to specific available Nasuni Edge Appliances (NEAs) makes it a viable option
  for planned maintenance events.
- Ensuring that, during a planned maintenance event, Nasuni Edge Appliance snapshot
  and sync remain consistent, so that the risk of conflicts and other issues of file
  integrity are best avoided.
- For optimal performance, Nasuni recommends using SSD storage for the OS disk, Cache,
  and Copy on Write disks.
- Reboot times are approximately 60 seconds.
- Uses OAuth2 with refresh token — requires setup of connected app in api
- Some objects like Contact may return nulls in deeply nested fields
- DO NOT attempt to restore from a virtual machine snapshot or backup. Attempting
  to restore from a virtual machine snapshot or backup puts the Edge Appliance in
  an unknown state in relation to the Nasuni Orchestration Center (NOC), and requires
  a disaster recovery process to recover. This might result in data loss.
- Edge Appliances must be configured with operational DNS servers and a time server
  (internal or external) within your environment.
- The Edge Appliance is configured with a default time server time.nasuni.com.
- When using virtual machine Appliances, Nasuni recommends running under a hypervisor
  supported by its vendor.
- This document is about deploying virtual machines. It does not cover configuring
  a storage account for use with Nasuni volumes.
- Edge Appliances and the NMC must be configured with operational DNS servers and
  a time server.
- To access Active Directory-enabled volumes, the Edge Appliance must access the same
  Active Directory domains.
- To access LDAP-enabled volumes, the Edge Appliance must be able to access LDAP and
  Kerberos in the same LDAP domain.
- Scale Computing requires an existing SMB server to store and share the Nasuni VM
  archive for importing.
- DO NOT attempt to restore from a virtual machine snapshot or backup. Attempting
  to restore from a virtual machine snapshot or backup puts the Edge Appliance in
  an unknown state in relation to the Nasuni Orchestration Center (NOC), and requires
  a disaster recovery process to recover.
- The time to generate an encryption key can vary widely, depending on the hardware
  (real or virtual) on which the Nasuni Edge Appliance is executing. Encryption keys
  are generated in the background, to not block use of the Nasuni Edge Appliance during
  generation.
- 'With VMware, if VMs have more vCPUs than a single NUMA node contains, configure
  Virtual NUMA properly. Virtual NUMA requires virtual hardware version 8 or later;
  the Nasuni VM ships at virtual hardware version 7, but can be upgraded to match
  the version supported by your hypervisor. Size VMs to align with physical NUMA boundaries:
  if the host has 4 processors per NUMA node, your VM should have multiples of 4 vCPUs.
  Virtual NUMA is only enabled for VMs with more than eight vCPUs. To override this
  setting, add "numa.vcpu.min = X" to the VM’s VMX file.'
- Nasuni does not support Hyper-V Dynamic Memory.
- Hyper-V supports Guest Aware NUMA, which provides the host's NUMA layout to a guest.
  Guest Aware NUMA is disabled if Dynamic Memory is enabled for a VM. However, Nasuni
  does not support Dynamic Memory, so Guest Aware NUMA is never disabled.
- If any network interfaces are not in use, set them to “Disabled” on the **Network
  Configuration** page in the Nasuni Edge Appliance UI.
- Uses a Web-based interface for management of Edge Appliances
- High-availability Edge Appliances support NFS version 3
- Run Nasuni Edge Appliances on disks with performance equal to or better than SSD
  disks.
- Disk latency should not exceed 15 ms.
- DFS-N provides a hierarchical, unified namespace.
- DFS-R provides a replication service to keep the data stored on the underlying file
  servers in sync.
- Uses Microsoft DFS for planned maintenance events.
- DFS cache duration should be relatively low, and deemed acceptable for clients to
  learn of a record update during the MDU.
- During a planned maintenance event, Nasuni Edge Appliance snapshot and sync remain
  consistent, so that the risk of conflicts and other issues of file integrity are
  best avoided.
- Uses DFS for planned maintenance events.
- DFS cache duration can be optionally set to a lower than normal value.
- Nasuni supports SFTP, the SSH File Transfer Protocol. This is not the same as FTPS,
  the File Transfer Protocol over SSL.
- The maximum length of a file name is 255 bytes.
- The length of a path, including the file name, must be less than 4,000 bytes.
- Uses Global Locking technology which can introduce challenges to restarting an interrupted
  new write operation.
- If anonymous FTP access is enabled, any user can access the FTP/SFTP directory.
- If the Nasuni Edge Appliance is under Nasuni Management Console control, some pages
  are not available on the Nasuni Edge Appliance.
- With a new Edge Appliance in an account that already has remote volumes with Read/Write
  permissions, it can initially take up to 20 minutes before these remote volumes
  appear in the list of volumes.
- Be careful changing existing credentials. The connection between a Nasuni Edge Appliance
  and the cloud object storage provider could become invalid, causing loss of data
  access.
- If this Nasuni Edge Appliance is under Nasuni Management Console control, this page
  is not available on the Nasuni Edge Appliance.
- Storage Access does not grant any access to the Nasuni Edge Appliance user interface.
- If a file already exists with the same name as the file you are uploading, you are
  asked to confirm overwriting the existing file.
- Existing shared links are not affected by changes to the shared link settings, or
  by changes to the permissions of the user who created the link.
- Before joining Edge Appliance to Active Directory, contact Nasuni Support to ensure
  optimal configuration.
- The Nasuni Mobile Access app is scheduled for End-of-Life on May 1, 2024.
- You must create and maintain your own cloud object storage account. Nasuni does
  not have access to your cloud object storage account.
- Ensure Active Directory site topology is properly defined.
- Manual failover process is recommended for better control.
- DFS-R only runs on Windows servers and is not compatible with Nasuni.
- Ensure that only the NEA targeted for client disconnecting and then the MDU are
  selected.
- You must have share privileges to access the folder on the Nasuni Edge Appliance.
- If the Nasuni Edge Appliance is running in Active Directory security mode, the Linux
  clients must connect to the Nasuni Edge Appliance as Active Directory users.
- To access the hidden .nasuni directory on an SMB share, you must be an administrative
  user.
- If you change the permissions on any of these folders and files, the Nasuni Edge
  Appliance preserves your changes. However, new files still receive the default permissions
  of 444.
- Clients must be in the correct Active Directory site to connect to the appropriate
  Edge Appliance.
- Protocols work in parallel and cannot be removed once enabled.
- Ensure that the SFTP protocol is used rather than FTP.
- Protocols work in parallel. Enabling an additional protocol to an original protocol
  does not affect the original protocol.
- If you enable an additional protocol for a volume, you cannot remove that protocol.
- Configuration includes consideration of original volume protocol, additional volume
  protocol, authentication, volume permissions policy, and case sensitivity.
- Durable handles (with SMB 2.0+ and GFL disabled). Web Access. Global File Lock Advanced
  and Optimized mode.
- If using external auditing (such as Varonis), open port 5671 outbound from the Edge
  Appliance to the configured audit endpoint.
- Nasuni recommends deploying a dedicated Nasuni Edge Appliance with which the Varonis
  Collector interacts.
- Open port 5671 outbound from the Edge Appliance to the configured Varonis Collector.
- Port 5671 is used for AMQP with SSL. Nasuni does not support AMQP without SSL.
- Because all connections are authenticated, SSL inspection or decryption is not supported.
- Durable handles (with SMB 2.0+ and GFL disabled)
- Web Access
- Global File Lock Advanced and Optimized mode
- Ensure that metadata for the volume has been pulled into the cache completely before
  the initial scan.
- Open port 5671 outbound from the Edge Appliance to the configured audit endpoint.
- Nasuni strongly recommends deploying a dedicated Nasuni Edge Appliance with which
  the Varonis Collector interacts.
- Nasuni reports data capacity in terabytes, where 1 terabyte (TB) equals 1,000,000,000,000
  bytes. Varonis DatAdvantage reports data capacity in tebibytes, where 1 tebibyte
  (TiB) equals 1,099,511,627,776 bytes.
- If you do not select 'Bring Metadata Only', the Nasuni Edge Appliance starts downloading
  all of the data on the volume into the cache.
- The default is that notifications are NOT generated when a 'Bring into Cache' job
  starts, continues, or completes.
- When a filer is monitored by Varonis, this overrides any existing audit event types
  that the customer had previously selected.
- Deploy a dedicated Nasuni Edge Appliance with which the external auditing solution
  interacts.
- Run scans during normal business hours without impacting end-user performance.
errors:
- The client is connected to the wrong Edge Appliance due to incorrect Active Directory
  site configuration.
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- '401 Unauthorized: Recheck API keys or permissions'
- Missing data due to replication delays can occur.
- Users conflicting with themselves may happen if data has not propagated.
- The maximum length of a file name is 255 bytes.
- The length of a path, including the file name, must be less than 4,000 bytes.
- '401 Unauthorized: User must belong to a permission group that has Storage Access
  enabled.'
- User lockout due to multiple invalid password attempts in Active Directory.
- 'CLIENT_NOT_FOUND: Verify client is in the correct Active Directory site.'
- 'SERVER_UNREACHABLE: Check network connectivity to the namespace server.'
- You must have export privileges to access the folder on the Nasuni Edge Appliance.
- 'STATUS_DIRECTORY_NOT_EMPTY: Directory must be empty before deletion'
- Clients might encounter scenarios where the Edge Appliance caches have not yet synchronized.
- If file system consistency is the paramount concern, then users should be prevented
  from connecting to appliances outside of their site.
- client unexpectedly closed TCP connection
- handshake_timeout
- 'Unsupported features include: NFS, FTP, LDAP, Multiple volume protocols'
- 'SSL / TLS Common Name or SAN mismatch: Known Varonis issue with collector server
  certificates.'
- 'AMQP Connection Timeout: Supported workaround for AMQP connection timeout when
  deployed far away from the Varonis Collector.'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
  - NMC API
  - Collector
  - Data Security Platform
client:
  base_url: https://portal.nasuni.com
  headers:
    Accept: application/json
source_metadata: null
