resources:
- name: system_info
  endpoint:
    path: /fog/system/info
    method: GET
- name: active_tasks
  endpoint:
    path: /fog/task/active
    method: GET
- name: multicast_sessions
  endpoint:
    path: /fog/multicastsession/current
    method: GET
- name: registered_hosts
  endpoint:
    path: /fog/host
    method: GET
- name: host_search
  endpoint:
    path: /fog/host/search/*
    method: GET
- name: create_image
  endpoint:
    path: /fog/image/create
    method: POST
- name: edit_host
  endpoint:
    path: /fog/host/id/edit
    method: PUT
- name: fogproject
  endpoint:
    path: /fogproject
    method: GET
    data_selector: records
    params: {}
- name: image_capture
  endpoint:
    path: /kb/how-tos/capture-an-image
    method: GET
    data_selector: capture_image
    params: {}
- name: Deploy image
  endpoint:
    path: /kb/how-tos/deploy-an-image/
    method: GET
- name: Option 66
  endpoint:
    path: /installation/network-setup/dhcp-server-settings/#option-66
    method: GET
    data_selector: records
    params: {}
- name: Option 67
  endpoint:
    path: /installation/network-setup/dhcp-server-settings/#option-67
    method: GET
    data_selector: records
    params: {}
- name: dhcp-host
  endpoint:
    path: /etc/dnsmasq.d/ltsp.conf
    method: GET
    data_selector: dhcp-host
    params: {}
- name: dhcp-range
  endpoint:
    path: /etc/dnsmasq.d/ltsp.conf
    method: GET
    data_selector: dhcp-range
    params: {}
- name: tftp-root
  endpoint:
    path: /etc/dnsmasq.d/ltsp.conf
    method: GET
    data_selector: tftp-root
    params: {}
- name: dhcp-boot
  endpoint:
    path: /etc/dnsmasq.d/ltsp.conf
    method: GET
    data_selector: dhcp-boot
    params: {}
- name: dnsmasq_settings
  endpoint:
    path: /etc/dnsmasq.d/ltsp.conf
    method: POST
    data_selector: settings
    params: {}
- name: dhcp-boot
  endpoint:
    path: /tftpboot
    method: GET
    data_selector: boot_files
    params: {}
- name: fog_images
  endpoint:
    path: /images
    method: GET
    data_selector: images
    params: {}
- name: fog_database
  endpoint:
    path: /database
    method: GET
    data_selector: database
    params: {}
- name: fog_client
  endpoint:
    path: /fog/client/download.php?newclient
    method: GET
- name: Dashboard
  endpoint:
    path: /management/web/dashboard
    method: GET
    data_selector: overview
    params: {}
- name: users
  endpoint:
    path: /api/v1/users
    method: GET
    data_selector: users
    params: {}
- name: hosts
  endpoint:
    path: /management/web/hosts/
    method: GET
    data_selector: hosts
- name: hosts
  endpoint:
    path: /fog/hosts
    method: POST
    data_selector: host
    params: {}
- name: import_hosts
  endpoint:
    path: /fog/import_hosts
    method: POST
    data_selector: import
    params: {}
- name: groups
  endpoint:
    path: /management/web/groups
    method: GET
    data_selector: groups
- name: group_management
  endpoint:
    path: /management/web/groups/creating
    method: POST
    data_selector: create_group
- name: managing_groups
  endpoint:
    path: /management/web/groups/managing
    method: PUT
    data_selector: modify_group
- name: image_management
  endpoint:
    path: /management/web/images/
    method: GET
- name: storage_node
  endpoint:
    path: /management/web/storage-node/
    method: GET
    data_selector: storage_nodes
    params: {}
- name: snapin
  endpoint:
    path: /management/web/snapins/
    method: GET
    data_selector: snapins
    params: {}
- name: printer_management_modes
  endpoint:
    path: /management/printers/modes
    method: GET
    data_selector: modes
    params: {}
- name: add_new_printer
  endpoint:
    path: /management/printers/add
    method: POST
    data_selector: printer
    params: {}
- name: FOG Client
  endpoint:
    path: /fog/client/
    method: GET
- name: host_register
  endpoint:
    path: /management/web/service/host/register
    method: GET
- name: task_reboot
  endpoint:
    path: /management/web/service/task/reboot
    method: GET
- name: directory_cleaner
  endpoint:
    path: /management/web/service/directory/cleaner
    method: GET
- name: display_manager
  endpoint:
    path: /management/web/service/display/manager
    method: GET
- name: green_fog
  endpoint:
    path: /management/web/service/green/fog
    method: GET
- name: snapin_client
  endpoint:
    path: /management/web/service/snapin/client
    method: GET
- name: user_tracker
  endpoint:
    path: /management/web/service/user/tracker
    method: GET
- name: user_cleanup
  endpoint:
    path: /management/web/service/user/cleanup
    method: GET
- name: printer_manager
  endpoint:
    path: /management/web/service/printer/manager
    method: GET
- name: client_updater
  endpoint:
    path: /management/web/service/client/updater
    method: GET
- name: general_tasks
  endpoint:
    path: /management/web/tasks/general
    method: GET
    data_selector: tasks
    params: {}
- name: advanced_tasks
  endpoint:
    path: /management/web/tasks/advanced
    method: GET
    data_selector: tasks
    params: {}
- name: file_recovery
  endpoint:
    path: /management/web/tasks/file-recovery
    method: GET
    data_selector: task_data
- name: virus_scan
  endpoint:
    path: /management/web/tasks/virus-scan
    method: GET
    data_selector: task_data
- name: hardware_inventory
  endpoint:
    path: /management/web/tasks/hardware-inventory
    method: GET
    data_selector: task_data
- name: single_execution_scheduling
  endpoint:
    path: /management/web/tasks/single-execution-scheduling
    method: GET
    data_selector: task_data
- name: cron_style_task_scheduling
  endpoint:
    path: /management/web/tasks/cron-style-task-scheduling
    method: GET
    data_selector: task_data
- name: snapin_log
  endpoint:
    path: /reports/snapin_log
    method: GET
    data_selector: data
    params: {}
- name: imaging_log
  endpoint:
    path: /reports/imaging_log
    method: GET
    data_selector: data
    params: {}
- name: virus_history
  endpoint:
    path: /reports/virus_history
    method: GET
    data_selector: data
    params: {}
- name: inventory
  endpoint:
    path: /reports/inventory
    method: GET
    data_selector: data
    params: {}
- name: equipment_loan
  endpoint:
    path: /reports/equipment_loan
    method: GET
    data_selector: data
    params: {}
- name: user_login_history
  endpoint:
    path: /reports/user_login_history
    method: GET
    data_selector: data
    params: {}
- name: ad_integration
  endpoint:
    path: /management/web/ad-integration
    method: GET
- name: Capone
  endpoint:
    path: /management/web/plugins/#capone
    method: GET
    data_selector: plugins
    params: {}
- name: settings
  endpoint:
    path: /fogsettings
    method: GET
- name: memtest86
  endpoint:
    path: /memtest86
    method: GET
    data_selector: command
- name: quick_registration
  endpoint:
    path: /quick_registration
    method: GET
    data_selector: command
- name: full_registration
  endpoint:
    path: /full_registration
    method: GET
    data_selector: command
- name: boot_menu
  endpoint:
    path: /fog/service/ipxe/boot.php
    method: GET
    data_selector: boot-menu
    params: {}
- name: custom_background
  endpoint:
    path: /var/www/fog/service/ipxe
    method: PUT
    data_selector: background
    params: {}
- name: wimboot
  endpoint:
    path: https://github.com/ipxe/wimboot/releases/latest/download/wimboot
    method: GET
    data_selector: wimboot
    params: {}
- name: Add & Extend a 2nd Virtual HDD
  endpoint:
    path: /kb/how-tos/add-extend-a-2nd-virtual-hdd
    method: GET
    data_selector: records
    params: {}
- name: pxeclient
  endpoint:
    path: /tftpboot
    method: GET
    data_selector: files
    params: {}
- name: subnet
  endpoint:
    path: /subnet/192.168.1.0
    method: GET
    data_selector: subnet
    params: {}
- name: bios_uefi_coexistence
  endpoint:
    path: /kb/how-tos/bios-and-uefi-co-existence
    method: GET
    data_selector: content
    params: {}
- name: UEFI-64-1
  endpoint:
    path: class "UEFI-64-1"
    method: match
    data_selector: substring(option vendor-class-identifier, 0, 20) = "PXEClient:Arch:00007"
    params:
      filename: ipxe.efi
- name: UEFI-64-2
  endpoint:
    path: class "UEFI-64-2"
    method: match
    data_selector: substring(option vendor-class-identifier, 0, 20) = "PXEClient:Arch:00008"
    params:
      filename: ipxe.efi
- name: UEFI-64-3
  endpoint:
    path: class "UEFI-64-3"
    method: match
    data_selector: substring(option vendor-class-identifier, 0, 20) = "PXEClient:Arch:00009"
    params:
      filename: ipxe.efi
- name: Legacy
  endpoint:
    path: class "Legacy"
    method: match
    data_selector: substring(option vendor-class-identifier, 0, 20) = "PXEClient:Arch:00000"
    params:
      filename: undionly.kkpxe
- name: snapin
  endpoint:
    path: /snapin
    method: POST
    data_selector: snapins
    params: {}
- name: host_management
  endpoint:
    path: /host
    method: GET
    data_selector: hosts
    params: {}
- name: macaddressassociation
  endpoint:
    path: /fog/macaddressassociation
    method: GET
    data_selector: macaddressassociation
    params: {}
- name: host
  endpoint:
    path: /fog/host
    method: GET
    data_selector: hosts
    params: {}
- name: host
  endpoint:
    path: /api/hosts
    method: GET
    data_selector: records
    params: {}
- name: mac_address
  endpoint:
    path: /api/macaddresses
    method: GET
    data_selector: records
    params: {}
- name: vsftpd_configuration
  endpoint:
    path: /etc/vsftpd/vsftpd.conf
    method: GET
    data_selector: configuration
    params: {}
- name: vsftpd_status
  endpoint:
    path: /systemctl/status/vsftpd.service
    method: GET
    data_selector: status
    params: {}
- name: firewall_status
  endpoint:
    path: /systemctl/status/firewalld.service
    method: GET
    data_selector: status
    params: {}
- name: tftp_service
  endpoint:
    path: /tftp-service
    method: GET
    data_selector: records
    params: {}
- name: tftp_settings_file
  endpoint:
    path: /tftp-settings-file
    method: GET
    data_selector: records
    params: {}
- name: tftp_service
  endpoint:
    path: /tftp_service
    method: GET
    data_selector: service
    params: {}
- name: tftp_settings_file
  endpoint:
    path: /tftp_settings_file
    method: GET
    data_selector: settings
    params: {}
- name: sshd_config_update
  endpoint:
    path: /etc/ssh/sshd_config
    method: UPDATE
    data_selector: Subsystem       sftp    internal-sftp
- name: build_script
  endpoint:
    path: /build/script
    method: GET
    data_selector: script
    params: {}
- name: manual_compilation
  endpoint:
    path: /manual/compilation
    method: GET
    data_selector: compilation
    params: {}
- name: additional_patches
  endpoint:
    path: /additional/patches
    method: GET
    data_selector: patches
    params: {}
- name: ipxe_binaries
  endpoint:
    path: /kb/reference/compile_ipxe_binaries
    method: GET
    data_selector: binaries
    params: {}
- name: MSI Installer
  endpoint:
    path: /fog/client/download.php?newclient
    method: GET
- name: Smart Installer
  endpoint:
    path: /fog/client/download.php?smartinstaller
    method: GET
- name: fog_client
  endpoint:
    path: /fog/client/download.php?newclient
    method: GET
    data_selector: client_data
- name: kernel_upgrade
  endpoint:
    path: /kb/reference/manual-kernel-upgrade
    method: GET
    data_selector: content
    params: {}
- name: System Overview
  endpoint:
    path: /management/web/dashboard/system-overview
    method: GET
    data_selector: system_overview
- name: System Activity
  endpoint:
    path: /management/web/dashboard/system-activity
    method: GET
    data_selector: system_activity
- name: Disk Information
  endpoint:
    path: /management/web/dashboard/disk-information
    method: GET
    data_selector: disk_information
- name: 30 Day Imaging History
  endpoint:
    path: /management/web/dashboard/30-day-imaging-history
    method: GET
    data_selector: imaging_history
- name: system_info
  endpoint:
    path: /fog/system/info
    method: GET
- name: active_tasks
  endpoint:
    path: /fog/task/active
    method: GET
- name: multicast_sessions
  endpoint:
    path: /fog/multicastsession/current
    method: GET
- name: registered_hosts
  endpoint:
    path: /fog/host
    method: GET
- name: host_search
  endpoint:
    path: /fog/host/search/*
    method: GET
- name: create_image
  endpoint:
    path: /fog/image/create
    method: POST
- name: edit_host
  endpoint:
    path: /fog/host/id/edit
    method: PUT
notes:
- API global token is required with the name 'fog-api-token'
- API user token is highly recommended and should be passed as 'fog-user-token'
- Uses OAuth2 with refresh token â€” requires setup of connected app in api
- FOG is an Open Source project and licensed under the GPL.
- FOG is made to install on RedHat based distro CentOS, Fedora, RHEL amongst others
  as well as Debian, Ubuntu and Arch Linux.
- The server is designed to be able to run on minimal resources.
- FOG has different versions available at any given time that are developed within
  branches of our git repository.
- If SELinux is enabled on your system, then the installer asks you to disable SELinux.
- If a local firewall (iptables or firewalld) is enabled, then the installer asks
  you to disable it.
- The installer tries to guess the distribution you're running.
- With the same installer you can install a normal FOG server (called master node)
  or a FOG storage node.
- The installer needs to know which network interface will be used for hosting PXE
  booting.
- If you want to run a DHCP server on this FOG server, then choose y(es).
- If you want the FOG web UI to provide additional languages, choose y(es) here.
- You can choose to set up FOG with encrypted communication.
- Review the auto-detected hostname; choose n(o) to accept the suggested hostname.
- Capture an image of a Windows 10 machine on older hardware that has a BIOS.
- If you do not have access to your DHCP server, or are using a device that isn't
  capable of specifying option 066 and 067, you can use ProxyDHCP instead.
- Most popular ProxyDHCP method with fog is dnsmasq.
- This combines FOG with a proxyDHCP server.
- Uses dnsmasq to function as a proxyDHCP server.
- If this setting is incorrect, the dnsmasq may not start, rendering your proxyDHCP
  ineffective.
- A ProxyDHCP server can also help deal with PXE Clients that do not work with separate
  DHCP and TFTP servers.
- 'Don''t function as a DNS server: port=0'
- Log lots of extra information about DHCP transactions.
- 'Set the root directory for files available via FTP: tftp-root=/tftpboot'
- 'The boot filename, Server name, Server Ip Address: dhcp-boot=undionly.kpxe,,192.168.112.24'
- Disable re-use of the DHCP servername and filename fields as extra option space.
- Set the boot file name based on the matching tag from the vendor class.
- 'PXE menu: The first part is the text displayed to the user. The second is the timeout,
  in seconds.'
- UUID for a Dell e6230 tested, gleaned from the dnsmasq log file that recorded a
  pxe boot session
- The order of the dhcp-boot lines appear to be important. The last match will win.
- Uses Proxy DHCP when there is an existing DHCP service that cannot be altered.
- UUID for a Dell e6230 tested
- The order of the dhcp-boot lines appears to be important. The last match will win.
- There are newer versions of dnsmasq that may be available through package managers
  now.
- The FOG installer has quite a few command line options.
- Under Construction, doc is being migrated from the wiki and updated with new content
- Do not create a user called fog - it will cause you nothing but pain later on
- Migrating FOG Settings & images from an old box to a new box is safer than attempting
  an OS upgrade.
- Using NFS on the new FOG Server is recommended for inexperienced Linux users.
- Migrating from an old box to a new box also leaves your old box intact, which is
  another safety net in this method.
- To maintain control of existing hosts that have existing new FOG Clients installed
  or existing images that have the new FOG Client built into them, you must copy the
  ssl directory from the old server to the new server.
- To complete the ssl migration, on the new FOG Server, re-run the fog installer that
  you used for installing fog.
- FOG can be used on bare metal as well as in most virtual server and client setups.
- Some of the virtualization techniques are really great when used with FOG, e.g.
  snapshots.
- The FOG client is an agent running on the machines you are managing with Fog.
- The first time the FOG client service runs on a machine, it will create a set of
  encryption keys and then tries to register itself at the FOG server.
- There are 2 services and 2 log files that run on windows.
- The user service is run in a user's context and helps with notification popups and
  user level tasks.
- All accounts must have a unique username and a password.
- You can also give API access or a friendly display name.
- This is the preferred method, and maybe the easiest method for getting a host into
  the FOG database.
- At least a hostname and a MAC address must be entered in order to add the host to
  the FOG database.
- The file must be saved as a CSV without a header row.
- Groups in FOG are used to organize your hosts into real world logical clusters.
- Storage Nodes provide extra NFS/FTP storage space which increases available throughput
  and redundancy within a network.
- Master Node distributes images files to all other nodes in the storage group.
- Snapins can be anything from whole applications like Microsoft Office to registry
  keys or desktop icons.
- As of version 0.17, fog supports using typical msi files as snapin files.
- Setting of the default printer will only work if the fog tray icon is running.
- Most of the things here about the FOG Client service apply to the legacy FOG client
  that came with FOG versions 1.2.0 and older.
- FOG 1.3.0 now comes with a new FOG Client.
- As of version 0.12 of FOG, the client updater module waits between 60 and 500 seconds
  after service startup to check with the server for newer FOG service modules.
- Only certain modules can be updated, only those that are a sub class of AbstractFOGService.
- Capturing images of Windows Vista and Windows 7 requires special command to be run
  on the clients prior to image capture.
- Task scheduling requires an image to be associated with the host, even for non-image
  based tasks.
- The FOG scheduler doesn't support 100% of the operations that cron supports.
- It is possible to change the keymap or keyboard layout of the linux boot image.
- FOG attempts to keep your password secure by encrypting it, but since FOG is open
  source, it is possible for someone to decrypt your password if you don't change
  the FOG 'Passkey.' It is highly recommended that you change this Passkey before
  implementing the AD integration in a production environment.
- Uses DHCP configuration for network settings
- It is not recommended to use the Legacy and New Client services in the same environment.
- The advanced configuration options in the FOG PXE Boot Menu allow you to create
  a secondary menu that can be accessed from the boot menu screen.
- Variables fog-ip and fog-webroot have been created automatically for you, and assigned
  values relevant to your installation.
- 'Place the file in the following directory: /var/www/fog/service/ipxe'
- Use a resolution of 800x600
- FOG can automatically join computers to an Active Directory domain.
- Caveat is that do NOT Add the domain or it will not work.
- Domain does not need to be fully qualified for Domain Username.
- For FOG 1.3.0+ The password should be typed plain-text, and will auto-encrypt on
  its own when saved.
- FOGPassword is NOT encrypted for the command line test.
- These next steps should only be taken by a seasoned Linux professional, because
  there is a risk that if done wrong you can lose all of your host images.
- No router is defined in this configuration but can easily be added.
- Uses DHCP for dynamic IP address allocation.
- Update the ipaddress= field (and other fields if necessary) inside the /opt/fog/.fogsettings
  file
- Rerun the installer, you'll need to use --recreate-CA and --recreate-keys keys as
  the installer provides a certificate with a Common Name based on the ip which will
  be shipped in the iPxe kernel and failed to load any https resources as the certificate
  isn't valid anymore
- Update the IP address inside /tftpboot/default.ipxe (look for the chain line i.e
  chain https://x.x.x.x/fog/service/ipxe/boot.php##params)
- Update the IP address for the storage node on the FOG system where you changed the
  IP address Web Interface Storage Management
- Update the IP address on a any master storage node that may reference this FOG server
  Web Interface Storage Management
- (For master server) Update the FOG_WEB_HOST value Web Interface FOG Configuration
  FOG Settings Web Server FOG_WEB_HOST
- (For master server) Update the FOG_TFTP_HOST value Web Interface FOG Configuration
  FOG Settings TFTP Server FOG_TFTP_HOST
- Update IP addresses (fog and gateway) inside the /etc/dhcp/dhcpd.conf
- Don't forgot to check your /etc/export for nfs server as well as your apache2 configuration
  as the installer override it
- If you create a Multi-Disk image with a dual boot configuration, the efi boot entries
  will not be maintained automatically when deployed to different hardware
- Post install scripts can be added on the fog server at /images/post-install
- You need to use efibootmgr in a post script to configure the efi boot entries and
  maintain your dual boot config
- The host name can be set via the Fog Web UI.
- Changing the host name on Windows requires a reboot.
- Fog has the ability to run bash scripts to add various automations after an image
  finished downloading to a host.
- If the primary mac is missing, various operations will fail in the GUI and the API
  for that Host.
- Greater than 90% of FOG FTP problems are caused by bad/mismatched credentials.
- Use fog / your-fog-account-Password for the credentials
- Should see 'Index of /' when accessing the FTP server in a web browser
- There are a few places where all the credentials (on a standard install) should
  match exactly.
- For FOG Trunk/FOG 1.3.0 users, if the password field inside of the /opt/fog/.fogsettings
  file is set incorrectly, every time you re-run the FOG installer, it will set the
  local fog user's password to this incorrect password. It's important to set the
  password correctly in all of the above listed areas.
- TFTP is used to download the boot-file specified by either DHCP or ProxyDHCP.
- TFTP is very simple and has very little protections in place.
- Generally read-only is preferred for files offered by TFTP.
- Ensure that the below settings are set to a local FOG linux user that actually exists.
  Ensure correct password is provided. Ensure that the supplied user has permission
  to the /tftpboot directory.
- Normally, the boot-files for FOG are located in /tftpboot.
- It's necessary to disable the Windows firewall when using windows for testing.
- Some objects may return nulls in deeply nested fields.
- Reset the fog user password.
- Ensure nothing else on the network is conflicting with the DHCP server.
- FOG 1.6 uses SFTP/SSH for image capture instead of FTP as was used in the past.
- A by-product of this change from ftp to SSH/SFTP is that we need the SSH daemon
  configured to use internal-sftp for the sftp module in the OS.
- During install/update of 1.6 the Installer uses a sed command to attempt to update
  the /etc/ssh/sshd_config.
- FOS kernels are updated regularly to provide drivers for newer hardware and fix
  issues.
- The vanilla Linux kernel is used and very few patches are added to keep it as close
  to the official source as possible.
- FOG is using the most current iPXE source code to build many different PXE binaries.
- The build code does not change on every re-compile you do but only if there is a
  newer version available.
- The FOG Tray is currently incompatible on linux systems.
- 'The following modules / features are not yet supported: Active Directory joining,
  PrinterManager.'
- Ensure you have the files bzImage and bzImage32 located in /var/www/html/fog/service/ipxe/
- On some distros the root path is /var/www/fog...
- Most distros use the root path for the fog httpd/apache site /var/www/html/fog...
- FOG depends on quite some network protocols, like FTP, NFS, DHCP and HTTPS.
- In a 'flat' network where all clients and servers are in the same IP subnet, this
  usually does not give much problems, but when components of FOG are in different
  networks and when firewalls are in between them, you have to plan and configure
  carefully.
- This article is older (year 2012), and has only had it's terminology updated to
  reflect current FOG terminology.
- It's usually a good idea to update those components a week or two before doing a
  FOG release to get those current versions tested by people using FOG dev-branch.
- API global token is required as a header.
- API user token is highly recommended to be passed as a header.
errors:
- '200 OK: API is accessible'
- 'Authorization errors: Check your API tokens'
- 'Invalid login: Ensure correct username and password are provided.'
- TFTP traffic may be blocked by firewalls.
- Ensure TFTP Client is installed on Windows.
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'ssh2_sftp(): Unable to startup SFTP subsystem: Timeout waiting for response from
  SFTP subsystem'
- Performance issues in HyperV may occur without the necessary patches.
- Ensure your iPXE files have a current date on them.
- Run the compile script requires internet access.
- Some firewalls have a 'TFTP helper'. If there is such a firewall between the clients
  and the FOG Storage, then this TFTP helper 'looks' into the TFT chat between clients
  and storage and sees which random port is requested.
- '200: Accessible'
- '401: Unauthorized access - check tokens'
auth_info:
  mentioned_objects: []
client:
  base_url: https://docs.fogproject.org/en/latest/
  headers:
    Accept: application/json
source_metadata: null
