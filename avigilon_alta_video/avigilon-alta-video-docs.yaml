resources:
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: users
  endpoint:
    path: /api/v1/users
    method: GET
    data_selector: ''
    params: {}
- name: devices
  endpoint:
    path: /api/v1/devices
    method: GET
    data_selector: ''
    params: {}
- name: auth
  endpoint:
    path: /api/v1/auth
    method: GET
    data_selector: ''
    params: {}
- name: totp
  endpoint:
    path: /api/v1/totp
    method: POST
    data_selector: ''
    params: {}
- name: my_totp
  endpoint:
    path: /api/v1/me/totp
    method: POST
    data_selector: ''
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
- name: control_access
  endpoint:
    path: /Integrations/accesscontrol
    method: GET
- name: sensors
  endpoint:
    path: /Integrations/sensors
    method: GET
- name: pos
  endpoint:
    path: /Integrations/pos
    method: GET
- name: device
  endpoint:
    path: /services/data/vXX.X/sobjects/Device
    method: GET
    data_selector: records
    params: {}
- name: access_control
  endpoint:
    path: /services/data/vXX.X/sobjects/AccessControl
    method: GET
    data_selector: records
- name: access_control
  endpoint:
    path: /services/data/vXX.X/access_control
    method: GET
    data_selector: records
- name: video_streams
  endpoint:
    path: /services/data/vXX.X/video_streams
    method: GET
    data_selector: records
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: Client Ports
  endpoint:
    path: /client_ports
    method: GET
- name: Server Ports
  endpoint:
    path: /server_ports
    method: GET
- name: Device Ports
  endpoint:
    path: /device_ports
    method: GET
- name: Unity Cloud Ports
  endpoint:
    path: /unity_cloud_ports
    method: GET
- name: Unity Video Client
  endpoint:
    path: /services/data/v8.3/clients
    method: GET
    data_selector: ports
    params: {}
- name: Unity Video Server
  endpoint:
    path: /services/data/v8.3/servers
    method: GET
    data_selector: ports
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: media
  endpoint:
    path: /media
    method: GET
    data_selector: result
    params: {}
- name: access_control
  endpoint:
    path: /Integrations/accesscontrol
    method: GET
    data_selector: data
    params: {}
- name: sensors
  endpoint:
    path: /Integrations/sensors
    method: GET
    data_selector: data
    params: {}
- name: pos
  endpoint:
    path: /Integrations/pos
    method: GET
    data_selector: data
    params: {}
- name: access_control
  endpoint:
    path: /services/data/vXX.X/sobjects/AccessControl
    method: GET
    data_selector: records
    params: {}
notes:
- Uses OAuth2 with refresh token — requires setup of connected app in api
- Some objects like Contact may return nulls in deeply nested fields
- Utilizza autenticazione a due fattori (2FA) con l'API
- È necessario memorizzare la password e la chiave di configurazione in modo da impedire
  l'accesso non autenticato
- Consente la generazione del segreto 2FA e l'inserimento del 2FA tramite codice TOTP
  o segreto.
- Prácticas recomendadas al crear integraciones de Alta Video
- autenticación de 2 factores en Alta Video
- Uses OAuth2 with refresh token — requires setup of connected app in Alta Video
- HLS provides a method to take live, recorded or favorited video streams from your
  Alta Video implementation.
- La autenticación del usuario de la aplicación se realiza a través de las credenciales
  suministradas con la solicitud HLS.
- Se recomienda crear un usuario con solo los permisos mínimos necesarios para ver
  la transmisión elegida.
- All requests to the API require an authentication cookie.
- 'The cookie is obtained by sending an HTTP POST request to: https://<deployment
  name>.<region>.alta.avigilon.com/api/v1/dologin'
- Using the Alta Video API, you can develop custom applications to control Alta Protect
  zones and handle alarms.
- Network standards and protocols determine the specifications that devices use to
  communicate over the network.
- Only enable the ports needed for services being used on your System. Any open unused
  ports pose a security risk.
- Avigilon does not recommend connecting your System to the internet. If internet
  connection is a necessity for your System, use a well configured firewall.
- Ensure your Avigilon Unity Video site has Internet access.
- Ensure that each Unity Video Server is version 7.12 or later and that the same version
  of the Unity Video Web Endpoint Service is installed and running.
- Ensure your Unity Video Server meets the minimum system requirements.
- If you have a multi-server site, add all servers to the site before connecting to
  Avigilon Unity Cloud. Otherwise you will have to disconnect the standalone servers
  from Unity Cloud before adding them to your single Avigilon Unity Video site.
- Ensure each server has the correct time zone, date, time, and daylight saving time
  settings. For a multi-server site, ensure the servers are synchronized to a network
  time protocol (NTP) server.
- Ensure your firewall allows these ports for use in Avigilon Unity Video.
- Some objects may return nulls in deeply nested fields
- Solo se permiten transmisiones RTSPS encriptadas con TLS, ejecutándose en el puerto
  322.
- Puede tomar la URL de su implantación de Alta Video y sustituirla por https con
  rtsps y añadir .stream entre el nombre de la implementación y la región.
errors:
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'GET failed for: returned status code'
- 'failed to post to: returned status code'
- 'failed to put to: returned status code'
- 1These ports are closed.
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: https://s.avigilon.com
  auth:
    type: oauth2
    location: header
    header_name: Authorization
source_metadata: null
