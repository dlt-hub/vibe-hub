resources:
- name: cheapest_tickets
  endpoint:
    path: /v1/prices/cheap
    method: GET
    data_selector: result
- name: non_stop_tickets
  endpoint:
    path: /v1/prices/direct
    method: GET
    data_selector: result
- name: cheapest_tickets
  endpoint:
    path: /v1/prices/monthly
    method: GET
    data_selector: result
    params:
      currency: USD
      origin: MOW
      destination: HKT
- name: hotel_data
  endpoint:
    path: /v1/prices/calendar
    method: GET
    data_selector: result
    params:
      depart_date: 2019-11
      origin: MOW
      destination: BCN
      calendar_type: departure_date
      currency: USD
- name: airline-directions
  endpoint:
    path: /airline-directions
    method: GET
    data_selector: result
    params: {}
- name: city-directions
  endpoint:
    path: /city-directions
    method: GET
    data_selector: result
    params: {}
- name: latest_prices
  endpoint:
    path: /v2/prices/latest
    method: GET
    data_selector: result
    params:
      currency: usd
      period_type: year
      page: '1'
      limit: '30'
      show_to_affiliates: 'true'
      sorting: price
      trip_class: '0'
- name: month_matrix
  endpoint:
    path: /v2/prices/month-matrix
    method: GET
    data_selector: result
    params:
      currency: usd
      show_to_affiliates: 'true'
      origin: LED
      destination: HKT
- name: nearest_places_matrix
  endpoint:
    path: /v2/prices/nearest-places-matrix
    method: GET
    data_selector: result
    params:
      currency: usd
      show_to_affiliates: 'true'
      origin: LED
      destination: HKT
- name: hotels
  endpoint:
    path: /v2/prices/week-matrix
    method: GET
    data_selector: result
    params: {}
- name: user_location
  endpoint:
    path: /whereami
    method: GET
    data_selector: result
    params: {}
- name: countries
  endpoint:
    path: /data/en/countries.json
    method: GET
    data_selector: result
    params: {}
- name: cities
  endpoint:
    path: /data/en/cities.json
    method: GET
    data_selector: result
    params: {}
- name: airports
  endpoint:
    path: /data/en/airports.json
    method: GET
    data_selector: result
- name: airlines
  endpoint:
    path: /data/en/airlines.json
    method: GET
    data_selector: result
- name: airlines_alliances
  endpoint:
    path: /data/en/airlines_alliances.json
    method: GET
    data_selector: result
- name: flight_search_results
  endpoint:
    path: /v1/flight_search_results
    method: GET
    data_selector: search_id
    params: {}
- name: hotel_lookup
  endpoint:
    path: /lookup.json
    method: GET
    data_selector: result
    params: {}
- name: hotel_cache
  endpoint:
    path: /cache.json
    method: GET
    data_selector: result
    params: {}
- name: hotels
  endpoint:
    path: /tp/v1/hotels
    method: GET
    data_selector: result
    params:
      language: en
- name: hotel_selection
  endpoint:
    path: /tp/public/widget_location_dump.json
    method: GET
    data_selector: result
    params:
      currency: rub
      language: ru
      limit: '5'
      type: popularity
- name: countries
  endpoint:
    path: /api/v2/static/countries.json
    method: GET
    data_selector: result
    params: {}
- name: locations
  endpoint:
    path: /api/v2/static/locations.json
    method: GET
    data_selector: result
    params: {}
- name: available_selections
  endpoint:
    path: /tp/public/available_selections.json
    method: GET
    data_selector: result
    params: {}
- name: hotels_list
  endpoint:
    path: /api/v2/static/hotels.json
    method: GET
    data_selector: result
    params: {}
- name: amenities
  endpoint:
    path: /api/v2/static/amenities/en.json
    method: GET
    data_selector: result
    params: {}
- name: room_types
  endpoint:
    path: /static/roomTypes.json
    method: GET
    data_selector: result
    params:
      language: en
      token: PasteYourTokenHere
- name: hotel_types
  endpoint:
    path: /static/hotelTypes.json
    method: GET
    data_selector: result
    params:
      language: en
      token: PasteYourTokenHere
- name: hotel_photos_old
  endpoint:
    path: /image_v2/limit/hId_photoId/photosize.jpg
    method: GET
    data_selector: result
- name: hotel_photos_new
  endpoint:
    path: /photos/hotel_photos
    method: GET
    data_selector: result
    params:
      id: 27926056,4
- name: search_start
  endpoint:
    path: /search/start.json
    method: GET
    data_selector: result
    params:
      iata: HKT
      checkIn: '2018-08-10'
      checkOut: '2018-08-13'
      adultsCount: 2
      customerIP: 100.168.1.1
      childrenCount: 1
      childAge1: 8
      lang: ru
      currency: USD
      waitForResult: 0
      marker: УкажитеВашМаркер
      signature: a475100374414df97a9c6c7d7731b3c6
- name: search_result
  endpoint:
    path: /search/getResult.json
    method: GET
    data_selector: result
    params:
      searchId: 4034914
      limit: 10
      sortBy: price
      sortAsc: 1
      roomsCount: 0
      offset: 0
      marker: PasteYourMarkerHere
      signature: 364c38baee5cf11b382297bfd4338ce6
- name: search_result
  endpoint:
    path: /api/v2/search/getResult.json
    method: GET
    data_selector: result
    params: {}
notes:
- Data is transferred from the cache, recommended to generate static pages.
- Must pass token in the X-Access-Token header or in the token parameter.
- It is strongly urged to receive data in compressed GZIP format.
- The reference to the agency's website must be received only when the user clicks
  the 'Buy' button. Automatic collection of all links from the answer is prohibited.
- Reference to the agency's website must be received only when the user clicks the
  'Buy' button.
- 'When you are trying to get a search result, at the end of search you get the error
  ''errorCode: 4''. This means the results are not yet ready. The search is not interrupted;
  you should repeat the request later.'
- Each search query must be initiated by the user and the results must be shown to
  the user in full.
- The reference to the agency's website must be received only when the user clicks
  the 'Buy' button.
- It's forbidden to use our search API with the API of other metasearches of flights.
- Page with found flights should be hidden from search engine bots using the robots.txt
  file.
- Automatic collection of all links from the answer is prohibited.
- The link to the search results is relevant for 15 minutes. After this time, you
  must send a search query again.
- To get a link to the site of the ticket booking agencies send a request to the specified
  address.
- If you send a request without a token, the number of queries will be limited.
- The default number of requests is limited to 60 per minute. If you need to process
  more requests, send a letter to support@travelpayouts.com.
- Use the correct token for requests.
- Ensure to handle rate limiting as per API guidelines.
- The default number of requests is limited to 200 requests per hour for one IP address.
errors:
- 'errorCode: 4: Results are not yet ready, repeat the request later.'
- 'errorCode: 4 - Results are not yet ready. Repeat the request later.'
- 'errorCode: 4: The results are not yet ready. Repeat the request later.'
- 'errorCode: 4: The results are not yet ready.'
- 'errorCode: 4: The search results are not yet ready; repeat the request later.'
- errorCode 1 – not all required parameters are filled
- errorCode 2 – at least one of the parameters does not match the format
- errorCode 3 – access is denied
- errorCode 4 – search is not over yet
auth_info:
  mentioned_objects: []
client:
  base_url: https://api.travelpayouts.com
  headers:
    x-access-token: 321d6a221f8926b5ec41ae89a3b2ae7b
source_metadata: null
