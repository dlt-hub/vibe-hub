resources:
- name: device_management
  endpoint:
    path: /v1.0/devices
    method: GET
    data_selector: result
    params: {}
- name: devices
  endpoint:
    path: /v1.0/devices
    method: GET
    data_selector: result
    params: {}
- name: device_details
  endpoint:
    path: /v1.0/devices/{device_id}/multiple-names
    method: GET
    data_selector: result
    params:
      device_id: string
- name: modify_device_name
  endpoint:
    path: /v1.0/devices/{device_id}/multiple-names
    method: GET
    data_selector: result
    params:
      device_id: String
- name: query_device_logs
  endpoint:
    path: /v1.0/devices/{device_id}/multiple-names
    method: GET
    data_selector: result
    params:
      device_id: String
- name: restore_to_factory_defaults
  endpoint:
    path: /v1.0/devices/{device_id}/multiple-names
    method: GET
    data_selector: result
    params:
      device_id: String
- name: delete_specified_device
  endpoint:
    path: /v1.0/devices/{device_id}/multiple-names
    method: GET
    data_selector: result
    params:
      device_id: String
- name: query_devices_under_gateway
  endpoint:
    path: /v1.0/devices/{device_id}/multiple-names
    method: GET
    data_selector: result
    params:
      device_id: String
- name: multiple_names
  endpoint:
    path: /v1.0/devices/{device_id}/multiple-names
    method: GET
    data_selector: result
    params:
      device_id: string
- name: multiple_names
  endpoint:
    path: /v1.0/devices/{device_id}/multiple-names
    method: GET
    data_selector: result
    params:
      device_id: String
- name: temporary_key
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/password-ticket
    method: POST
    data_selector: result
    params:
      device_id: required
- name: create_temporary_password
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/temp-password
    method: POST
    data_selector: records
    params: {}
- name: create_unnamed_temporary_password
  endpoint:
    path: /v2.0/devices/{device_id}/door-lock/temp-password
    method: POST
    data_selector: records
    params: {}
- name: synchronize_passwords
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/issue-password
    method: POST
    data_selector: records
    params: {}
- name: get_temporary_password_info
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/temp-password/{password_id}
    method: GET
    data_selector: records
    params: {}
- name: get_list_of_temporary_passwords
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/temp-passwords
    method: GET
    data_selector: records
    params: {}
- name: get_list_of_temp_passwords_keepalive_locks
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/stand-by-lock-temp-passwords
    method: GET
    data_selector: records
    params: {}
- name: unlocking_records
  endpoint:
    path: /v1.1/devices/{device_id}/door-lock/open-logs
    method: GET
    data_selector: result.logs
    params:
      device_id: required
      page_no: required
      page_size: required
      start_time: required
      end_time: required
      showMediaInfo: optional
- name: alert_records
  endpoint:
    path: /v1.1/devices/{device_id}/door-lock/alarm-logs
    method: GET
    data_selector: result.records
    params:
      device_id: required
      page_no: required
      page_size: required
      codes: optional
      show_media_info: optional
- name: combined_records
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/records
    method: GET
    data_selector: result.records
    params:
      device_id: required
      target_standard_dp_c: required
      start_time: required
      end_time: required
      page_no: required
      page_size: required
- name: allocate_record
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/records/{record_id}/actions/allocate
    method: POST
    data_selector: result
    params:
      device_id: required
      record_id: required
      user_id: required
- name: reset_temp_passwords
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/temp-passwords/rest-password
    method: POST
    data_selector: result
    params:
      device_id: required
- name: remote_unlock_methods
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/remote-unlocks
    method: GET
    data_selector: result
    params:
      device_id: required
- name: remote_unlock_config
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/remote-unlock/config
    method: POST
    data_selector: result
    params:
      device_id: string
      remote_unlock_type: string
      open: boolean
- name: open_door
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/open-door
    method: POST
    data_selector: result
    params:
      device_id: string
      password: string
      password_type: string
      ticket_id: string
- name: advanced_password
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/advanced-password
    method: POST
    data_selector: result
    params:
      device_id: string
      password: string
      password_type: string
      ticket_id: string
      advanced_type: string
- name: query_advanced_password
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/advanced-password
    method: GET
    data_selector: result
    params:
      device_id: string
      advanced_type: string
- name: media_view_times
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/media-view-times
    method: GET
    data_selector: result
    params:
      device_id: string
- name: add_video_view
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/media-view-times
    method: POST
    data_selector: result
    params:
      device_id: string
- name: password_free_door_operate
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/password-free/door-operate
    method: POST
    data_selector: result
    params:
      device_id: string
      ticket_id: string
      open: boolean
- name: password_free_open_door_v1_1
  endpoint:
    path: /v1.1/devices/{device_id}/door-lock/password-free/open-door
    method: POST
    data_selector: result
    params:
      device_id: string
      ticket_id: string
      channel_id: integer
- name: revoke_password_free_unlocking
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/password-free/open-door/cancel
    method: PUT
    data_selector: result
    params:
      device_id: string
      type: integer
- name: unlock_without_password
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/password-free/door-operate
    method: POST
    data_selector: result
    params:
      device_id: required
      ticket_id: required
      open: optional
- name: get_temporary_key
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/password-ticket
    method: POST
    data_selector: result
    params:
      device_id: required
- name: get_cover_image
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/latest/media/url
    method: GET
    data_selector: result
    params:
      device_id: required
      file_type: required
- name: get_album_list
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/albums-media
    method: GET
    data_selector: result
    params:
      device_id: required
- name: get_home_users
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/users
    method: GET
    data_selector: result
    params:
      device_id: required
      codes: required
      page_no: required
      page_size: required
- name: update_user_validity
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/users/{user_id}/schedule
    method: PUT
    data_selector: result
    params:
      device_id: required
      user_id: required
      schedule: required
- name: unlocking_methods
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/opmodes/{user_id}
    method: GET
    data_selector: result
    params:
      device_id: String
      user_id: String
      codes: String
      unlock_name: String
      page_no: Integer
      page_size: Integer
- name: removed_users
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/absent-users
    method: GET
    data_selector: result
    params:
      device_id: String
- name: delete_users
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/users/{user_ids}/actions/delete-users-issue
    method: POST
    data_selector: result
    params:
      device_id: String
      user_ids: String
- name: add_device_user
  endpoint:
    path: /v1.0/devices/{device_id}/user
    method: POST
    data_selector: result
    params:
      device_id: String
      nick_name: String
      sex: Integer
      birthday: Long
      height: Integer
      weight: Integer
      contact: String
- name: modify_device_user
  endpoint:
    path: /v1.0/devices/{device_id}/users/{user_id}
    method: PUT
    data_selector: result
    params:
      device_id: String
      user_id: String
      nick_name: String
      sex: Integer
      birthday: Long
      height: Integer
      weight: Integer
- name: update_user_role
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/users/{user_id}/actions/role
    method: PUT
    data_selector: success
    params:
      device_id: String
      user_id: String
      role: String
- name: delete_device_user
  endpoint:
    path: /v1.0/devices/{device_id}/users/{user_id}
    method: DELETE
    data_selector: result
    params:
      device_id: String
      user_id: String
- name: query_device_user_info
  endpoint:
    path: /v1.0/devices/{device_id}/users/{user_id}
    method: GET
    data_selector: ''
    params:
      device_id: String
      user_id: String
- name: query_user_list_by_device_id
  endpoint:
    path: /v1.0/devices/{device_id}/users
    method: GET
    data_selector: ''
    params:
      device_id: String
- name: user_list_by_device_id
  endpoint:
    path: /v1.1/devices/{device_id}/users
    method: GET
    data_selector: result.records
    params:
      device_id: String
      keyword: String
      role: String
      page_no: Integer
      page_size: Integer
- name: assign_password_to_device_user
  endpoint:
    path: /v1.0/devices/{device_id}/device-lock/users/{user_id}/allocate
    method: POST
    data_selector: result
    params:
      device_id: String
      user_id: String
      'no': String
      type: String
- name: assign_multiple_unlocking_methods
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/opmodes/actions/allocate
    method: POST
    data_selector: result
    params:
      device_id: String
      user_id: String
      unlock_list: List
- name: get_devices_linked_with_user_account
  endpoint:
    path: /v1.0/smart-lock/users/{uid}/devices
    method: GET
    data_selector: result.records
    params:
      uid: String
      page_no: Integer
      page_size: Integer
- name: get_linked_unlocking_methods
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/user-types/{user_type}/users/{user_id}/assigned-keys
    method: GET
    data_selector: result.unlock_keys
    params:
      device_id: String
      user_type: Integer
      user_id: String
      unlock_type: String
- name: get_unlinked_unlocking_methods
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/unassigned-keys
    method: GET
    data_selector: result.unlock_keys
    params:
      device_id: String
      unlock_type: String
- name: sync_unlocking_methods_by_cloud
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/opmodes/actions/sync
    method: POST
    data_selector: result
    params:
      device_id: String
      codes: String
- name: enroll_in_unlocking_methods
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/actions/entry
    method: PUT
    data_selector: result
    params:
      device_id: String
      user_id: String
      user_type: Integer
      unlock_type: String
      password_type: String
      ticket_id: String
      password: String
- name: delete_unlocking_method
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/user-types/{user_type}/users/{user_id}/unlock-types/{unlock_type}/keys/{unlock_no}
    method: DELETE
    data_selector: result
    params:
      device_id: String
      user_type: Integer
      user_id: String
      unlock_type: String
      unlock_no: Integer
- name: cancel_unlocking_method_enrollment
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/unlock-types/{unlock_type}/actions/cancel
    method: PUT
    data_selector: result
    params:
      device_id: string
      unlock_type: string
- name: update_unlocking_method_name
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/opmodes/{unlock_sn}
    method: PUT
    data_selector: result
    params:
      device_id: string
      unlock_sn: integer
      dp_code: string
      unlock_name: string
- name: set_hijack_alarm
  endpoint:
    path: /v1.0/devices/{device_id}/door-lock/unlock-types/{unlock_type}/keys/{unlock_no}/hijack
    method: PUT
    data_selector: result
    params:
      device_id: string
      unlock_type: string
      unlock_no: integer
- name: delete_hijack_alarm
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/unlock-types/{unlock_type}/keys/{unlock_sn}/hijack
    method: DELETE
    data_selector: result
    params:
      device_id: string
      unlock_type: string
      unlock_sn: integer
- name: set_special_attributes
  endpoint:
    path: /v1.0/smart-lock/devices/{device_id}/opmodes/{opmode_id}/attribute/{attribute}/opmode-attr
    method: POST
    data_selector: result
    params:
      device_id: string
      opmode_id: long
      attribute: integer
      enabled: boolean
- name: get_device_details
  endpoint:
    path: /v1.0/devices/{device_id}
    method: GET
    data_selector: result
    params:
      device_id: string
- name: device
  endpoint:
    path: /v1.0/devices
    method: GET
    data_selector: result
    params: {}
- name: device_info
  endpoint:
    path: /api/device/getDeviceInfo
    method: GET
    data_selector: DevInfo
- name: device_state
  endpoint:
    path: /api/device/getDeviceState
    method: GET
    data_selector: DpState
- name: isMeshDevice
  endpoint:
    path: TYSdk.device.isMeshDevice
    method: GET
- name: isMeshWifiDevice
  endpoint:
    path: TYSdk.device.isMeshWifiDevice
    method: GET
- name: isShareDevice
  endpoint:
    path: TYSdk.device.isShareDevice
    method: GET
- name: isSigMeshDevice
  endpoint:
    path: TYSdk.device.isSigMeshDevice
    method: GET
- name: isWifiDevice
  endpoint:
    path: TYSdk.device.isWifiDevice
    method: GET
- name: putDeviceData
  endpoint:
    path: TYSdk.device.putDeviceData
    method: POST
- name: putLocalDpData
  endpoint:
    path: TYSdk.device.putLocalDpData
    method: POST
- name: back
  endpoint:
    path: TYSdk.mobile.back
    method: GET
- name: bottomListDialog
  endpoint:
    path: TYSdk.mobile.bottomListDialog
    method: POST
- name: disablePopGesture
  endpoint:
    path: TYSdk.mobile.disablePopGesture
    method: GET
- name: enablePopGesture
  endpoint:
    path: TYSdk.mobile.enablePopGesture
    method: GET
- name: getMobileInfo
  endpoint:
    path: TYSdk.mobile.getMobileInfo
    method: GET
- name: getNetworkState
  endpoint:
    path: TYSdk.mobile.getNetworkState
    method: GET
- name: hideLoading
  endpoint:
    path: TYSdk.mobile.hideLoading
    method: GET
- name: is24Hour
  endpoint:
    path: TYSdk.mobile.is24Hour
    method: GET
- name: jumpSubPage
  endpoint:
    path: TYSdk.mobile.jumpSubPage
    method: POST
- name: jumpTo
  endpoint:
    path: TYSdk.mobile.jumpTo
    method: POST
- name: showEditDialog
  endpoint:
    path: TYSdk.mobile.showEditDialog
    method: POST
- name: showLoading
  endpoint:
    path: TYSdk.mobile.showLoading
    method: GET
- name: showPromptDialog
  endpoint:
    path: TYSdk.mobile.showPromptDialog
    method: POST
- name: simpleConfirmDialog
  endpoint:
    path: TYSdk.mobile.simpleConfirmDialog
    method: POST
- name: simpleTipDialog
  endpoint:
    path: TYSdk.mobile.simpleTipDialog
    method: POST
- name: verSupported
  endpoint:
    path: TYSdk.mobile.verSupported
    method: GET
- name: gotoDpAlarm
  endpoint:
    path: TYSdk.native.gotoDpAlarm
    method: POST
- name: showDeviceMenu
  endpoint:
    path: TYSdk.native.showDeviceMenu
    method: GET
- name: token
  endpoint:
    path: /v1.0/token
    method: GET
    data_selector: result
- name: refresh_token
  endpoint:
    path: /v1.0/token/{refresh}
    method: GET
    data_selector: result
- name: login_free_token
  endpoint:
    path: /v1.0/users/{uid}/ticket
    method: POST
    data_selector: result
- name: device
  endpoint:
    path: /v1.0/devices
    method: GET
    data_selector: result
    params: {}
- name: device_status
  endpoint:
    path: /v1.0/devices/{device_id}/status
    method: GET
    data_selector: result
    params: {}
- name: device_commands
  endpoint:
    path: /v1.0/device/commands
    method: POST
    data_selector: commands
- name: get_access_token
  endpoint:
    path: /v1.0/token
    method: GET
    data_selector: access_token
- name: query_instruction_sets
  endpoint:
    path: /v1.0/device/instruction_sets
    method: GET
    data_selector: instruction_sets
notes:
- Requires OAuth2 authentication setup
- API calls are limited based on user plan
- Temporary key is used to request the API of unlocking without a password.
- Exercise caution when debugging APIs, because the platform uses the authorization
  key (access ID and access secret) of the current project to get a temporary token
  and make an API call to online resources.
- Ensure to subscribe to the required API services before making requests.
- API Explorer is available for testing and debugging.
- 4.0 and above versions support device state functions.
- 4.0 and above versions support this function.
- Ensure you have valid client credentials for accessing the API
- Check the API limits to avoid request throttling
- Requires device linked with the platform.
- Authorization required for API requests.
errors:
- '400 Bad Request: Check request parameters'
- '401 Unauthorized: Verify token validity'
- '403 Forbidden: Check permissions'
- '500: A system error has occurred'
- '500: A system error has o'
- '500: system error, please contact the admin'
- '1106: Invalid permission'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- '401 Unauthorized: Recheck OAuth token validity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- '500: System error.'
- '401 Unauthorized: Check credentials and token validity'
- '429 Too Many Requests: Rate limit exceeded, please slow down requests'
- '401 Unauthorized: Check token or permissions.'
- '400 Bad Request: Validate request parameters.'
auth_info:
  mentioned_objects:
  - AuthorizationManagement
  - DeviceManagement
  - OauthToken
  - AccessToken
client:
  base_url: https://api.tuya.com
  auth:
    type: oauth2
    flow: refresh_token
    token_url: https://auth.tuya.com/v1.0/token
    client_id: '{{ dlt.secrets[''tuya_client_id''] }}'
    client_secret: '{{ dlt.secrets[''tuya_client_secret''] }}'
    refresh_token: '{{ dlt.secrets[''tuya_refresh_token''] }}'
    location: header
    header_name: Authorization
  headers:
    Accept: application/json
source_metadata: null
