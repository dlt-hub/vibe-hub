resources:
- name: chatbot_register
  endpoint:
    path: /api/reference/chat-bots/imbot-register
    method: POST
- name: chatbot_message_add
  endpoint:
    path: /api/reference/chat-bots/messages/imbot-message-add
    method: POST
- name: im.revision.get
  endpoint:
    path: im.revision.get
    method: GET
    data_selector: records
- name: imbot.register
  endpoint:
    path: imbot.register
    method: POST
    data_selector: records
- name: imbot.unregister
  endpoint:
    path: imbot.unregister
    method: POST
    data_selector: records
- name: imbot.update
  endpoint:
    path: imbot.update
    method: POST
    data_selector: records
- name: imbot.bot.list
  endpoint:
    path: imbot.bot.list
    method: GET
    data_selector: records
- name: imbot.chat.add
  endpoint:
    path: imbot.chat.add
    method: POST
    data_selector: records
- name: imbot.chat.get
  endpoint:
    path: imbot.chat.get
    method: GET
    data_selector: records
- name: imbot.chat.leave
  endpoint:
    path: imbot.chat.leave
    method: POST
    data_selector: records
- name: imbot.chat.setOwner
  endpoint:
    path: imbot.chat.setOwner
    method: POST
    data_selector: records
- name: imbot.chat.updateAva
  endpoint:
    path: imbot.chat.updateAva
    method: POST
    data_selector: records
- name: imbot.chat.updateCol
  endpoint:
    path: imbot.chat.updateCol
    method: POST
    data_selector: records
- name: imbot.chat.updateTit
  endpoint:
    path: imbot.chat.updateTit
    method: POST
    data_selector: records
- name: imbot.chat.user.add
  endpoint:
    path: imbot.chat.user.add
    method: POST
    data_selector: records
- name: imbot.chat.user.list
  endpoint:
    path: imbot.chat.user.list
    method: GET
    data_selector: records
- name: imbot.chat.user.dele
  endpoint:
    path: imbot.chat.user.dele
    method: POST
    data_selector: records
- name: imbot.dialog.get
  endpoint:
    path: imbot.dialog.get
    method: GET
    data_selector: records
- name: imbot.command.regist
  endpoint:
    path: imbot.command.regist
    method: POST
    data_selector: records
- name: imbot.command.unregi
  endpoint:
    path: imbot.command.unregi
    method: POST
    data_selector: records
- name: imbot.command.update
  endpoint:
    path: imbot.command.update
    method: POST
    data_selector: records
- name: imbot.command.answer
  endpoint:
    path: imbot.command.answer
    method: POST
    data_selector: records
- name: imbot.message.add
  endpoint:
    path: imbot.message.add
    method: POST
    data_selector: records
- name: imbot.message.update
  endpoint:
    path: imbot.message.update
    method: POST
    data_selector: records
- name: imbot.message.delete
  endpoint:
    path: imbot.message.delete
    method: POST
    data_selector: records
- name: imbot.message.like
  endpoint:
    path: imbot.message.like
    method: POST
    data_selector: records
- name: imbot.chat.sendTypin
  endpoint:
    path: imbot.chat.sendTypin
    method: POST
    data_selector: records
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: chatbots
  endpoint:
    path: /imbot.bot.list
    method: GET
    data_selector: result
    params: {}
- name: imbot.register
  endpoint:
    path: /imbot.register
    method: POST
    data_selector: null
    params:
      CODE: newbot
      TYPE: B
      EVENT_HANDLER: http://www.hazz/chatApi/event.php
      OPENLINE: Y
      CLIENT_ID: ''
      PROPERTIES:
        NAME: NewBot
        LAST_NAME: ''
        COLOR: GREEN
        EMAIL: test@test.com
        PERSONAL_BIRTHDAY: '2016-03-11'
        WORK_POSITION: Best Employee
        PERSONAL_WWW: http://test.com
        PERSONAL_GENDER: F
        PERSONAL_PHOTO: /* base64 image */
- name: chat
  endpoint:
    path: /im/chat.add
    method: POST
- name: chat_data
  endpoint:
    path: /im.dialog.get
    method: GET
- name: counters
  endpoint:
    path: /im.counters.get
    method: GET
- name: recent_chats
  endpoint:
    path: /im.recent.get
    method: GET
- name: list_of_chats
  endpoint:
    path: /im.recent.list
    method: GET
- name: user_list
  endpoint:
    path: /im.user.list.get
    method: GET
- name: chat
  endpoint:
    path: /im/search/chat.list
    method: GET
    data_selector: result
    params: {}
- name: department
  endpoint:
    path: /im/search/department.list
    method: GET
    data_selector: result
    params:
      USER_DATA: Y
- name: user
  endpoint:
    path: /im/search/user.list
    method: GET
    data_selector: result
    params: {}
- name: department
  endpoint:
    path: /department.get
    method: POST
    data_selector: result
    params:
      sort: NAME
      order: DESC
      PARENT: 1
- name: bot_registration
  endpoint:
    path: /imbot/register
    method: POST
    data_selector: result
    params: {}
- name: task_item
  endpoint:
    path: /rest/task.item.list
    method: POST
    data_selector: result
    params:
      FILTER:
        RESPONSIBLE_ID: $user
        <DEADLINE: date("Y-m-d")
      ORDER:
        DEADLINE: desc
      PARAMS: {}
      SELECT: {}
- name: local_application
  endpoint:
    path: /applications/developer_resources/other/local_application
    method: POST
    data_selector: application
    params: {}
notes:
- 'There is a limitation on creating chatbots within REST applications: no more than
  5 per application.'
- Uses OAuth2 with refresh token — requires setup of connected app in api
- Some objects like Contact may return nulls in deeply nested fields
- Developers can add their own automation tools.
- Request intensity is tracked separately for each Bitrix24 account.
- Bitrix24 only considers the IP address from which the REST request is made.
- REST API is only available on paid plans of Bitrix24, as well as during the demo
  plan.
- To have maximum access to the data and functionality of the account, it is advisable
  to use an administrator account.
- Incoming webhooks are a very convenient tool for using the REST API to solve individual
  tasks.
- To implement more complex scenarios, use OAuth 2.0 authorization with temporary
  secure authorization tokens.
- This page doesn't exist
- Some data may be missing here — we will fill it in shortly.
- Chat-bot with elevated privileges (supervisor) has access to all messages in chats
  where it is present.
- Chatbot will know and process only one command — "What's burning?", returning a
  list of overdue tasks.
- Enable the option 'Uses only API' for applications.
errors:
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- 'QUERY_LIMIT_EXCEEDED: Requests are blocked when the threshold is exceeded.'
- '503: Service unavailable due to request limits.'
- 'INTERNAL_SERVER_ERROR: An internal server error has occurred, please contact the
  server administrator or Bitrix24 technical support'
- 'ERROR_UNEXPECTED_ANSWER: An internal server error has occurred, please contact
  the server administrator or Bitrix24 technical support'
- 'QUERY_LIMIT_EXCEEDED: The request intensity limit has been exceeded'
- 'ERROR_BATCH_METHOD_NOT_ALLOWED: The current method is not allowed to be called
  using batch'
- 'ERROR_BATCH_LENGTH_EXCEEDED: The maximum length of parameters passed to the batch
  method has been exceeded'
- 'NO_AUTH_FOUND: Invalid access token or webhook code'
- 'INVALID_REQUEST: Https required'
- 'OVERLOAD_LIMIT: The REST API is blocked due to overload. This is a manual individual
  block, to remove it you need to contact Bitrix24 technical support'
- 'ACCESS_DENIED: REST API is available only on commercial plans'
- 'INVALID_CREDENTIALS: The user whose access token or webhook was used to call the
  method lacks permissions'
- 'ERROR_MANIFEST_IS_NOT_AVAILABLE: The manifest is not available'
- 'insufficient_scope: The request requires higher privileges than provided by the
  webhook token'
- 'expired_token: The access token provided has expired'
- 'user_access_error: The user does not have access to the application. This means
  that the application is installed, but the account administrator has allowed access
  to this application only for specific users'
- 'EVENT_MESSAGE_ADD_ER: Event handler link is invalid.'
- 'EVENT_WELCOME_MESSAG: Event handler link is invalid.'
- 'EVENT_BOT_DELETE_ERR: Event handler link is invalid.'
- 'CODE_ERROR: String identifier is invalid.'
- 'NAME_ERROR: One of the required fields is missing.'
- 'WRONG_REQUEST: Something went wrong.'
- 'MAX_COUNT_ERROR: Maximum number of registered bots exceeded.'
- 'INTERNAL_SERVER_ERROR: An internal server error occurred'
- 'QUERY_LIMIT_EXCEEDED: The request intensity is too high'
- 'NO_AUTH_FOUND: Invalid access token'
- 'expired_token: The provided access token has expired'
- 'ACCESS_DENIED: The REST API is available only for certain users'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
  - oauth
  - access_token
client:
  base_url: https://mcp-dev.bitrix24.com/mcp
source_metadata: null
