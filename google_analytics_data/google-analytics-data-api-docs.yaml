# Source Metadata
source_name: Google Analytics 4 (GA4)
version: 1.0
authentication_required: true
api_types_available:
  - REST

# Client / Connection Config
client:
  base_url: https://analyticsdata.googleapis.com/v1beta
  auth:
    type: service_account
    location: header
    header_name: Authorization
  headers:
    Accept: application/json

# Resources (per endpoint/object)
resources:
  - name: daily_active_users
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }
      
  - name: devices
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: four_weekly_active_users
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: locations
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: pages
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: traffic_sources
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: website_overview
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: weekly_active_users
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: user_acquisition_first_user_medium_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: user_acquisition_first_user_source_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: user_acquisition_first_user_source_medium_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: user_acquisition_first_user_source_platform_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: user_acquisition_first_user_campaign_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: user_acquisition_first_user_google_ads_ad_network_type_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: user_acquisition_first_user_google_ads_ad_group_name_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: traffic_acquisition_session_source_medium_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: traffic_acquisition_session_medium_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: traffic_acquisition_session_source_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: traffic_acquisition_session_campaign_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: traffic_acquisition_session_default_channel_grouping_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: traffic_acquisition_session_source_platform_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: events_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: weekly_events_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: conversions_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: pages_title_and_screen_class_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: pages_path_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: pages_title_and_screen_name_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: content_group_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: ecommerce_purchases_item_name_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: ecommerce_purchases_item_id_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: ecommerce_purchases_item_category_report_combined
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: ecommerce_purchases_item_category_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: ecommerce_purchases_item_category_2_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: ecommerce_purchases_item_category_3_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: ecommerce_purchases_item_category_4_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: ecommerce_purchases_item_category_5_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: ecommerce_purchases_item_brand_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: publisher_ads_ad_unit_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: publisher_ads_page_path_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: publisher_ads_ad_format_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: publisher_ads_ad_source_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: demographic_country_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: demographic_region_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: demographic_city_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: demographic_language_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: demographic_age_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: demographic_gender_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: demographic_interest_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: tech_browser_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: tech_device_category_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: tech_device_model_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: tech_screen_resolution_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: tech_app_version_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: tech_platform_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: tech_platform_device_category_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: tech_operating_system_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

  - name: tech_os_with_version_report
    endpoint:
      path: /properties/{propertyId}:runReport
      method: POST
      data_selector: rows
      params: {
                "incremental": "date"
      }

# Auth Details from Docs (for validation or onboarding)
auth_info:
  mentioned_objects:
    - ServiceAccount

# Known Quirks or Risks, Caveats
notes:
  - Uses Service Account authentication  requires setup of service account in Google Cloud
  - Data sampling may occur if request intervals are large

# Troubleshooting & Error Patterns
errors:
  - 403 Forbidden: Check permissions in Google Cloud for the service account
  - 400 Bad Request: Validate request parameters and payload format
  - 429 Too Many Requests: Implement exponential backoff for retries