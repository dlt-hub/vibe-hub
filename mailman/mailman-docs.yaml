resources:
- name: webservice
  endpoint:
    path: /webservice
    method: GET
    data_selector: admin_user
    params: {}
- name: gatenews
  endpoint:
    path: /gatenews
    method: GET
    data_selector: records
    params: {}
- name: webservice
  endpoint:
    path: /webservice
    method: GET
    data_selector: records
    params: {}
- name: language
  endpoint:
    path: /language_definitions
    method: GET
    data_selector: languages
    params: {}
- name: database
  endpoint:
    path: /services/data/v3.3/databases
    method: GET
    data_selector: databases
    params: {}
- name: MTA Configuration
  endpoint:
    path: /hooking/up/your/mail/server
    method: GET
    data_selector: mta
    params: {}
- name: Mailman Exim Configuration
  endpoint:
    path: /mailman.cfg
    method: POST
    data_selector: mta
    params: {}
- name: mail_transport_agent
  endpoint:
    path: /mta
    method: GET
    data_selector: records
    params: {}
- name: site_owner
  endpoint:
    path: /mailman/site_owner
    method: GET
    data_selector: site_owner
    params: {}
- name: noreply_address
  endpoint:
    path: /mailman/noreply_address
    method: GET
    data_selector: noreply_address
    params: {}
- name: mta
  endpoint:
    path: /mta/configuration
    method: GET
    data_selector: records
- name: language
  endpoint:
    path: /language
    method: GET
    data_selector: languages
- name: mail_transport_agent
  endpoint:
    path: /services/data/vXX.X/sobjects/MailTransportAgent
    method: GET
    data_selector: records
    params: {}
- name: database
  endpoint:
    path: /services/data/vXX.X/sobjects/Database
    method: GET
    data_selector: records
    params: {}
- name: postfix
  endpoint:
    path: /mailman.mta.postfix.LMTP
    method: GET
    data_selector: records
    params: {}
- name: exim
  endpoint:
    path: /mailman.mta.exim4.LMTP
    method: GET
    data_selector: records
    params: {}
- name: MTA configuration
  endpoint:
    path: /mailman.cfg
    method: GET
    data_selector: ''
    params: {}
- name: mta
  endpoint:
    path: /mailman.mta
    method: GET
    data_selector: mailman_settings
    params: {}
- name: mta
  endpoint:
    path: /mailman/mta
    method: GET
    data_selector: mta_settings
    params: {}
- name: incoming
  endpoint:
    path: /mailman.mta.postfix.LMTP
    method: GET
    data_selector: records
    params: {}
- name: outgoing
  endpoint:
    path: /mailman.mta.deliver.deliver
    method: GET
    data_selector: records
    params: {}
- name: mail_transport_agent
  endpoint:
    path: /mta
    method: GET
    data_selector: records
    params: {}
- name: plugin_example
  endpoint:
    path: /3.1/plugins/example
    method: GET
    data_selector: null
    params: {}
- name: plugin_example_yes
  endpoint:
    path: /3.1/plugins/example/yes
    method: GET
    data_selector: null
    params: {}
- name: plugin_example_no
  endpoint:
    path: /3.1/plugins/example/no
    method: GET
    data_selector: null
    params: {}
- name: plugin_example_echo
  endpoint:
    path: /3.1/plugins/example/echo
    method: GET
    data_selector: null
    params: {}
- name: mta
  endpoint:
    path: /mta
    method: GET
    data_selector: records
    params: {}
- name: Mail Transfer Agent
  endpoint:
    path: /mta
    method: GET
    data_selector: mta_settings
    params: {}
- name: example
  endpoint:
    path: /3.1/plugins/example
    method: GET
    data_selector: my-name
    params: {}
- name: domains
  endpoint:
    path: /3.1/domains
    method: GET
    data_selector: entries
- name: rules
  endpoint:
    path: /rules
    method: GET
    data_selector: rules
    params: {}
- name: domains
  endpoint:
    path: /3.1/domains
    method: GET
    data_selector: entries
- name: styles
  endpoint:
    path: /rest/docs/rest.html
    method: GET
- name: mailing_lists
  endpoint:
    path: /api/mailing_lists
    method: GET
- name: subscriptions
  endpoint:
    path: /api/subscriptions
    method: GET
- name: archivers
  endpoint:
    path: /archivers
    method: GET
    data_selector: archivers
    params: {}
- name: list_styles
  endpoint:
    path: /rest/docs/rest.html
    method: GET
    data_selector: styles
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: system_versions
  endpoint:
    path: /3.0/system/versions
    method: GET
    data_selector: api_version
- name: domains
  endpoint:
    path: /3.1/domains
    method: POST
    data_selector: mail_host
- name: mailing_lists
  endpoint:
    path: /lists
    method: GET
    data_selector: entries
    params: {}
- name: DATABASES
  endpoint:
    path: /etc/mailman3/settings.py
    method: GET
    data_selector: default
    params: {}
- name: system_configuration
  endpoint:
    path: /system/configuration
    method: GET
    data_selector: sections
- name: mailman_section
  endpoint:
    path: /system/configuration/mailman
    method: GET
    data_selector: records
- name: dmarc_section
  endpoint:
    path: /system/configuration/dmarc
    method: GET
    data_selector: records
- name: french_language_settings
  endpoint:
    path: /system/configuration/language.fr
    method: GET
    data_selector: records
- name: domains
  endpoint:
    path: /domains
    method: GET
    data_selector: entry
- name: individual_domain
  endpoint:
    path: /domains/{mail_host}
    method: GET
    data_selector: entry
- name: system_versions
  endpoint:
    path: /3.0/system/versions
    method: GET
    data_selector: api_version
- name: domains
  endpoint:
    path: /3.1/domains
    method: POST
    data_selector: response
    params: {}
- name: lists
  endpoint:
    path: /lists
    method: GET
    data_selector: entries
    params: {}
- name: lists
  endpoint:
    path: /lists
    method: GET
    data_selector: entry
    params: {}
- name: find_lists
  endpoint:
    path: /lists/find
    method: GET
    data_selector: entry
    params: {}
- name: digest
  endpoint:
    path: /lists/{list_id}/digest
    method: POST
    data_selector: ''
    params: {}
- name: styles
  endpoint:
    path: /lists/styles
    method: GET
    data_selector: ''
    params: {}
- name: mailing_list_config
  endpoint:
    path: /ant@example.com/config
    method: GET
    data_selector: records
    params: {}
- name: system_configuration
  endpoint:
    path: /system/configuration
    method: GET
    data_selector: sections
- name: mailman_section
  endpoint:
    path: /system/configuration/mailman
    method: GET
    data_selector: records
- name: dmarc_section
  endpoint:
    path: /system/configuration/dmarc
    method: GET
    data_selector: records
- name: language_fr_section
  endpoint:
    path: /system/configuration/language.fr
    method: GET
    data_selector: records
- name: domains
  endpoint:
    path: /domains
    method: GET
    data_selector: entry
- name: individual_domain
  endpoint:
    path: /domains/{mail_host}
    method: GET
    data_selector: entry
- name: create_domain
  endpoint:
    path: /domains
    method: POST
    data_selector: location
- name: delete_domain
  endpoint:
    path: /domains/{mail_host}
    method: DELETE
- name: domain_owners
  endpoint:
    path: /domains/{mail_host}/owners
    method: GET
    data_selector: entry
- name: addresses
  endpoint:
    path: /addresses
    method: GET
    data_selector: entry
    params: {}
- name: user_addresses
  endpoint:
    path: /users/{user_email}/addresses
    method: GET
    data_selector: entry
    params: {}
- name: preferred_address
  endpoint:
    path: /users/{user_email}/preferred_address
    method: GET
    data_selector: display_name
    params: {}
- name: lists
  endpoint:
    path: /lists
    method: GET
    data_selector: entry
    params:
      count: '1'
      page: '1'
- name: find_lists
  endpoint:
    path: /lists/find
    method: GET
    data_selector: entry
- name: list_archivers
  endpoint:
    path: /lists/{list_id}/archivers
    method: GET
    data_selector: http_etag
- name: list_digest
  endpoint:
    path: /lists/{list_id}/digest
    method: GET
    data_selector: http_etag
- name: memberships
  endpoint:
    path: /3.0/addresses/{email}/memberships
    method: GET
    data_selector: entry
    params: {}
- name: delete_address
  endpoint:
    path: /3.0/addresses/{email}
    method: DELETE
    data_selector: ''
    params: {}
- name: mailing_list_configuration
  endpoint:
    path: /lists/{list_name}/config
    method: GET
    data_selector: config
- name: users
  endpoint:
    path: /users
    method: GET
    data_selector: entry
    params: {}
- name: users
  endpoint:
    path: /3.0/users
    method: POST
    data_selector: user
    params: {}
- name: members
  endpoint:
    path: /members
    method: GET
    data_selector: entry
    params: {}
- name: list_members
  endpoint:
    path: /lists/{list_id}/roster/member
    method: GET
    data_selector: entry
    params: {}
- name: members
  endpoint:
    path: /3.0/members
    method: GET
    data_selector: entry
    params: {}
- name: find_members
  endpoint:
    path: /3.0/members/find
    method: POST
    data_selector: entry
    params: {}
- name: owner_roster
  endpoint:
    path: /3.0/lists/{list_id}/roster/owner
    method: GET
    data_selector: entry
    params: {}
- name: addresses
  endpoint:
    path: /addresses
    method: GET
    data_selector: entry
    params: {}
- name: user_addresses
  endpoint:
    path: /users/{user_email}/addresses
    method: GET
    data_selector: entry
    params: {}
- name: preferred_address
  endpoint:
    path: /users/{user_email}/preferred_address
    method: GET
    data_selector: display_name
    params: {}
- name: members
  endpoint:
    path: /members
    method: POST
    data_selector: entry
    params: {}
- name: bans
  endpoint:
    path: /lists/ant.example.com/bans
    method: POST
    data_selector: entry
    params: {}
- name: memberships
  endpoint:
    path: /3.0/addresses/{email}/memberships
    method: GET
    data_selector: entry
    params: {}
- name: delete_address
  endpoint:
    path: /3.0/addresses/{email}
    method: DELETE
    data_selector: ''
    params: {}
- name: roster_member
  endpoint:
    path: /3.0/lists/cat.example.com/roster/member
    method: DELETE
    data_selector: emails
- name: roster_member_get
  endpoint:
    path: /3.0/lists/cat.example.com/roster/member
    method: GET
    data_selector: entry
- name: users
  endpoint:
    path: /users
    method: GET
    data_selector: entry
    params: {}
- name: user_addresses
  endpoint:
    path: /users/{email}/addresses
    method: GET
    data_selector: entry
    params: {}
- name: user_login
  endpoint:
    path: /users/{user_id}/login
    method: POST
    data_selector: ''
    params: {}
- name: queues
  endpoint:
    path: /queues
    method: GET
    data_selector: records
- name: bad_queue
  endpoint:
    path: /queues/bad
    method: GET
    data_selector: records
- name: owners
  endpoint:
    path: /owners
    method: GET
    data_selector: entry
    params: {}
- name: user
  endpoint:
    path: /3.0/users
    method: POST
    data_selector: user
    params: {}
- name: user_details
  endpoint:
    path: /3.0/users/{user_id}
    method: GET
    data_selector: user
    params: {}
- name: members
  endpoint:
    path: /members
    method: GET
    data_selector: entry
    params:
      count: '1'
      page: '1'
- name: held_messages
  endpoint:
    path: /{list_id}/held
    method: GET
    data_selector: entries
    params: {}
- name: held_message_count
  endpoint:
    path: /{list_id}/held/count
    method: GET
    data_selector: count
    params: {}
- name: individual_held_message
  endpoint:
    path: /{list_id}/held/{request_id}
    method: GET
    data_selector: message
    params: {}
- name: members
  endpoint:
    path: /3.0/members
    method: GET
    data_selector: entry
    params: {}
- name: lists
  endpoint:
    path: /3.0/lists
    method: GET
    data_selector: entry
    params: {}
- name: addresses_preferences
  endpoint:
    path: /addresses/{address}/preferences
    method: GET
    data_selector: acknowledge_posts
    params: {}
- name: users_preferences
  endpoint:
    path: /users/{user_id}/preferences
    method: GET
    data_selector: receive_own_postings
    params: {}
- name: members_preferences
  endpoint:
    path: /members/{member_id}/preferences
    method: GET
    data_selector: receive_list_copy
    params: {}
- name: system_preferences
  endpoint:
    path: /system/preferences
    method: GET
    data_selector: preferred_language
    params: {}
- name: members
  endpoint:
    path: /3.0/members
    method: POST
    data_selector: entry
- name: bans
  endpoint:
    path: /3.0/lists/ant.example.com/bans
    method: POST
    data_selector: entry
- name: roster_member
  endpoint:
    path: /3.0/lists/cat.example.com/roster/member
    method: DELETE
    data_selector: iperson@example.com, jperson@example.com, zperson@example.com
    params: {}
- name: subscription_requests
  endpoint:
    path: /lists/{list_id}/requests
    method: GET
    data_selector: requests
    params: {}
- name: individual_request
  endpoint:
    path: /lists/{list_id}/requests/{token}
    method: GET
    data_selector: request
    params: {}
- name: dispose_request
  endpoint:
    path: /lists/{list_id}/requests/{token}
    method: POST
    data_selector: request
    params: {}
- name: queues
  endpoint:
    path: /queues
    method: GET
    data_selector: records
- name: bad_queue
  endpoint:
    path: /queues/bad
    method: GET
    data_selector: records
- name: owners
  endpoint:
    path: /owners
    method: GET
    data_selector: entry
- name: lists
  endpoint:
    path: /3.0/lists
    method: GET
    data_selector: entries
    params: {}
- name: held_messages
  endpoint:
    path: /lists/{list_id}/held
    method: GET
    data_selector: entry
    params: {}
- name: held_message_count
  endpoint:
    path: /lists/{list_id}/held/count
    method: GET
    data_selector: count
    params: {}
- name: moderate_held_message
  endpoint:
    path: /lists/{list_id}/held/{request_id}
    method: POST
    data_selector: status
    params: {}
- name: preferences
  endpoint:
    path: /addresses/{address}/preferences
    method: GET
    data_selector: ''
    params: {}
- name: combined_member_preferences
  endpoint:
    path: /members/{member_id}/all/preferences
    method: GET
    data_selector: ''
    params: {}
- name: system_preferences
  endpoint:
    path: /system/preferences
    method: GET
    data_selector: ''
    params: {}
- name: subscription_requests
  endpoint:
    path: /lists/{list_id}/requests
    method: GET
    data_selector: requests
    params: {}
- name: individual_subscription_request
  endpoint:
    path: /lists/{list_id}/requests/{token}
    method: GET
    data_selector: request
    params: {}
- name: dispose_subscription_request
  endpoint:
    path: /lists/{list_id}/requests/{token}
    method: POST
    data_selector: status
    params: {}
- name: lists
  endpoint:
    path: /3.0/lists
    method: GET
    data_selector: entries
    params: {}
notes:
- The Mailman command line interface requires a properly configured UTF-8 locale.
- Mailman is configured using an 'ini'-style configuration system.
- The nntp runner is no longer started by default.
- 'If you are actually gating to/from usenet, you need to add [runner.nntp] start:
  yes to your mailman.cfg'
- You must restart Mailman for any changes to take effect.
- Mailman needs to communicate with your MTA to accept incoming mail and deliver outgoing
  mail.
- Mailman passes all outgoing messages to the MTA using SMTP.
- Mailman should not be run as root.
- Mailman requires configuration changes for MTA communication.
- Mailman does not deliver messages directly to end users.
- The server runs on localhost:8001 by default.
- Basic authentication is required for accessing the admin resources.
- Mailman needs to communicate with your MTA
- Mailman does not deliver messages to the end user
- Enabled languages are specified under each language section.
- The time to wait for a response from a name server before timeout is 3s.
- The total time to spend trying to get an answer to the DNS question is 5s.
- How long should the local suffix list be used before it's considered out of date
  is 7d.
- Mailman uses SQLAlchemy ORM for database persistence.
- By default, Mailman uses SQLite3, but supports PostgreSQL, MariaDB, and MySQL.
- Mailman communicates using LMTP for incoming mail and SMTP for outgoing mail.
- Mailman is customizable for both incoming and outgoing mail handling.
- In order to enable this configuration, Mailman domains have an alias_domain attribute.
- Starting with version 3.3.6, it is possible to use Mailman’s LMTP service with Postfix’
  reject_unverified_recipient.
- Mailman supports a technique called Variable Envelope Return Path (VERP) to disambiguate
  and accurately record bounces.
- Mailman accepts incoming messages using LMTP and sends outgoing messages using SMTP.
- It is required that Mailman has a (sub)domain respectively a namespace on its own.
- A helper script called `qmail-lmtp` is needed and can be found in the `contrib/`
  directory of the Mailman source tree and assumed to be on `$PATH` here.
- Mailman accepts incoming messages from the MTA using LMTP interface.
- Mailman does not deliver messages directly to the end user.
- Mailman communicates with MTA using LMTP for incoming messages and SMTP for outgoing
  messages.
- 'Design limitation: cannot name a plugin ''master''.'
- Mailman communicates with MTA using LMTP and SMTP protocols.
- 'Starting with version 3.3.6, you can rely on Mailman’s response on RCPT TO: LMTP
  command if mailman would accept the recipient address as valid.'
- Mailman does not yet support IDNA (internationalized domain names, RFC 5890) or
  internationalized mailboxes (RFC 6531) in email addresses.
- Email content is handled by the Python email package, which provides robust handling
  of internationalized content conforming to the MIME standard (RFCs 2045-2049 and
  others).
- The encoding of URI components addressing a REST endpoint is Unicode UTF-8.
- Mailman does not currently handle normalization, and we recommend consistently using
  normal form NFC.
- The REST API is an administrative API and as such it must not be exposed to the
  public internet. By default, the REST server only listens on localhost.
- These are notes from the Mailman sprint at PyCon 2012. They are not terribly well
  organized, nor fully fleshed out.
- Plugins can add initialization hooks, which will be run at two stages in the initialization
  process.
- The REST server has full administrative access, should never be exposed to the public
  internet.
- The REST API is an administrative API and as such it must not be exposed to the
  public internet.
- By default, the REST server only listens on localhost.
- Rules are applied to each message as part of a rule chain.
- Mailman 3 uses lazr.config, essentially an 'ini'-style configuration format.
- The REST server has full administrative access and should never be exposed to the
  public internet.
- By default, the REST API is available at 8001 port.
- Only the Core is required. You can write or integrate your own web user interface
  or archiver that speaks to the Core over its REST API.
- 'Archivers support an interface which provides the RFC 2369 List-Archive: header.'
- If the archiver is not network-accessible, it will return None and the headers will
  not be added.
- Uses OAuth2 with refresh token — requires setup of connected app in api
- Some objects like Contact may return nulls in deeply nested fields
- Default list of admins who receive the emails from error logging.
- Make sure that the logs directory is created or Django will fail on start.
- All collections automatically support pagination.
- The REST API can be queried for the set of known mailing lists.
- You can create a mailing list in a domain and it’s accessible via the API.
- Paginating over list records is possible by adding the GET parameters count and
  page to the request URI.
- Not all of the readable attributes can be set through the web interface.
- Each user can have a preferred address.
- Addresses must be verified before being set as preferred.
- Addresses can be deleted via the REST API.
- If an address is linked to a user, deleting the address does not delete the user,
  it just unlinks it.
- Subscriptions are returned alphabetically by mailing list posting address.
- Uses REST API
- Ensure our previous reads don't keep the database lock.
- Users can be designated as server owners.
- Messages can be accepted, rejected, discarded, or deferred by the list moderators.
- Preferences for the address, user, or member can be changed through the API.
- Preferences accessed through the member resource are always read only.
- Mailman expects the templates to be return as content type text/plain; charset=”UTF-8”.
- URL placeholders can be used to provide flexibility in template texts.
- Moderators can accept, discard, reject, or defer subscription requests.
errors:
- '550 Unknown local recipient: check local recipient settings.'
- 'Temporary failure: check MTA configuration.'
- '401 Unauthorized: Check admin username and password.'
- '404 Not Found: Endpoint may be incorrect or resource does not exist.'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- Any and all contributions are welcome!
- '401 Unauthorized: Recheck username or password'
- '401 Unauthorized: Recheck username and password.'
- '400 Bad Request: Duplicate email host'
- 'HTTP Error 404: Not Found'
- 'HTTP Error 400: Address must be verified before setting as primary'
- 'HTTP Error 403: Forbidden'
- 'HTTP Error 404: Email is not banned: banned@example.com'
- 'status: 204: Successfully deleted an address.'
- 'status: 204: No content returned'
- '400 Bad Request: Duplicate email host: example.org'
- '204 No Content: Action taken successfully.'
- '400 Bad Request: Invalid action or parameters.'
auth_info:
  mentioned_objects:
  - restadmin
  - restpass
  - REST credentials
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: http://localhost:9001/3.0
  paginator:
    type: page
    page_size_param: count
    default_page_size: 10
source_metadata: null
