resources:
- name: GetCapabilities
  endpoint:
    path: /basemap/wmts
    method: GET
    data_selector: Capabilities
    params:
      SERVICE: WMTS
      REQUEST: GetCapabilities
- name: GetTile
  endpoint:
    path: /basemap/wmts
    method: GET
    params: {}
- name: GetCapabilities
  endpoint:
    path: /wfs
    method: GET
    params:
      SERVICE: WFS
      REQUEST: GetCapabilities
- name: GetFeature
  endpoint:
    path: /wfs
    method: GET
    data_selector: wfs:FeatureCollection
    params:
      SERVICE: WFS
      REQUEST: GetFeature
      VERSION: 2.0.0
      TYPENAMES: ms:OneAtlas_Basemap
      STARTINDEX: '0'
      COUNT: '3'
      SRSNAME: urn:ogc:def:crs:EPSG::4326
      BBOX: 35.1805128499999995,6.09355813067226926,47.41453115000000196,19.0325378693277329
- name: advancedBasemap
  endpoint:
    path: /basemap/wmts?SERVICE=WMTS&REQUEST=GetCapabilities
    method: GET
- name: italyBasemap
  endpoint:
    path: /basemap/wmts?SERVICE=WMTS&REQUEST=GetCapabilities
    method: GET
- name: ukraineBasemap
  endpoint:
    path: /basemap/wmts?SERVICE=WMTS&REQUEST=GetCapabilities
    method: GET
- name: account_information
  endpoint:
    path: /api/v1/me
    method: GET
- name: user_roles
  endpoint:
    path: /api/v1/me/services
    method: GET
- name: contract
  endpoint:
    path: /api/v1/contracts/{contract_id}
    method: GET
- name: subscriptions
  endpoint:
    path: /api/v1/contracts/{contract_id}/subscriptions
    method: GET
- name: subscription_info
  endpoint:
    path: /api/v1/contracts/{contractId}/subscriptions/{subscriptionId}
    method: GET
- name: revoke_subscription
  endpoint:
    path: /api/v1/{subscriptionId}/revoke
    method: GET
- name: subscription_consumption
  endpoint:
    path: /api/v1/subscriptions
    method: GET
- name: payments_for_contract
  endpoint:
    path: /api/v1/contracts/{contractId}/payments
    method: GET
- name: payments_for_subscription
  endpoint:
    path: /api/v1/subscriptions/{subscriptionId}/payments
    method: GET
- name: payment_for_contract
  endpoint:
    path: /api/v1/contracts/{contractId}/payments/{paymentId}
    method: GET
    data_selector: ''
    params:
      contractId: 'yes'
      paymentId: 'yes'
- name: payment_for_order
  endpoint:
    path: /api/v1/orders/{orderId}
    method: GET
    data_selector: ''
    params:
      orderId: 'yes'
- name: search_images
  endpoint:
    path: /api/v2/opensearch
    method: GET
    data_selector: results
- name: opensearch
  endpoint:
    path: /api/v2/opensearch
    method: GET
    data_selector: responseText
    params: {}
- name: opensearch
  endpoint:
    path: /api/v2/opensearch
    method: GET
    data_selector: features
    params:
      itemsPerPage: '100'
      startPage: '3'
- name: analytics
  endpoint:
    path: /api/v1/analytics
    method: GET
- name: search_images
  endpoint:
    path: /search
    method: GET
- name: price
  endpoint:
    path: /api/v1/prices
    method: POST
    data_selector: payload
    params: {}
- name: order
  endpoint:
    path: /api/v1/orders
    method: POST
    data_selector: payload
    params: {}
- name: order_status
  endpoint:
    path: /api/v1/orders/<order_id>
    method: GET
    data_selector: status
    params: {}
- name: list_orders
  endpoint:
    path: /api/v1/orders
    method: GET
    data_selector: orders
    params:
      status: delivered
      kind: order.analytics-toolbox.archive
      page: 1
      itemsPerPage: 10
- name: user_account
  endpoint:
    path: /api/v1/me
    method: GET
- name: user_services
  endpoint:
    path: /api/v1/me/services
    method: GET
- name: contract_info
  endpoint:
    path: /api/v1/contracts/{contract_id}
    method: GET
- name: subscriptions
  endpoint:
    path: /api/v1/contracts/{contract_id}/subscriptions
    method: GET
- name: subscription_info
  endpoint:
    path: /api/v1/contracts/{contractId}/subscriptions/{subscriptionId}
    method: GET
- name: revoke_subscription
  endpoint:
    path: /api/v1/{subscriptionId}/revoke
    method: GET
- name: subscription_consumption
  endpoint:
    path: /api/v1/subscriptions?service=data
    method: GET
- name: payments_for_contract
  endpoint:
    path: /api/v1/contracts/{contractId}/payments
    method: GET
    data_selector: items
- name: payments_for_subscription
  endpoint:
    path: /api/v1/subscriptions/{subscriptionId}/payments
    method: GET
    data_selector: items
- name: payment_for_contract_and_payment_id
  endpoint:
    path: /api/v1/contracts/{contractId}/payments/{paymentId}
    method: GET
    data_selector: ''
- name: payment_for_order
  endpoint:
    path: /api/v1/orders/{orderId}
    method: GET
    data_selector: ''
- name: search
  endpoint:
    path: /api/v2/opensearch
    method: GET
    data_selector: results
    params: {}
- name: opensearch
  endpoint:
    path: ''
    method: GET
    data_selector: ''
    params: {}
- name: imagery
  endpoint:
    path: /api/v2/opensearch
    method: GET
    data_selector: features
    params:
      itemsPerPage: '100'
      startPage: '3'
- name: analytics
  endpoint:
    path: /api/v1/analytics
    method: GET
    data_selector: ''
    params: {}
- name: image_search
  endpoint:
    path: /api/v1/prices
    method: POST
    data_selector: result
    params: {}
- name: order
  endpoint:
    path: /api/v1/orders
    method: POST
    data_selector: payload
- name: order_status
  endpoint:
    path: /api/v1/orders/<order_id>
    method: GET
    data_selector: status
- name: prices
  endpoint:
    path: /api/v1/prices
    method: POST
- name: orders
  endpoint:
    path: /api/v1/orders
    method: POST
    data_selector: products
- name: orders
  endpoint:
    path: /api/v1/orders
    method: POST
- name: orders
  endpoint:
    path: /api/v1/orders
    method: GET
    data_selector: items
    params: {}
- name: opensearch
  endpoint:
    path: /api/v2/opensearch
    method: GET
    data_selector: responseText
- name: GetCapabilities
  endpoint:
    path: /api/v1/items/<image_id>/wmts?request=GetCapabilities
    method: GET
- name: GetMap
  endpoint:
    path: /api/v1/items/<item_id>/images/<Images_Id>/wms?REQUEST=GetMap&VERSION=1.3.0&LAYERS=layer_0&CRS=EPSG:4326&BBOX=<BBOXCoordinates>&WIDTH=600&HEIGHT=400&FORMAT=image/png
    method: GET
- name: orders
  endpoint:
    path: /api/v1/contracts/<contract_id>/orders
    method: GET
    data_selector: deliveries
- name: download
  endpoint:
    path: /api/v1/items/<contract_id>/download
    method: GET
- name: apikeys
  endpoint:
    path: /api/v1/apikeys
    method: GET
- name: generate_access_token
  endpoint:
    path: /auth/realms/IDP/protocol/openid-connect/token
    method: POST
- name: create_api_key
  endpoint:
    path: /api/v1/apikeys
    method: POST
- name: apikeys
  endpoint:
    path: /api/v1/apikeys/<uid_of_api_key_to_delete>
    method: DELETE
- name: api_keys
  endpoint:
    path: /api/v1/apikeys
    method: GET
    data_selector: items
- name: create_api_key
  endpoint:
    path: /api/v1/apikeys
    method: POST
    data_selector: null
- name: test_api_key
  endpoint:
    path: /auth/realms/IDP/protocol/openid-connect/token
    method: POST
    data_selector: access_token
    params: {}
- name: delete_api_key
  endpoint:
    path: /api/v1/apikeys/<uid_of_api_key_to_delete>
    method: DELETE
    data_selector: ''
    params: {}
- name: quicklook
  endpoint:
    path: /api/v2/opensearch
    method: GET
    data_selector: href
- name: wmts
  endpoint:
    path: /api/v1/items/<image_id>/wmts
    method: GET
    data_selector: href
- name: wms
  endpoint:
    path: /api/v1/items/<image_id>/wms
    method: GET
    data_selector: href
- name: wcs
  endpoint:
    path: /api/v1/items/<image_id>/wcs
    method: GET
    data_selector: href
- name: images
  endpoint:
    path: /api/v2/opensearch
    method: GET
    data_selector: href
    params:
      workspaceId: <workspace_id>
- name: image_metadata
  endpoint:
    path: /api/v1/items/<image_id>/metadata
    method: GET
    data_selector: href
- name: image_quicklook
  endpoint:
    path: /api/v1/items/<image_id>/quicklook
    method: GET
    data_selector: href
- name: image_thumbnail
  endpoint:
    path: /api/v1/items/<image_id>/thumbnail
    method: GET
    data_selector: href
- name: image_wms
  endpoint:
    path: /api/v1/items/<image_id>/wms
    method: GET
    data_selector: href
- name: image_wmts
  endpoint:
    path: /api/v1/items/<image_id>/wmts
    method: GET
    data_selector: href
- name: image_wcs
  endpoint:
    path: /api/v1/items/<image_id>/wcs
    method: GET
    data_selector: href
- name: GetCapabilities
  endpoint:
    path: /api/v1/items/<image_id>/wmts
    method: GET
    params:
      request: GetCapabilities
- name: Get Tile
  endpoint:
    path: /api/v1/items/<image_id>/wmts/tiles/1.0.0/default/rgb/EPSG4326/17/41955/38143.png
    method: GET
    params: {}
- name: Get Tile Web Mercator
  endpoint:
    path: /api/v1/items/<image_id>/wmts/tiles/1.0.0/default/rgb/EPSG3857/17/41955/38143.png
    method: GET
    params: {}
- name: contract_information
  endpoint:
    path: /api/cisContracts
    method: GET
    data_selector: contracts
- name: available_product_types
  endpoint:
    path: /api/productTypes
    method: GET
    data_selector: productTypes
- name: tasking_product_options
  endpoint:
    path: /api/taskingOptions
    method: POST
    data_selector: taskingOptions
- name: feasibility_study
  endpoint:
    path: /
    method: POST
- name: get_attempts
  endpoint:
    path: /
    method: POST
- name: tasking_price
  endpoint:
    path: /tasking/price
    method: POST
- name: tasking_order
  endpoint:
    path: /tasking/order
    method: POST
- name: image_delivery
  endpoint:
    path: /api/v1/opensearch?wo
    method: GET
- name: delivery_types
  endpoint:
    path: /api/v1/contracts/<Ci>
    method: GET
- name: markets
  endpoint:
    path: /api/v1/<cisContract
    method: GET
- name: taskings
  endpoint:
    path: /api/v1/contracts/<c
    method: GET
- name: tasking_segments
  endpoint:
    path: /api/v1/contracts/<C
    method: GET
- name: accept_segment
  endpoint:
    path: /api/v1/contracts/<C
    method: POST
- name: refuse_segment
  endpoint:
    path: /api/v1/contracts/<C
    method: POST
- name: cancel_tasking
  endpoint:
    path: /api/v1/contracts/<C
    method: POST
- name: get_license
  endpoint:
    path: /api/v1/contracts/<C
    method: GET
- name: user_info
  endpoint:
    path: /api/v1/me
    method: GET
- name: subscriptions
  endpoint:
    path: /api/v1/contracts/{contract_id}/subscriptions
    method: GET
- name: opensearch
  endpoint:
    path: /api/v2/opensearch
    method: POST
    data_selector: items
    params:
      itemsPerPage: 12
      startPage: 1
      cloudCover: '[0,100]'
      incidenceAngle: '[0,90]'
      sortBy: -acquisitionDate
      workspace: public
      processingLevel: SENSOR
      relation: intersects
- name: opensearch_get
  endpoint:
    path: /api/v1/opensearch
    method: GET
    data_selector: features
    params:
      processingLevel: SENSOR
- name: satellite_imagery
  endpoint:
    path: /api/v1/workspaces/{workspaceId}/types/satellite_imagery/items
    method: GET
    data_selector: items
    params:
      workspaceId: 0e33eb50-3404-48ad-b835-b0b4b72a5625
- name: satellite_imagery
  endpoint:
    path: /api/v1/workspaces/{workspaceId}/types/satellite_imagery/items/{itemId}
    method: GET
    data_selector: properties
    params: {}
- name: quicklook
  endpoint:
    path: /api/v1/items/<id>/quicklook
    method: GET
    data_selector: response
    params:
      width: '250'
- name: items
  endpoint:
    path: /api/v1/items/<id>/wmts
    method: GET
- name: me
  endpoint:
    path: /api/v1/me
    method: GET
- name: prices
  endpoint:
    path: /api/v1/prices
    method: POST
- name: orders
  endpoint:
    path: /api/v1/orders
    method: POST
    data_selector: payload
    params: {}
- name: order_details
  endpoint:
    path: /api/v1/orders/{order_id}
    method: GET
    data_selector: self
    params: {}
- name: download_image
  endpoint:
    path: /api/v1/items/{image_id}/download
    method: GET
    data_selector: url
    params: {}
notes:
- Basic authentication uses API Key as username and the API Key value as password.
- Bearer token authentication means that a token is sent into the HTTP header of the
  request.
- Ensure to protect your API Key.
- You need an account to get there
- When searching, you will receive results from the full catalog as well as the Living
  Library.
- Unfortunately, our stereo and tri-stereo products are not available via Living Library
  APIs or on OneAtlas portal.
- Images added to the OneAtlas living library do not contain more than 30% of clouds.
- The order status can be 'ordered', 'delivered', 'rejected', or an error state.
- Use the access token for authorization.
- If using the deprecated endpoint, ensure to switch to the current one.
- Some products may become unavailable due to customer actions.
- Only PRIMARY images are fully supported by all analytics
- The images you use must have processingLevel=SENSOR
- Pagination can be activated using the itemsPerPage parameter.
- Requires a streaming plan to access imagery on the fly.
- Images that do not meet Living Library criteria can only be viewed as thumbnails.
- The Geographic tile matrix set uses EPSG:4326.
- The Web Mercator tile matrix set uses EPSG:3857.
- Orders are displayed by date processed.
- Your delivery will start as status `ordered` and will change to `delivered` when
  it is ready to download.
- The API Key must be protected as it is a sensitive credential.
- Access tokens expire regularly and must be renewed.
- For security reasons, the response does not give any information regarding the effective
  deletion of the API key.
- This requires a streaming plan.
- Requires an APIKEY for authentication.
- The converter uses input type degrees.
- Access token expires regularly and needs to be renewed.
- Delivery type must be specified based on contract.
- Requires setup of workspace access for users
- Uses public access for satellite imagery data
- QuickLook images will not be displayed at the same resolution as when purchased.
- Replace <id> with the id of your image to request the metadata
- The processingLevel must equal to 'SENSOR' for the image.
- Your `kind` must be `order.data.gb.product` if you have a GB subscription or `order.product`
  if you have a tiles subscription.
errors:
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- '401 Unauthorized: Recheck OAuth token.'
- '401 Unauthorized: Recheck API key validity'
- '403: Access denied'
- '403: Invalid API key will suspend authorization temporarily'
- 'access_denied: Access denied'
- '403: access_denied'
- '401 Unauthorized: Recheck API Key or permissions'
- '401 Unauthorized: Recheck Bearer token.'
- '401 Unauthorized: Recheck user permissions or workspace access'
auth_info:
  mentioned_objects:
  - Bearer token
client:
  base_url: https://data.api.oneatlas.airbus.com
  auth:
    type: oauth2
    location: header
    header_name: Authorization
source_metadata: null
