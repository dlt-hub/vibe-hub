resources:
- name: backup_job
  endpoint:
    path: /services/data/vXX.X/sobjects/BackupJob
    method: GET
    data_selector: records
    params: {}
- name: backup_copy
  endpoint:
    path: /services/data/vXX.X/sobjects/BackupCopy
    method: GET
    data_selector: records
    params: {}
- name: ZertoReplication
  endpoint:
    path: /api/v1/zerto/replication
    method: POST
    data_selector: data
    params: {}
- name: remote_store
  endpoint:
    path: /services/data/v1/remote_store
    method: GET
- name: remote_store
  endpoint:
    path: /opt/splunk/etc/master-apps/_cluster/local/indexes.conf
    method: GET
    data_selector: configurations
    params: {}
- name: artesca_repository
  endpoint:
    path: /_snapshot/artesca_repository
    method: PUT
    data_selector: acknowledged
    params: {}
- name: snapshot_creation
  endpoint:
    path: /_snapshot/<repo-name>/<snapshot-name>
    method: PUT
    data_selector: acknowledged
    params:
      wait_for_completion: 'true'
- name: artesca_repository
  endpoint:
    path: /_snapshot/artesca_repository
    method: PUT
    data_selector: acknowledged
    params: {}
- name: snapshot
  endpoint:
    path: /_snapshot/<repo-name>/<snapshot-name>
    method: PUT
    data_selector: acknowledged
    params:
      indices: index_1,index_2
      ignore_unavailable: true
      include_global_state: false
      metadata:
        taken_by: user123
        taken_because: backup before upgrading
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: storage_node
  endpoint:
    path: /add-storage-nodes
    method: POST
    data_selector: nodes
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: storage_node
  endpoint:
    path: /add-storage-nodes
    method: POST
    data_selector: nodes
    params: {}
- name: local_groups
  endpoint:
    path: /manage/local_groups
    method: GET
    data_selector: groups
- name: Manage Local Users and Groups
  endpoint:
    path: /manage/local/users/groups
    method: GET
- name: users
  endpoint:
    path: /identity/users
    method: GET
- name: groups
  endpoint:
    path: /identity/groups
    method: GET
- name: users
  endpoint:
    path: /identity/users
    method: GET
- name: groups
  endpoint:
    path: /identity/groups
    method: GET
- name: sosreport
  endpoint:
    path: /sosreport
    method: GET
    data_selector: report
    params: {}
- name: sosreport
  endpoint:
    path: /sosreport
    method: GET
- name: keepalived_vrid
  endpoint:
    path: /api/keepalived/vrid
    method: POST
    data_selector: vrid_changes
    params: {}
- name: mongodb
  endpoint:
    path: /mongodb
    method: GET
    data_selector: records
    params: {}
- name: kafka
  endpoint:
    path: /kafka
    method: GET
    data_selector: records
    params: {}
- name: zookeeper
  endpoint:
    path: /zookeeper
    method: GET
    data_selector: records
    params: {}
- name: replication_topic
  endpoint:
    path: /replication/topic
    method: GET
    data_selector: replicationData
    params: {}
- name: create_account
  endpoint:
    path: /config/{uuid}/user
    method: POST
- name: delete_account
  endpoint:
    path: /config/{uuid}/user
    method: DELETE
- name: regenerate_account_secret
  endpoint:
    path: /config/{uuid}/user/{accessKey}
    method: POST
- name: generate_access_keys
  endpoint:
    path: /config/{uuid}/user/{accountName}/key
    method: POST
- name: latest_metrics
  endpoint:
    path: /metrics/{metricsClass}/{resourceName}/latest
    method: POST
    data_selector: objectsTotal
    params: {}
- name: latest_sub_metrics
  endpoint:
    path: /metrics/{metricsClass}/{resourceName}/{subMetricsClass}/{subResourceName}/latest
    method: POST
    data_selector: objectsTotal
    params: {}
- name: control-plane-bootstrap
  endpoint:
    path: /control-plane/bootstrap
    method: GET
    data_selector: traffic
    params:
      order: 100
- name: control-plane-registry
  endpoint:
    path: /control-plane/registry
    method: GET
    data_selector: traffic
    params:
      order: 103
- name: control-plane-master
  endpoint:
    path: /control-plane/master
    method: GET
    data_selector: traffic
    params:
      order: 101
- name: control-plane-etcd
  endpoint:
    path: /control-plane/etcd
    method: GET
    data_selector: traffic
    params:
      order: 102
- name: control-plane-infra
  endpoint:
    path: /control-plane/infra
    method: GET
    data_selector: traffic
    params:
      order: 104
- name: control-plane-general
  endpoint:
    path: /control-plane/general
    method: GET
    data_selector: traffic
    params:
      order: 105
- name: replication_service
  endpoint:
    path: /replication/service
    method: PATCH
    data_selector: spec
    params:
      concurrency: 10
      mpuPartsConcurrency: 10
      default_partitions: 5
      default_replicas: 1
- name: create_account
  endpoint:
    path: /config/{uuid}/user
    method: POST
- name: delete_account
  endpoint:
    path: /config/{uuid}/user
    method: DELETE
- name: regenerate_account_secret
  endpoint:
    path: /config/{uuid}/user/{accessKey}
    method: POST
- name: generate_access_keys
  endpoint:
    path: /config/{uuid}/user/{accountName}/key
    method: POST
- name: latest_metrics
  endpoint:
    path: /metrics/{metricsClass}/{resourceName}/latest
    method: POST
    data_selector: objectsTotal
    params: {}
- name: latest_sub_metrics
  endpoint:
    path: /metrics/{metricsClass}/{resourceName}/{subMetricsClass}/{subResourceName}/latest
    method: POST
    data_selector: objectsTotal
    params: {}
- name: control-plane-bootstrap
  endpoint:
    path: /control-plane/bootstrap
    method: GET
- name: control-plane-registry
  endpoint:
    path: /control-plane/registry
    method: GET
- name: control-plane-master
  endpoint:
    path: /control-plane/master
    method: GET
- name: control-plane-etcd
  endpoint:
    path: /control-plane/etcd
    method: GET
- name: control-plane-infra
  endpoint:
    path: /control-plane/infra
    method: GET
- name: control-plane-general
  endpoint:
    path: /control-plane/general
    method: GET
notes:
- Provides simple and secure S3 object storage designed to provide the strongest form
  of data immutability as well as end-to-end resilience.
- The upgrade duration depends on the platform size.
- On a single node ARTESCA, there will be a service downtime during all the upgrade
  duration.
- For the OS upgrade, it takes between 10 minutes and 1 hour. For the ARTESCA upgrade,
  it takes between 1 and 2 hours.
- Authenticate using the credentials provisioned earlier or the default credentials
  (scality / password).
- ARTESCA is a closed system, and modifications or additions to the ARTESCA OS are
  not supported.
- The system is designed to be a turnkey solution that is fully managed by Scality.
- For optimal integration with ARTESCA, it is recommended to use Veeam version 12
  which offers Smart Object Storage API (SOSAPI) support.
- Veeam 365 does not allow using Immutable repositories for primary backup of Microsoft
  365 data.
- Kasten K10 supports S3-compatible storage as an external storage using the concept
  of Location Profiles.
- Zerto utilizes a continuous data protection mechanism.
- WORM storage lock must only be enabled on buckets with object lock enabled.
- Replace <bucketname> with the name of the bucket you are using for HYCU.
- Veritas NetBackup automatically detects WORM configuration on buckets if the bucket
  has object lock enabled and the WORM bucket IAM policy is set.
- Rubrik supports bucket level locking using S3 Object Lock with ARTESCA.
- Bucket level and object level immutability are currently not supported with Rubrik
  CDM.
- The bucket must be created prior to adding it as an archival location in Rubrik.
- CloudArchive integration with ARTESCA over S3.
- Lifecycle Expiration cannot be enabled with Cohesity Cloud Archive.
- CloudArchive and ARTESCA currently support S3 Object Lock only with incremental
  periodic full archival option.
- Enabling S3 Replication is not supported.
- Enabling versioning on buckets is not supported.
- Enabling Lifecycle Expiration on buckets is not supported.
- Do not modify the configuration files in the default Splunk folders. Modifications
  should be done in local folders.
- ElasticSearch needs to be able to reach the ARTESCA server through the s3.<your_artesca_domain>.com
  address.
- Elasticsearch uploads index data using compression.
- You must log in with default users at least once to update the password.
- 'The ARTESCA OS provides two users with a respective default and insecure password:
  An artesca-os user with the default password scality. A root user with the default
  password scalityadmin.'
- Scality recommends these best practices for using immutability with Veeam and Commvault.
- The ARTESCA S3 endpoint is exposed through HTTPs.
- To ensure the security of your ARTESCA OS, you must log in with these users at least
  once to update the password.
- Uses OAuth2 with refresh token â€” requires setup of connected app in api
- Some objects like Contact may return nulls in deeply nested fields
- New servers added to the cluster must be equivalent to the original ones in terms
  of CPU, RAM, and storage capacity.
- A storage expansion requires renewing your ARTESCA license key to align with the
  new capacity.
- To manage local users, including changing passwords, you must have Platform Admin
  rights.
- Users will get a Permission denied error if they try to access a menu entry without
  the expected permissions assigned to the role.
- Groups are a set of users you can apply roles to.
- A user can be a member of zero-to-many groups.
- A user without these rights will need a Platform Admin to change their password
  by providing a temporary one.
- Configuring LDAP allows users managed by directory services like Active Directory
  (AD) to authenticate within ARTESCA.
- The principles of connecting and configuring LDAP remain consistent across different
  types of LDAP directory servers.
- ARTESCA identity management system can synchronize up to 10 000 users from a LDAP
  server integration.
- The configuration steps provided are applicable to a variety of LDAP servers including
  Red Hat Directory, Tivoli Directory, eDirectory and also OpenLDAP, 389 Directory
  Server, ApacheDS, and others.
- The archive generation can take some time, depending on the amount of data collected.
- By default the report collects information for the last 24 hours.
- The report collects information for the last 24 hours by default, but you can change
  the time frame using the -k metalk8s.last=48h option.
- Use the artesca-os user with the sudo command to manage kubectl
- Always specify the namespace using the -n <namespace> or -A flag in pod commands
  to avoid a No resources found in default namespace error message.
- Use a tmux or screen terminal when performing maintenance operations
- Export the admin.conf file to authenticate and access the K8s cluster to avoid any
  error
- This procedure should only be performed with the assistance of Scality Support.
- This procedure does not apply to the ARTESCA+ Veeam Unified Software Appliance.
- Changing the MTU value on a running ARTESCA cluster can cause network disruptions.
- Incorrect MTU values can cause network issues, such as packet loss, network congestion,
  and network performance degradation.
- It is mandatory to reinitialize the network adapter in order to apply the changes.
- The VRID is a number between 0 and 255.
- If a conflict is detected, one way to solve it is to change the VRID of one or more
  keepalived instances in the ARTESCA cluster.
- Each large payload will be split into smaller chunks. The split threshold is partsize
  for a replication schema and data * partsize for an erasure code scheme.
- Uses Scality services for storage and data management.
- Replication topic name is <UID>.backbeat-replication
- Default value for concurrency and mpuPartsConcurrency is 10
- Default number of partitions is 5 and the default number of replicas is 1 per node
- A subdomain is needed to perform AWS-CLI API calls.
- The credentials you store using AWS CLI are stored in plaintext in ~/.aws/credentials.
  Use temporary security credentials to reduce the risk of accidental credentials
  exposures.
- ARTESCA implements a firewall through iptables rules, which are managed actively
  by a component called Calico.
- Currently, ARTESCA assumes that all data virtual IPs belong on the same HostEndpoint
  as the workload plane real IP.
- Make sure your /etc/hosts file is up to date.
- Some services run on each ARTESCA server, such as kubelet, which receive ingress
  traffic from other servers, or salt-minion, which emit egress traffic to the bootstrap
  server.
errors:
- '400 Bad Request: Check the request format and required fields.'
- '401 Unauthorized: Verify the API key or token.'
- '404 Not Found: Ensure the endpoint is correct.'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- 'No resources found in default namespace: Ensure the namespace is specified.'
- No resources found in default namespace
- '0/4 nodes are available: 1 node(s) didn''t find available persistent volumes to
  bind'
- '404: Resource not found'
- '404: Metrics not available for this date'
- '403: Access Denied'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: https://documentation.scality.com
  headers:
    Accept: application/json
source_metadata: null
