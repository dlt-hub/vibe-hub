resources:
- name: createCardTransaction
  endpoint:
    path: /mgw/v2/api/createCardTransaction
    method: POST
    data_selector: account
    params: {}
- name: hostedPaymentPage
  endpoint:
    path: /mgw/v2/api/hostedPaymentPage
    method: POST
    data_selector: account
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: token_creation
  endpoint:
    path: /services/data/vXX.X/tokenCreation
    method: POST
    data_selector: token
    params:
      create_token: 'true'
- name: delete_token
  endpoint:
    path: /services/data/vXX.X/deleteToken
    method: POST
    data_selector: response
    params: {}
- name: get_transaction_details
  endpoint:
    path: /services/data/vXX.X/getTransactionDetails
    method: GET
    data_selector: transactionDetails
    params: {}
- name: 3DS Processing
  endpoint:
    path: /services/data/v1.0/3ds
    method: POST
    data_selector: data
    params:
      three_ds_version: '2.0'
      three_ds_required: 'true'
- name: transactions
  endpoint:
    path: /services/data/vXX.X/sobjects/Transaction
    method: GET
    data_selector: records
    params: {}
- name: refunds
  endpoint:
    path: /services/data/vXX.X/sobjects/Refund
    method: GET
    data_selector: records
    params: {}
- name: incident_management
  endpoint:
    path: /incident_management
    method: GET
    data_selector: incidents
    params: {}
- name: support_ticket
  endpoint:
    path: /support/tickets
    method: GET
    data_selector: tickets
    params: {}
- name: 3DSEnrol
  endpoint:
    path: /mgw/v2/api/doc#operation/cardPayWithThreeDSUsingPOST
    method: POST
    data_selector: three_ds
    params: {}
- name: threeDSVerifyAuthentication
  endpoint:
    path: /mgw/v2/api/doc#operation/threeDSVerifyAuthenticationUsingPOST
    method: POST
    data_selector: three_ds_authentication
    params: {}
- name: 3DS Enrollment
  endpoint:
    path: /mgw/payment/direct
    method: POST
- name: 3DS Verify Authentication
  endpoint:
    path: /mgw/payment/3ds/authenticate
    method: POST
- name: 3ds_fallback
  endpoint:
    path: /3ds/v1/fallback
    method: POST
    data_selector: three_ds
    params: {}
- name: verify_authentication
  endpoint:
    path: /3ds/v1/verify
    method: POST
    data_selector: paRes
    params: {}
- name: Verify Auth
  endpoint:
    path: /verify/auth
    method: POST
    data_selector: response
    params: {}
- name: Cardinal Cruise
  endpoint:
    path: /services/data/v1.0/CardinalCruise
    method: POST
    data_selector: data
    params: {}
- name: 3DSEnrol
  endpoint:
    path: /mgw/v2/api/doc#operation/cardPayWithThreeDSUsingPOST
    method: POST
    data_selector: three_ds
- name: threeDSVerifyAuthentication
  endpoint:
    path: /mgw/v2/api/doc#operation/threeDSVerifyAuthenticationUsingPOST
    method: POST
- name: 3DS Enrollment
  endpoint:
    path: /mgw/payment/direct
    method: POST
- name: 3DS Verify Authentication
  endpoint:
    path: /mgw/payment/3ds/authenticate
    method: POST
- name: three_ds
  endpoint:
    path: /three_ds
    method: POST
    data_selector: three_ds
    params: {}
- name: 3DS_Authentication
  endpoint:
    path: /verify-auth
    method: POST
    data_selector: three_ds_authentication
- name: transaction_status
  endpoint:
    path: /transaction/status
    method: GET
    data_selector: statuses
- name: authorisation_cancellation
  endpoint:
    path: /api/cancellation
    method: POST
    data_selector: transaction
    params: {}
- name: transaction_status
  endpoint:
    path: /transaction/status
    method: GET
    data_selector: statuses
- name: webhook_notifications
  endpoint:
    path: /webhook/notifications
    method: POST
    data_selector: notifications
- name: 3D Secure 2.0 Integration
  endpoint:
    path: /integration/3d-secure-2.0
    method: POST
    data_selector: data
- name: payment
  endpoint:
    path: /payment/direct
    method: POST
    data_selector: transaction
    params: {}
- name: 3DSEnrol
  endpoint:
    path: /api/doc#operation/cardPayWithThreeDSUsingPOST
    method: POST
- name: threeDSVerifyAuthentication
  endpoint:
    path: /api/doc#operation/threeDSVerifyAuthenticationUsingPOST
    method: POST
- name: 3DS Enrollment
  endpoint:
    path: /mgw/payment/direct
    method: POST
- name: 3DS Verify Authentication
  endpoint:
    path: /mgw/payment/3ds/authenticate
    method: POST
- name: three_ds
  endpoint:
    path: /3ds
    method: POST
    data_selector: three_ds
    params: {}
- name: 3DS Authentication
  endpoint:
    path: /3ds/authenticate
    method: POST
    data_selector: response
    params: {}
- name: payment
  endpoint:
    path: /payment/direct
    method: POST
    data_selector: result
    params: {}
- name: 3DSEnrol
  endpoint:
    path: /mgw/v2/api/doc#operation/cardPayWithThreeDSUsingPOST
    method: POST
- name: threeDSVerifyAuthentication
  endpoint:
    path: /mgw/v2/api/doc#operation/threeDSVerifyAuthenticationUsingPOST
    method: POST
- name: 3DS Enrollment
  endpoint:
    path: /mgw/payment/direct
    method: POST
    data_selector: response
    params: {}
- name: 3DS Authentication
  endpoint:
    path: /mgw/payment/3ds/authenticate
    method: POST
    data_selector: response
    params: {}
- name: 3ds_fallback
  endpoint:
    path: /3ds/v1/fallback
    method: POST
    data_selector: three_ds
    params: {}
- name: 3DS_Authentication
  endpoint:
    path: /verify_auth
    method: POST
    data_selector: three_ds_authentication
    params: {}
- name: webhook_transaction_update
  endpoint:
    path: /mgw/v2/api/webhook_transaction_update
    method: POST
- name: webhook_transaction_update
  endpoint:
    path: /mgw/v2/api/doc#section/Using-the-API/Transaction-Webhooks
    method: POST
- name: webhook_notifications
  endpoint:
    path: /webhook/notifications
    method: POST
    data_selector: notifications
    params: {}
- name: cybersource_payment_gateway
  endpoint:
    path: /mgw/v2/api/doc#operation/googlePayPaymentUsingPOST
    method: POST
    data_selector: parameters
    params:
      gateway: cybersource
      gatewayMerchantId: apexx_merchant_id
- name: apple_pay
  endpoint:
    path: /payment/applepay
    method: POST
    data_selector: paymentInformation.fluidData.value
    params: {}
notes:
- Tests should be conducted in the Sandbox environment before going live.
- The API key is required for every API call.
- APEXX provides merchants with the option to verify the country the payer’s card
  was issued in.
- APEXX will automatically cancel authorisations that have not been captured or cancelled
  by the merchant after 7 days.
- Uses OAuth2 with refresh token — requires setup of connected app in api
- Some objects like Contact may return nulls in deeply nested fields
- Tokens are not included in webhook notification responses for security reasons.
- Tokenisation can be enabled for all your organisation or for parts of it.
- 3DS only applies to card, not to Alternative Payment Methods.
- APEXX supports 3DS in all the payment flows (hosted, direct, CSE).
- If the VT has been enabled for your organisation, not all Atomic Portal users will
  have access to it. This depends on the role and privileges allocated to individual
  accounts.
- Virtual Terminal Tokenisation allows you to enter the card details of your customer
  and to tokenise it for future use.
- The OTP is only valid for 15 minutes.
- If you are having issues receiving the OTPs, please check your Spam / Junk folders
  or try requesting a new code (you can only request a code every 2 minutes).
- For security reasons, if you are not actively using the Portal, you will be automatically
  logged out after 15 minutes of inactivity.
- Maximum Dashboard reporting period across all tabs is 13 months.
- APEXX has a set incident management process that is triggered in the case of internal
  incidents.
- External incident notifications will be communicated to affected merchants until
  resolution.
- The merchant’s main point of contact for APEXX must be the one submitting the request
  to add users to the APEXX Support Portal.
- merchant_reference is a mandatory field that requires a unique value for every transaction.
- dynamic_descriptor field can be used to include a short reference or description
  that will appear on the customer's bank statement.
- Ensure you forward API documentation to your development team for review and estimation
  of the development time required.
- Merchants must be PCI Level 1 certified to capture card details directly.
- No raw card data is exchanged through the API between APEXX and the merchant.
- Merchants wishing to implement the Cardinal mobile SDK will require login details
  to Cardinal's JFrog Artifactory to download the software.
- When sending payment requests with a billing_address.country value of 'US' or 'CA',
  APEXX's 3DSv2 MPI provider (Cardinal Commerce) expect a valid ISO 3166-2 billing.address_state
  field to be present.
- CSE integration merchants to be PCI DSS compliant to a level of Self Assessment
  Questionnaire A-EP or above, in accordance with the latest PCI DSS standards (v3.2.1).
- A JWT is composed of 3 sections of URL base64 encoded strings of data separated
  by a period.
- All JWT creation must be done on the server side.
- You must ensure that Cardinal has the proper Acquiring Merchant Identification Number
  and corresponding Acquiring Bank Identification Numbers (BINs) configured in your
  account.
- Fallback to 3DS v1 may occur if the transaction cannot be processed with 3DS v2
  protocols.
- Fallback to 3DS 1.0 flow if 3DS 2.0 fails
- Contact Apexx Implementation manager for the encryption key.
- Ensure that Cardinal has the proper Acquiring Merchant Identification Number and
  corresponding Acquiring Bank Identification Numbers (BINs) configured in your account.
- Handles 3D Secure transactions with enrollment and authentication processes.
- In order to test the 3DS v1 fallback you can send a request for 3DS v2 but use a
  card number that is enrolled for 3DS v1.
- Uses paRes value for 3DS Verify Authentication
- Some gateways additionally return the psp_3d_id value
- WAF rule amendment for Merchant Hierarchy
- PPRO refund request
- DragonPay notification timeframe
- 'New BNPL Platform: Affirm In-Store'
- 'Mapping correction: Login to cloudHSM failed changed to Unexpected error: if the
  error persists, please contact an administrator, quoting the code and timestamp
  of this error'
- 'New error code: Gateway Timeout for connection interruptions'
- CVV results not passed back to the merchant
- Dynamic description not being included in iDeal requests
- To activate duplicate request prevention, include the duplicate_check parameter
  in the API request.
- Allowed values for duplicate_check are true (do perform a duplicate check) and false
  (do not perform a duplicate check).
- If duplicate_check is true, APEXX will check the unique reference field received
  in the past 24 hours.
- You can cancel/void a payment that has been authorised and has not been captured
  yet.
- You can cancel/void a payment that has been captured only on the same day of the
  transaction.
- If you want to cancel an already settled transaction where the funds have already
  been exchanged, then you will need to refund instead.
- Webhook notifications are sent every three minutes.
- APEXX does not send webhook notifications for events where the PSP is unreachable.
- APEXX supports integration for 3DS 2.0 via Cardinal Cruise Hybrid Integration method.
- JWT must be created server-side.
- For security reasons, all JWT creation must be done on the server side.
- Ensure Cardinal has the proper Acquiring Merchant Identification Number and corresponding
  Acquiring Bank Identification Numbers (BINs) configured in your account.
- JWT validation should only ever be done on the server side for security reasons.
- 3DS v1 fallback may occur if 3DS v2 cannot be processed.
- Fallback to 3DS 1.0 flow if 3DS 2.0 is not successful.
- CSE integration requires specific API credentials and setup.
- Ensure compliance with PCI DSS standards.
- JWT must be created server-side and sent to the front end.
- Involves multiple steps, including bin profiling and 3DS authentication process.
- Causes of 3DS v1 fallback could be related to the card issuer not being enrolled
  for use of 3DS v2.
- Webhooks are asynchronous, triggered by transaction updates such as Authorisation,
  Capture/Settlement, Sale, Void, Refund, and Chargeback.
- Cybersource expects payment information from Apple Pay to be encoded using a Base
  64 encoding.
- Integrators must be using the CSR downloaded from the Cybersource Business Centre
  associated with their merchant ID.
errors:
- '400 Bad Request: Check request parameters'
- '401 Unauthorized: Invalid API key'
- '500 Internal Server Error: Try again later'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'SCA required by issuer: Transaction declined without correct flag.'
- 'SCA_REQUIRED: Strong Customer Authentication required.'
- production.apexxfintech.com refused to connect when trying to load hosted payment
  page into iframe
- '0: Transaction cannot be processed with 3DS v2.'
- Handle error response in case of failure during API calls.
- 3DS v1 fallback could be related to the card issuer not being enrolled for use of
  3DS v2
- 'Unexpected error: if the error persists, please contact an administrator, quoting
  the code and timestamp of this error'
- Gateway Timeout
- '401 Unauthorized: Recheck API Key or token expiration'
- 'Invalid card number: Please enter valid card number'
- 'Invalid expiry month: Please enter valid Expiry Month'
- 'Invalid expiry year: Please enter valid Expiry Year'
- 'Invalid CVV: Please enter valid CVV'
- '3DS v1 fallback: Indicates transaction must go through 3DS v1.'
- '400 Bad Request: Check for missing mandatory fields.'
- '401 Unauthorized: Invalid API Key or JWT.'
- Handle error response appropriately in AJAX calls.
- '3DS_V1_FALLBACK: Transaction must be processed via traditional 3DS v1 payment flow'
- 'APC_016 - Duplicate Transaction: Ensure the merchant reference is unique for every
  transaction.'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
client:
  base_url: https://sandmgw.apexxfintech.com
  auth:
    type: apikey
  headers:
    Authorization: '{{ dlt.secrets[''apexx_api_key''] }}'
source_metadata: null
