resources:
- name: investor
  endpoint:
    path: /platformApi/investors
    method: GET
    data_selector: records
    params: {}
- name: terms
  endpoint:
    path: /terms
    method: GET
- name: investors
  endpoint:
    path: /investors/{clientId}
    method: GET
- name: transferIn
  endpoint:
    path: /transferIn/investors/{clientId}/open
    method: GET
- name: transferOut
  endpoint:
    path: /transferOut
    method: GET
- name: investors
  endpoint:
    path: /platformApi/investors
    method: POST
    data_selector: clientId
    params: {}
- name: bankAccountDetails
  endpoint:
    path: /platformApi/bankAccountDetails
    method: POST
    data_selector: paymentDestinationId
    params: {}
- name: settlementTranche
  endpoint:
    path: /platformApi/settlement/tranche
    method: POST
    data_selector: id
    params: {}
- name: settlementRepayment
  endpoint:
    path: /platformApi/settlement/repayment
    method: POST
    data_selector: reference
    params: {}
- name: isaDeclaration
  endpoint:
    path: /platformApi/isaDeclaration
    method: GET
    data_selector: declaration
    params: {}
- name: investors
  endpoint:
    path: /platformApi/investors/{clientId}
    method: GET
    data_selector: clientId
    params: {}
- name: kyc
  endpoint:
    path: /platformApi/investors/{clientId}/kyc
    method: GET
    data_selector: documentsRequired
    params: {}
- name: kyb
  endpoint:
    path: /platformApi/investors/{clientId}/kyb
    method: GET
    data_selector: documentsRequired
    params: {}
- name: transfer_out
  endpoint:
    path: /platformApi/investors/{clientId}/accounts/ISA/transferIn/UI
    method: GET
    data_selector: apiUrl
- name: isa_subscription_status
  endpoint:
    path: /platformApi/investors/{clientId}/isa/subscriptionStatus
    method: GET
    data_selector: subscriptionStatus
- name: isa
  endpoint:
    path: /platformApi/investors/{clientId}/isa
    method: GET
    data_selector: totalInterestReceived
- name: transferIn_open_summary
  endpoint:
    path: /platformApi/transferIn/open/summary
    method: GET
    data_selector: records
- name: transferOut
  endpoint:
    path: /platformApi/investors/{clientId}/transferOut
    method: GET
    data_selector: records
- name: transferIn
  endpoint:
    path: /platformApi/investors/{clientId}/transferIn
    method: GET
    data_selector: records
- name: transferIn_closed
  endpoint:
    path: /transferIn/investors/{clientId}/closed
    method: GET
    data_selector: records
- name: transferIn_deposits
  endpoint:
    path: /platformApi/transferIn/deposits/{date}
    method: GET
    data_selector: records
- name: transfersOut
  endpoint:
    path: /platformApi/transfersOut
    method: GET
    data_selector: records
- name: balances
  endpoint:
    path: /platformApi/investors/{clientId}/accounts/balances
    method: GET
    data_selector: records
- name: bankTransferDetails
  endpoint:
    path: /platformApi/investors/{clientId}/bankTransferDetails
    method: GET
    data_selector: records
- name: transactions
  endpoint:
    path: /platformApi/investors/{clientId}/transactions
    method: GET
    data_selector: records
- name: bankDetails
  endpoint:
    path: /platformApi/investors/{clientId}/bankDetails
    method: GET
    data_selector: records
- name: fee
  endpoint:
    path: /platformApi/investors/{clientId}/fee
    method: POST
    data_selector: records
- name: cashBalance
  endpoint:
    path: /reports/investor/cash/balance
    method: GET
    data_selector: records
- name: bank_account_details
  endpoint:
    path: /platformApi/bankAccountDetails
    method: GET
    data_selector: ''
    params: {}
- name: companies
  endpoint:
    path: /companies
    method: GET
    data_selector: ''
    params: {}
- name: wallets
  endpoint:
    path: /wallets
    method: GET
    data_selector: ''
    params: {}
- name: transactions
  endpoint:
    path: /wallets/{id}/transactions/year/{year}/month/{month}
    method: GET
    data_selector: records
- name: batch_transfers
  endpoint:
    path: /transfers/batch
    method: POST
    data_selector: payments
- name: settlement_product
  endpoint:
    path: /platformApi/settlement/product
    method: GET
    data_selector: products
- name: payment_destination
  endpoint:
    path: /platformApi/settlement/payment-destination
    method: GET
    data_selector: id
- name: tranche
  endpoint:
    path: /platformApi/settlement/tranche
    method: POST
- name: secondary-market
  endpoint:
    path: /platformApi/settlement/secondary-market
    method: POST
- name: repayment-reference
  endpoint:
    path: /platformApi/settlement/repayment/reference
    method: GET
- name: repayment
  endpoint:
    path: /platformApi/settlement/repayment
    method: POST
- name: investor-repayment
  endpoint:
    path: /platformApi/settlement/investor-repayment
    method: POST
- name: investor-repayment-get
  endpoint:
    path: /investor-repayment
    method: GET
- name: investment
  endpoint:
    path: /investment/{clientInvestmentId}
    method: GET
- name: investments
  endpoint:
    path: /platformApi/settlement/investors/{clientId}/accounts/{accountType}/investments
    method: GET
- name: instruments
  endpoint:
    path: /instruments
    method: POST
    data_selector: null
    params: {}
- name: trades
  endpoint:
    path: /trades
    method: POST
    data_selector: null
    params: {}
- name: allocations
  endpoint:
    path: /allocations
    method: POST
    data_selector: null
    params: {}
- name: trades
  endpoint:
    path: /trades/{id}
    method: GET
    data_selector: trades
    params: {}
- name: corporate_actions_dividends
  endpoint:
    path: /corporate-actions/dividends
    method: POST
    data_selector: dividends
    params: {}
- name: instruments_reporting
  endpoint:
    path: /instruments/reporting
    method: POST
    data_selector: reporting
    params: {}
- name: investors_assets
  endpoint:
    path: /investors/{clientId}/assets
    method: GET
    data_selector: assets
    params: {}
- name: current_bond_funds
  endpoint:
    path: /bondManagement/current
    method: GET
    data_selector: records
- name: investment_products
  endpoint:
    path: /platformApi/investments/products
    method: GET
    data_selector: availableProducts
- name: investments
  endpoint:
    path: /platformApi/investors/{clientId}/accounts/{accountType}/investments
    method: GET
    data_selector: investments
- name: bond_management_product
  endpoint:
    path: /platformApi/bondManagement/product
    method: POST
    data_selector: id
- name: bond_management_investment_cycle
  endpoint:
    path: /platformApi/test/bondManagement/investmentCycle
    method: POST
    data_selector: bonds
- name: bond_management_current
  endpoint:
    path: /platformApi/bondManagement/current
    method: GET
    data_selector: bonds
- name: repayments_accrual
  endpoint:
    path: /platformApi/test/bondManagement/investmentCycle/repaymentsAccrual
    method: POST
    data_selector: ''
    params: {}
- name: webhooks
  endpoint:
    path: /platformApi/webhooks
    method: POST
    data_selector: ''
    params: {}
- name: terms
  endpoint:
    path: /terms
    method: POST
- name: terms agreement
  endpoint:
    path: /terms/agreement
    method: POST
- name: declaration
  endpoint:
    path: /declaration
    method: GET
- name: declaration agreement
  endpoint:
    path: /declaration/agreement
    method: POST
- name: create investor
  endpoint:
    path: /investors
    method: POST
- name: isa details
  endpoint:
    path: /investors/{investorId}/isa
    method: GET
- name: isa summary
  endpoint:
    path: /investors/{investorId}/isa/summary
    method: GET
- name: cash deposit
  endpoint:
    path: /investors/{investorId}/cash
    method: POST
- name: investment
  endpoint:
    path: /investors/{investorId}/investment
    method: POST
- name: repayment
  endpoint:
    path: /investors/{investorId}/investment/{investmentId}/repayment
    method: POST
- name: reinvestment
  endpoint:
    path: /investors/{investorId}/investment/{investmentId}/reinvestment
    method: POST
- name: sale
  endpoint:
    path: /investors/{investorId}/investment/{investmentId}/sale
    method: POST
- name: write off
  endpoint:
    path: /investors/{investorId}/investment/{investmentId}/writeOff
    method: POST
- name: update investor
  endpoint:
    path: /investors/{investorId}
    method: PUT
- name: transfer_in_cash
  endpoint:
    path: /investors/{investorId}/transferIn/{transferInId}/cash
    method: POST
    data_selector: response
    params: {}
- name: transfer_in_summary
  endpoint:
    path: /investors/{investorId}/transferIn/{transferInId}/summary
    method: GET
    data_selector: response
    params: {}
- name: transfer_in_residual_income
  endpoint:
    path: /investors/{investorId}/transferIn/{transferInId}/residualIncome
    method: POST
    data_selector: response
    params: {}
- name: transfer_in_deposits
  endpoint:
    path: /transferIn/deposits/{date}
    method: GET
    data_selector: response
    params: {}
- name: ui_data
  endpoint:
    path: /investors/{clientId}/accounts/ISA/transferIn/UI
    method: GET
    data_selector: response
    params: {}
- name: terms
  endpoint:
    path: /terms
    method: GET
    data_selector: termsAndConditions
- name: terms_agreement
  endpoint:
    path: /terms/agreement
    method: POST
    data_selector: token
- name: investors_terms_status
  endpoint:
    path: /investors/{clientId}/terms/status
    method: GET
    data_selector: status
- name: investors
  endpoint:
    path: /investors
    method: POST
    data_selector: clientId
- name: isa
  endpoint:
    path: /investors/{investorId}/isa
    method: GET
    data_selector: totalInterestReceived
    params: {}
- name: isa_summary
  endpoint:
    path: /investors/{investorId}/isa/summary
    method: GET
    data_selector: remainingSubscriptionAmount
    params: {}
- name: transferIn_open
  endpoint:
    path: /transferIn/investors/{clientId}/open
    method: GET
    data_selector: ''
    params: {}
- name: transferIn_closed
  endpoint:
    path: /transferIn/investors/{clientId}/closed
    method: GET
    data_selector: ''
    params: {}
- name: subscriptionStatus
  endpoint:
    path: /investors/{clientId}/isa/subscriptionStatus
    method: GET
    data_selector: subscriptionStatus
    params: {}
- name: isa_status
  endpoint:
    path: /investors/{investorId}/isa/status
    method: PUT
    data_selector: remainingSubscriptionAmount
    params: {}
- name: transferIn_history
  endpoint:
    path: /investors/{clientId}/transferIn/{transferInId}/transferHistory
    method: PUT
    data_selector: ''
    params: {}
- name: transfer_out_fee
  endpoint:
    path: /investors/{investorId}/declaration/agreement
    method: POST
    data_selector: responseBody
- name: audit_investors
  endpoint:
    path: /audit/investors/{investorId}
    method: GET
    data_selector: responseBody
- name: investment
  endpoint:
    path: /investors/{investorId}/investment
    method: POST
    data_selector: responseBody
- name: transfer_out_fee
  endpoint:
    path: /investors/{investorId}/investment
    method: DELETE
    data_selector: transferOutFee
    params: {}
- name: investment
  endpoint:
    path: /investors/{investorId}/investment/{investmentId}
    method: PUT
    data_selector: investment
    params: {}
- name: repayment
  endpoint:
    path: /investors/{investorId}/investment/{investmentId}/repayment
    method: POST
    data_selector: repayment
    params: {}
- name: reinvestment
  endpoint:
    path: /investors/{investorId}/investment/{investmentId}/reinvestment
    method: POST
- name: sale
  endpoint:
    path: /investors/{investorId}/investment/{investmentId}/sale
    method: POST
- name: transfer_out_fee
  endpoint:
    path: /investors/{investorId}/cash
    method: POST
    data_selector: response
    params: {}
- name: investment_write_off
  endpoint:
    path: /investors/{investorId}/investment/{investmentId}/writeOff
    method: POST
    data_selector: response
    params: {}
- name: transfer_in_summary
  endpoint:
    path: /investors/{clientId}/transferInSummary
    method: GET
    data_selector: '[0]'
    params: {}
- name: cash_correction
  endpoint:
    path: /investors/{investorId}/cashCorrection
    method: POST
    data_selector: ''
    params: {}
- name: transfer_out_fee
  endpoint:
    path: /investors/{investorId}/transferOut
    method: POST
    data_selector: ''
    params: {}
- name: transfer_in_summary
  endpoint:
    path: /investors/{clientId}/transferIn/{transferInId}/summary
    method: GET
    data_selector: totalTransferAmount, transferInDate, clientId, repairAmount, bankReference,
      fundsTransferType, id
- name: transfer_in_deposits
  endpoint:
    path: /transferIn/deposits/{date}
    method: GET
    data_selector: totalValue, numberCheques, transfersIn
- name: transfer_in_open_summary
  endpoint:
    path: /transferIn/open/summary
    method: GET
    data_selector: '*'
- name: isa_reconciliation
  endpoint:
    path: /isaReconciliation
    method: GET
    data_selector: '*'
- name: investor_reconciliation
  endpoint:
    path: /investorReconciliation
    method: GET
    data_selector: '*'
- name: transfer_in_ui_data
  endpoint:
    path: /investors/{investorId}/transferIn/uiData
    method: GET
    data_selector: apiUrl, styleSrc, scriptSrc, hostedUrl, investorId, token
- name: transfer_out
  endpoint:
    path: /investors/{investorId}/transferOut
    method: GET
    data_selector: '*'
- name: transfers_out
  endpoint:
    path: /transfersOut
    method: GET
    data_selector: '*'
- name: transfer_out_cash
  endpoint:
    path: /investors/{investorId}/transferOut/{transferOutId}/cash
    method: POST
    data_selector: '*'
- name: transfer_out_fee
  endpoint:
    path: /investors/{investorId}/transferOut/{transferOutId}/fee
    method: POST
    data_selector: '*'
notes:
- Uses OAuth2 with refresh token — requires setup of connected app in api
- Uses HMAC authentication for requests.
- Deposits sent via Faster Payments will be credited to their account within 90 seconds
  of the payment reaching our banking partner.
- Withdrawal requests are typically processed immediately and funds should clear straight
  away.
- Before registering instruments, BankAccountIds and ownerPartyIds must be registered.
- Most platforms do not require this module. Please speak to the Goji integrations
  team before using this API.
- HMAC authentication headers are included with the request.
- Goji will inform the Originator once the Transfer History Form has been received
  from the previous ISA Manager.
- If no funds have to be repaired, the subscribedAmount would equal the transferAmount.
- Records that a fee related to a transfer out has been collected from an Investor's
  account.
errors:
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'Bad Request: Check the request syntax'
- 'Unauthorised: Verify authentication credentials'
- 'Internal Server Error: Retry the request later'
- 'VALIDATION_FAILURE: reference must match "[a-zA-Z0-9-/?:().,+#=!%&*<>;{@ "'']{1,18}"'
- 'INVALID_DATA: The company number must be 8 characters, contain only numbers or
  two letters followed by six numbers.'
- 'INVALID_DATA: The company number is required if company type is not SOLE_TRADER.'
- 'COMPANY_ALREADY_REGISTERED: Company with number AB123456 already registered.'
- 'NAME_ALREADY_EXIST: Wallet with name: Housing Project already exist for partyId:
  COM~d28360c5-07a3-4d78-ade4-bddcdd8b5502'
- 'INVALID_DATA: Bank account with bankAccountId=6ee16ce-def4-4433-80f2-ab35256316e1
  does not exist.'
- 'INVALID_DATA: Destination bank account details are not yet enabled.'
- 'INVALID_DATA: Instruction must include a reference.'
- 'INVALID_DATA: Payment reference must be below 18 characters long.'
- 'INVALID_AMOUNT: Instruction must include a positive non-zero amount.'
- 'INSUFFICIENT_BALANCE: Insufficient balance to perform an outbound payment of amount:
  £10.45. Current balance: £0.'
- 'INVALID_TAX_YEAR_BREAK: Tax year break functionality removed as of 6th April 2024.'
- '400 Bad Request: Invalid data provided'
- '401 Unauthorized: Authentication failed'
- '500 Internal Server Error: An unexpected error occurred'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: https://api-sandbox.goji.investments
  auth:
    type: HMAC
    location: header
    header_name: Authorization
source_metadata: null
