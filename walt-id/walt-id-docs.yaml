resources:
- name: issue
  endpoint:
    path: /openid4vc/sdjwt/issue
    method: POST
    data_selector: credentialData
- name: verify
  endpoint:
    path: /openid4vc/verify
    method: POST
    data_selector: ''
    params: {}
- name: credential_issuer_metadata
  endpoint:
    path: /.well-known/openid-credential-issuer
    method: GET
    data_selector: credential_issuer
    params: {}
- name: credential_offer
  endpoint:
    path: /openid4vc/jwt/issue
    method: POST
    data_selector: credential_offer
    params: {}
- name: create_wallet_account
  endpoint:
    path: /wallet-api/auth/register
    method: POST
    data_selector: ''
    params: {}
- name: login_wallet_account
  endpoint:
    path: /wallet-api/auth/login
    method: POST
    data_selector: ''
    params: {}
- name: retrieve_wallet_id
  endpoint:
    path: /wallet-api/wallet/accounts/wallets
    method: GET
    data_selector: ''
    params: {}
- name: credential_offer
  endpoint:
    path: /openid4vc/jwt/issue
    method: POST
    data_selector: credential_offer
- name: credential_exchange
  endpoint:
    path: /wallet-api/wallet/{walletID}/exchange/useOfferRequest
    method: POST
    data_selector: wallet
    params: {}
- name: authorization_request
  endpoint:
    path: /openid4vc/verify
    method: POST
    data_selector: request_credentials
    params: {}
- name: matchCredentialsForPresentationDefinition
  endpoint:
    path: /wallet-api/wallet/{wallet}/exchange/matchCredentialsForPresentationDefinition
    method: POST
    data_selector: credentials
    params: {}
- name: resolvePresentationRequest
  endpoint:
    path: /wallet-api/wallet/{wallet}/exchange/resolvePresentationRequest
    method: POST
    data_selector: response
    params: {}
- name: usePresentationRequest
  endpoint:
    path: /wallet-api/wallet/{wallet}/exchange/usePresentationRequest
    method: POST
    data_selector: redirectUri
    params: {}
- name: session
  endpoint:
    path: /openid4vc/session/{id}
    method: GET
    data_selector: response
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
    params: {}
- name: verification_status
  endpoint:
    path: /verification/status
    method: GET
    data_selector: verificationResult
    params: {}
- name: policy_list
  endpoint:
    path: /openid4vc/policy-list
    method: GET
    data_selector: verification_policies
    params: {}
- name: registered_features
  endpoint:
    path: /features/registered
    method: GET
- name: features_state
  endpoint:
    path: /features/state
    method: GET
- name: livez
  endpoint:
    path: /livez
    method: GET
- name: oidc_verification
  endpoint:
    path: /openid4vc/verify
    method: POST
- name: oidc_session_info
  endpoint:
    path: /openid4vc/session/{id}
    method: GET
- name: oidc_policy_list
  endpoint:
    path: /openid4vc/policy-list
    method: GET
- name: oidc_verify_state
  endpoint:
    path: /openid4vc/verify/{state}
    method: POST
- name: presentation_definition
  endpoint:
    path: /openid4vc/pd/{id}
    method: GET
- name: request_object
  endpoint:
    path: /openid4vc/request/{id}
    method: GET
- name: openid_configuration
  endpoint:
    path: /.well-known/openid-configuration
    method: GET
- name: jwks
  endpoint:
    path: /jwks
    method: GET
- name: authorize
  endpoint:
    path: /authorize
    method: GET
- name: entra_verification
  endpoint:
    path: /entra/verify
    method: POST
- name: entra_status
  endpoint:
    path: /entra/status/{nonce}
    method: GET
- name: entra_verification_callback
  endpoint:
    path: /entra/verification-callback/{nonce}
    method: POST
- name: credential_verification
  endpoint:
    path: /openid4vc/verify
    method: POST
    data_selector: ''
    params: {}
- name: verification_request
  endpoint:
    path: /openid4vc/verify
    method: POST
    data_selector: request_credentials
- name: verification_status
  endpoint:
    path: /openid4vc/session/$state
    method: GET
    data_selector: verification_status
- name: VerifiablePresentation
  endpoint:
    path: /openid4vc/verify
    method: POST
    data_selector: results
    params: {}
- name: credential
  endpoint:
    path: /verify
    method: POST
    data_selector: policyResults
    params: {}
- name: presented_credentials
  endpoint:
    path: /openid4vc/session/{id}/presented-credentials
    method: GET
    data_selector: credentialsByFormat
    params: {}
- name: credential_verification
  endpoint:
    path: /openid4vc/verify
    method: POST
    data_selector: request_credentials
- name: verification_request
  endpoint:
    path: /openid4vc/verify
    method: POST
    data_selector: vp_policies
    params: {}
- name: verification_status
  endpoint:
    path: /openid4vc/session/$state
    method: GET
    data_selector: ''
    params: {}
- name: verification_status
  endpoint:
    path: /openid4vc/session/{id}/presented-credentials
    method: GET
    data_selector: credentialsByFormat
- name: presented_credentials
  endpoint:
    path: /openid4vc/session/{id}/presented-credentials
    method: GET
    data_selector: credentialsByFormat
    params: {}
- name: verification
  endpoint:
    path: /openid4vc/verify
    method: POST
    data_selector: request_credentials
    params: {}
- name: verification_status
  endpoint:
    path: /openid4vc/session/$state
    method: GET
    data_selector: ''
    params: {}
- name: verification_status
  endpoint:
    path: /openid4vc/session/{id}/presented-credentials
    method: GET
    data_selector: credentialsByFormat
    params: {}
- name: presented_credentials
  endpoint:
    path: /openid4vc/session/{id}/presented-credentials
    method: GET
    data_selector: credentialsByFormat
- name: features_registered
  endpoint:
    path: /features/registered
    method: GET
- name: features_state
  endpoint:
    path: /features/state
    method: GET
- name: user_info
  endpoint:
    path: /wallet-api/auth/user-info
    method: GET
- name: session
  endpoint:
    path: /wallet-api/auth/session
    method: GET
- name: accounts
  endpoint:
    path: /wallet-api/wallet/accounts/wallets
    method: GET
- name: nonce
  endpoint:
    path: /wallet-api/auth/account/web3/nonce
    method: GET
- name: login
  endpoint:
    path: /wallet-api/auth/account/web3/signed
    method: POST
- name: credential_offer
  endpoint:
    path: /wallet-api/wallet/{wallet}/exchange/useOfferRequest
    method: POST
    data_selector: null
    params:
      did: did
- name: wallet_accounts
  endpoint:
    path: /wallet-api/wallet/accounts/wallets
    method: GET
    data_selector: null
    params: {}
- name: matchCredentialsForPresentationDefinition
  endpoint:
    path: /wallet-api/wallet/{wallet}/exchange/matchCredentialsForPresentationDefinition
    method: POST
    data_selector: credentials
    params: {}
- name: resolvePresentationRequest
  endpoint:
    path: /wallet-api/wallet/{wallet}/exchange/resolvePresentationRequest
    method: POST
    data_selector: response
    params: {}
- name: usePresentationRequest
  endpoint:
    path: /wallet-api/wallet/{wallet}/exchange/usePresentationRequest
    method: POST
    data_selector: response
    params: {}
- name: wallet_api
  endpoint:
    path: /
    method: GET
- name: issuer_api
  endpoint:
    path: /
    method: GET
- name: verifier_api
  endpoint:
    path: /
    method: GET
- name: web_portal
  endpoint:
    path: /
    method: GET
- name: verifiable_credentials_repository
  endpoint:
    path: /
    method: GET
- name: data_functions
  endpoint:
    path: /community-stack/issuer/api/credential-issuance/data-functions
    method: GET
    data_selector: functions
    params: {}
- name: issuer_onboard
  endpoint:
    path: /onboard/issuer
    method: POST
    data_selector: issuerKey
    params: {}
- name: credential_issuance
  endpoint:
    path: /openid4vc/jwt/issue
    method: POST
    data_selector: credential_offer
    params: {}
- name: onboard_issuer
  endpoint:
    path: /onboard/issuer
    method: POST
    data_selector: issuerKey
    params: {}
- name: credential_issue
  endpoint:
    path: /openid4vc/sdjwt/issue
    method: POST
    data_selector: null
    params: {}
- name: iaca_onboarding
  endpoint:
    path: /onboard/iso-mdl/iacas
    method: POST
    data_selector: iacaKey
    params: {}
- name: ds_onboarding
  endpoint:
    path: /onboard/iso-mdl/document-signers
    method: POST
    data_selector: documentSignerKey
    params: {}
- name: mdl_issuance
  endpoint:
    path: /openid4vc/mdoc/issue
    method: POST
    data_selector: credential_offer_uri
    params: {}
- name: EBSI
  endpoint:
    path: /community-stack/issuer/api/ecosystems/ebsi/overview
    method: GET
- name: cheqd
  endpoint:
    path: https://cheqd.io/
    method: GET
- name: supportedCredentialTypes
  endpoint:
    path: /waltid-issuer-api/config/credential-issuer-metadata.conf
    method: GET
    data_selector: supportedCredentialTypes
- name: logging
  endpoint:
    path: /community-stack/issuer/api/configurations/logging
    method: GET
- name: issuer
  endpoint:
    path: /onboard/issuer
    method: POST
    data_selector: issuerKey
    params: {}
- name: jwt_issue
  endpoint:
    path: /openid4vc/jwt/issue
    method: POST
    data_selector: data
    params: {}
- name: vault
  endpoint:
    path: /wallet-api/wallet/{wallet_id}/keys/generate
    method: POST
    data_selector: issuerKey
    params: {}
- name: issuer
  endpoint:
    path: /onboard/issuer
    method: POST
    data_selector: issuerDid
    params: {}
- name: issuanceRequest
  endpoint:
    path: /openid4vc/jwt/issue
    method: POST
    data_selector: issuerKey
    params: {}
- name: issuer
  endpoint:
    path: /onboard/issuer
    method: POST
    data_selector: ''
    params: {}
- name: issuer
  endpoint:
    path: /onboard/issuer
    method: POST
    data_selector: key
    params: {}
- name: issuer_onboarding
  endpoint:
    path: /onboard/issuer
    method: POST
    data_selector: key
    params: {}
- name: issue
  endpoint:
    path: /entra/issue
    method: POST
    data_selector: data
    params: {}
notes:
- DIDs give us the power of verifying information, for example credentials, anywhere,
  anytime, through the establishment of a public key infrastructure.
- Verifiable Credentials are cryptographically secure digital versions of credentials.
- Selectively disclosable fields are indicated in the request payload.
- Configured example.com/success as the success redirect URI when creating the OID4VP
  credential request.
- Mono claim credentials enable selective disclosure without the use of more complex
  technologies like SD-JWTs or zero-knowledge proofs.
- OID4VCI is a foundational component of the next generation of digital identity infrastructure.
- Uses OAuth2 with pre-authorized code for authentication
- Built on the foundations of OAuth 2.0
- Uses OAuth2 with refresh token — requires setup of connected app in api
- Each created account receives a default 'did:key' and private key (Ed25519).
- For Bearer Token Authentication, the token must be provided in the header for each
  request that needs authentication.
- If a callback URL is set and it cannot be reached, the issuance will not commence
  further.
- Use the saved wallet ID from earlier or extract it via the /wallet-api/wallet/accounts/wallets
  endpoint
- Some objects like Contact may return nulls in deeply nested fields
- The Community Stack is open-source and designed to build simple end-to-end digital
  ID solutions in various environments using APIs, SDKs, and white-label apps.
- Make sure you have the `NEXT_PUBLIC_VC_REPO` variable set in `.env`.
- The Community Stack Verifier API is stateless and typically deployed as a single
  instance via Docker.
- The verifier supports multiple credential formats including SD-JWT VC, W3C Verifiable
  Credentials, and ISO 18013-5 mDL.
- The API generates a Presentation Definition.
- API returns a URL which can be passed to OIDC-compliant wallet.
- Make sure to include required policies in vp_policies and vc_policies.
- Requires valid JWT for verification.
- Ensure correct configuration of the OAuth2 client.
- Uses OAuth2 with JWT — requires setup of connected app in w3
- The default value for authorizeBaseUrl is openid4vp://authorize.
- If you are using the HAIP profile, you cannot specify custom policies at this point.
- Use 'simple' view mode for most cases or 'verbose' for detailed information.
- The user will be redirected to specified URLs after verification.
- Last updated on September 3, 2025
- To generate Microsoft Entra Verified ID credential verification requests you need
  a Microsoft Azure account with Microsoft Entra Verified ID setup.
- Base features are generally always enabled and do not require additional configuration
  in most cases.
- Optional features require specific configuration to function.
- The Community Stack Wallet follows a one-user-one-wallet model with built-in authentication
  (email/password, OIDC or others).
- Cookie-based authentication is the default authentication method.
- Bearer token authentication requires managing acquiring, storing, and appending
  tokens.
- Expiration time for login tokens can be set to 7d.
- Irrespective of the chosen method, these are just different ways of receiving, parsing
  and fulfilling a request URL.
- Uses OAuth2 for authentication.
- Data functions ensure that the credentials issued always contain the most current
  and accurate information.
- The delayed execution of data functions guarantees the information's relevance and
  accuracy.
- The issuer API doesn't store any cryptographic key material by default.
- To allow for secure business logic flows, if a callback URL is set, and it cannot
  be reached, the issuance will not commence further.
- The API doesn't save any information about created keys.
- The credential offer URL can be embedded into a QR code for users to scan with their
  mobile wallet.
- Issuer API generates proper resolvable urls for VCT based on provided configuration.
- mDLs are encoded in CBOR, which is a binary format and is shown in JSON representation
  above for readability purposes.
- The issuance will not commence further if the callback URL cannot be reached.
- Using the waltid-issuer-api/config/credential-issuer-metadata.conf file, you can
  customize the supported credential types.
- Optional features can either be enabled or disabled based on requirements.
- 'Configuring the logging system can be done in two main ways: Predefined Setups
  or Configuration File.'
- When using multiple instances of the Issuer API, session management is isolated
  by default.
- Base features should always be enabled to make full use of the issuer API.
- With the web.conf you can configure the host and port for local network connections.
- The issuer API does not automatically store any cryptographic key material.
- It is your responsibility to store the key that is returned and provide it in JWK
  format for future signing and issuance operations.
- The issuer API can leverage Hashicorp Vault's Transit Secrets Engine to hook into
  the 'cryptography as a service' or 'encryption as a service' features provided by
  Hashicorp Vault.
- Ensure that the client is configured to communicate via HTTP by setting the VAULT_ADDR
  environment variable.
- The only thing that is important to note for the creation, that our system is only
  compatible with RSA & ECDSA key types offered by the OCI Vault.
- The issuer API can leverage AWS key management service to hook into the 'cryptography
  as a service' or 'encryption as a service' features provided by AWS.
- Credential will be issued using the OID4VC standard
errors:
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Invalid token or expired credentials'
- '400 Bad Request: Invalid request format or parameters'
- '401 Unauthorized: Recheck authentication parameters.'
auth_info:
  mentioned_objects:
  - Issuer
  - Holder
  - Wallet
  - Verifier
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: https://issuer.demo.walt.id
  auth:
    type: oauth2
    flow: refresh_token
  headers:
    Accept: text/plain
    Content-Type: application/json
source_metadata: null
