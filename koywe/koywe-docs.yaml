resources:
- name: country_codes
  endpoint:
    path: /api/countries
    method: GET
    data_selector: data
    params: {}
- name: currency_codes
  endpoint:
    path: /api/currencies
    method: GET
    data_selector: data
    params: {}
- name: tax_id_types
  endpoint:
    path: /api/tax-id-types
    method: GET
    data_selector: data
    params: {}
- name: document_types
  endpoint:
    path: /api/document-types
    method: GET
    data_selector: data
    params: {}
- name: tax_types
  endpoint:
    path: /api/tax-types
    method: GET
    data_selector: data
    params: {}
- name: operation_types
  endpoint:
    path: /api/operation-types
    method: GET
    data_selector: data
    params: {}
- name: unit_measures
  endpoint:
    path: /api/unit-measures
    method: GET
    data_selector: data
    params: {}
- name: account_certification_status
  endpoint:
    path: /api/certification-status
    method: GET
    data_selector: data
    params: {}
- name: document Authorizations
  endpoint:
    path: /api/documentAuthorizations
    method: GET
    data_selector: records
- name: customers Suppliers
  endpoint:
    path: /api/customersSuppliers
    method: GET
    data_selector: records
- name: documents
  endpoint:
    path: /api/documents
    method: GET
    data_selector: records
- name: webhooks
  endpoint:
    path: /organizations/:organizationId/webhooks
    method: POST
- name: webhook_events
  endpoint:
    path: /organizations/:organizationId/webhook-events
    method: GET
- name: payment
  endpoint:
    path: /rest/api/v1/payment
    method: POST
    data_selector: ''
- name: CreateAccount
  endpoint:
    path: /create-account
    method: POST
- name: UpdateAccount
  endpoint:
    path: /update-account
    method: PUT
- name: CheckAccount
  endpoint:
    path: /check-account
    method: GET
- name: webhook_events
  endpoint:
    path: /webhooks/events
    method: POST
    data_selector: events
- name: supported_currencies
  endpoint:
    path: /rest/currencies
    method: GET
    data_selector: currencies
- name: supported_payment_methods
  endpoint:
    path: /rest/payment-methods
    method: GET
    data_selector: payment_methods
- name: supported_tokens
  endpoint:
    path: /rest/token-currencies
    method: GET
    data_selector: tokens
- name: accounts
  endpoint:
    path: /accounts
    method: POST
- name: quotes
  endpoint:
    path: /quotes
    method: POST
- name: orders
  endpoint:
    path: /orders
    method: POST
- name: bank_accounts
  endpoint:
    path: /bank-accounts
    method: POST
- name: quotes
  endpoint:
    path: /quotes
    method: POST
- name: orders
  endpoint:
    path: /orders
    method: POST
- name: authenticate
  endpoint:
    path: /graphql
    method: POST
    data_selector: token
    params: {}
- name: getQuote
  endpoint:
    path: /graphql
    method: POST
    data_selector: amountIn
    params: {}
- name: createQuote
  endpoint:
    path: /graphql
    method: POST
    data_selector: quoteId
    params: {}
- name: CheckAccount
  endpoint:
    path: /checkAccount
    method: POST
    data_selector: checkAccount
- name: GetAccountProfile
  endpoint:
    path: /getAccountProfile
    method: POST
    data_selector: getAccountProfile
- name: CreateAccount
  endpoint:
    path: /createAccount
    method: POST
    data_selector: createAccount
- name: UpdateAccount
  endpoint:
    path: /updateAccount
    method: POST
    data_selector: updateAccount
- name: GetAccountByFilter
  endpoint:
    path: /getAccountByFilter
    method: POST
    data_selector: getAccountByFilter
- name: CreateOrder
  endpoint:
    path: /createOrder
    method: POST
    data_selector: createOrder
- name: GetOrder
  endpoint:
    path: /getOrder
    method: POST
    data_selector: getOrder
- name: GetOrderByExternalId
  endpoint:
    path: /getOrderByExternalId
    method: POST
    data_selector: getOrderByExternalId
- name: orders
  endpoint:
    path: /orders
    method: POST
    data_selector: data
    params:
      pageSize: 1
      pageNumber: 100
      initDate: '2024-01-01'
      endDate: '2024-03-01'
- name: createBankAccount
  endpoint:
    path: /createBankAccount
    method: POST
    data_selector: _id
    params:
      bankCode: SANTANDER
      accountNumber: '0123123123'
      accountType: checking
      countryCode: CHL
      currencySymbol: CLP
      documentNumber: '12345678'
      email: example@domain.com
- name: getBankAccount
  endpoint:
    path: /getBankAccount
    method: POST
    data_selector: _id
    params:
      countryCode: CHL
      currencySymbol: CLP
      email: example@domain.com
- name: crypto_data
  endpoint:
    path: /api/v1/crypto
    method: GET
    data_selector: data
    params: {}
- name: certification_status
  endpoint:
    path: /api/account/certification_status
    method: GET
    data_selector: certification_status
    params: {}
- name: delete_document
  endpoint:
    path: /V1/documents/{document_id}
    method: DELETE
    data_selector: null
    params: {}
notes:
- All request to the API should be made using the first column ID. External codes
  are to be considered only for reference purposes.
- A demo is worth a thousand words. See the platform in action or watch our demo video.
- 'E-invoicing status: Both e-invoice and e-receipt are mandatory to all companies'
- Chilean XML formats are very different from other countries
- E-invoice became mandatory on 2019.
- E-invoice is mandatory to all companies
- Mexican XML formats are very different from other countries
- The authentication token expires after a certain period (typically 1 hour).
- Uses API key and secret for authentication
- Bearer token must be included in all API requests
- Secrets are write‑only and never returned after creation/rotation.
- Use the ping endpoint to verify connectivity after configuration or secret rotation.
- Webhook events notify about transaction states and updates.
- Some payment methods restrict the amount of fiat you can use on testing environments.
- The testing API will allow lower and higher amounts compared to production.
- Uses OAuth2 with refresh token — requires setup of connected app in Koywe
- Some objects may return nulls in deeply nested fields
- You can only delete a document that is in draft status (document_status = 0) and
  no XML has been generated, nor has it been sent to the tax bureau.
- 'Quantity: 10 decimals'
- 'Unit price: 10 decimals'
- 'All documents: 2 decimals'
errors:
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'Invalid credentials: The provided username or password is incorrect'
- Invalid api-key or secret
- Missing required fields
- Malformed request
- '400 Bad Request: Check the request format and parameters.'
- '401 Unauthorized: Verify the authentication details.'
- '404 Not Found: Ensure the endpoint is correct.'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401: Unauthorized - Missing or invalid authentication token'
- '404: Not Found - No account matches the provided filters'
- '400: Bad Request - Invalid input parameters'
auth_info:
  mentioned_objects:
  - AuthInput
  - ValidateAccountInput
  - ValidateCodeInput
  - GetCurrenciesInput
  - GetPaymentProviderListInput
client:
  base_url: https://api.koywe.com
  auth:
    type: oauth2
    flow: refresh_token
    token_url: https://login.koywe.com/oauth2/token
    client_id: '{{ dlt.secrets[''koywe_client_id''] }}'
    client_secret: '{{ dlt.secrets[''koywe_client_secret''] }}'
    refresh_token: '{{ dlt.secrets[''koywe_refresh_token''] }}'
    location: header
    header_name: Authorization
  headers:
    Accept: application/json
source_metadata: null
