resources:
- name: info
  endpoint:
    path: /info
    method: GET
    data_selector: data
    params: {}
- name: retrieve
  endpoint:
    path: /retrieve
    method: POST
    data_selector: data
    params: {}
- name: reset
  endpoint:
    path: /reset
    method: POST
    data_selector: data
    params: {}
- name: reboot
  endpoint:
    path: /reboot
    method: POST
    data_selector: data
    params: {}
- name: poweroff
  endpoint:
    path: /poweroff
    method: POST
    data_selector: data
    params: {}
- name: image
  endpoint:
    path: /image
    method: POST
    data_selector: data
    params: {}
- name: show
  endpoint:
    path: /show
    method: POST
    data_selector: data
    params: {}
- name: generate
  endpoint:
    path: /generate
    method: POST
    data_selector: data
    params: {}
- name: configure
  endpoint:
    path: /configure
    method: POST
    data_selector: data
    params: {}
- name: config-file
  endpoint:
    path: /config-file
    method: POST
    data_selector: data
    params: {}
- name: Hydrogen
  endpoint:
    path: /history/hydrogen
    method: GET
- name: Helium
  endpoint:
    path: /history/helium
    method: GET
- name: Crux
  endpoint:
    path: /history/crux
    method: GET
- name: Equuleus
  endpoint:
    path: /history/equuleus
    method: GET
- name: Sagitta
  endpoint:
    path: /history/sagitta
    method: GET
- name: Circinus
  endpoint:
    path: /history/circinus
    method: GET
- name: interfaces
  endpoint:
    path: /show/configuration
    method: GET
    data_selector: interfaces
    params: {}
- name: system
  endpoint:
    path: /show/configuration
    method: GET
    data_selector: system
    params: {}
- name: service
  endpoint:
    path: /show/configuration
    method: GET
    data_selector: service
    params: {}
- name: ntp
  endpoint:
    path: /show/configuration
    method: GET
    data_selector: ntp
    params: {}
- name: syslog
  endpoint:
    path: /show/configuration
    method: GET
    data_selector: syslog
    params: {}
- name: VyOS API
  endpoint:
    path: /vyos-api
    method: GET
- name: basic_connectivity_tests
  endpoint:
    path: /connectivity/tests/basic
    method: GET
    data_selector: tests
    params: {}
- name: advanced_connectivity_tests
  endpoint:
    path: /connectivity/tests/advanced
    method: GET
    data_selector: tests
    params: {}
- name: ipv6_topology_discovery
  endpoint:
    path: /ipv6/topology/discovery
    method: GET
    data_selector: discovery
    params: {}
- name: interface_names
  endpoint:
    path: /interfaces/names
    method: GET
    data_selector: names
    params: {}
- name: monitoring_tools
  endpoint:
    path: /monitoring/tools
    method: GET
    data_selector: monitoring
    params: {}
- name: accel-ppp
  endpoint:
    path: /vyos/vyos-build/packages/linux-kernel/accel-ppp
    method: GET
- name: intel-drivers
  endpoint:
    path: /vyos/vyos-build/packages/linux-kernel/intel-drivers
    method: GET
- name: intel-qat
  endpoint:
    path: /vyos/vyos-build/packages/linux-kernel/intel-qat
    method: GET
- name: interface_definitions
  endpoint:
    path: /build/interface-definitions
    method: GET
- name: Bug Report
  endpoint:
    path: /issues/bug-report
    method: POST
- name: Feature Requests
  endpoint:
    path: /issues/feature-requests
    method: POST
- name: configuration_commands
  endpoint:
    path: /configuration/commands
    method: GET
- name: operational_commands
  endpoint:
    path: /operational/commands
    method: GET
- name: r11
  endpoint:
    path: r11
    method: POST
    data_selector: tasks
    params:
      ansible_network_os: vyos
      ansible_connection: network_cli
- name: aws_instance
  endpoint:
    path: /aws_instance/myVyOSec2
    method: CREATE
    data_selector: resource
    params:
      ami: ami-**************3b3
      instance_type: t2.micro
      key_name: awsterraform
      security_groups:
      - awsterraformsg
- name: local_file
  endpoint:
    path: /local_file/ip
    method: CREATE
    data_selector: resource
    params:
      filename: ip.txt
- name: null_resource
  endpoint:
    path: /null_resource/SSHconnection1
    method: CREATE
    data_selector: resource
    params:
      user: root
- name: null_resource
  endpoint:
    path: /null_resource/SSHconnection2
    method: CREATE
    data_selector: resource
    params:
      user: root
- name: resource_group
  endpoint:
    path: /services/data/vXX.X/sobjects/ResourceGroup
    method: GET
    data_selector: records
- name: virtual_network
  endpoint:
    path: /services/data/vXX.X/sobjects/VirtualNetwork
    method: GET
    data_selector: records
- name: subnet
  endpoint:
    path: /services/data/vXX.X/sobjects/Subnet
    method: GET
    data_selector: records
- name: virtual_machine
  endpoint:
    path: /services/data/vXX.X/sobjects/VirtualMachine
    method: GET
    data_selector: records
- name: vsphere_virtual_machine
  endpoint:
    path: /
    method: POST
    data_selector: default_ip_address
    params: {}
- name: ansible_playbook
  endpoint:
    path: /
    method: POST
    data_selector: result
    params: {}
- name: google_compute_instance
  endpoint:
    path: /google_compute_instance
    method: POST
    data_selector: instances
    params:
      project: vyosproject
      zone: us-west1-a
- name: google_compute_firewall
  endpoint:
    path: /google_compute_firewall
    method: POST
    data_selector: firewalls
    params:
      network: default
- name: local_file
  endpoint:
    path: /local_file
    method: POST
    data_selector: files
    params:
      filename: ip.txt
- name: SSHconnection1
  endpoint:
    path: /services/data/vXX.X/sobjects/SSHconnection1
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: SSHconnection2
  endpoint:
    path: /services/data/vXX.X/sobjects/SSHconnection2
    method: GET
    data_selector: records
    params: {}
- name: op_mode
  endpoint:
    path: /op-mode
    method: GET
    data_selector: output
- name: configuration
  endpoint:
    path: /configuration
    method: POST
    data_selector: output
- name: r11-proxy
  endpoint:
    path: /srv/salt/pillars/r11-proxy.sls
    method: GET
    data_selector: proxy
    params: {}
- name: user-data
  endpoint:
    path: /cloud-init/user-data
    method: GET
- name: network-config
  endpoint:
    path: /cloud-init/network-config
    method: GET
- name: meta-data
  endpoint:
    path: /cloud-init/meta-data
    method: GET
- name: configuration
  endpoint:
    path: /config
    method: POST
    data_selector: out
    params: {}
- name: show_object
  endpoint:
    path: /show
    method: GET
    data_selector: out
    params: {}
- name: generate_object
  endpoint:
    path: /generate
    method: POST
    data_selector: out
    params: {}
- name: reset_object
  endpoint:
    path: /reset
    method: POST
    data_selector: out
    params: {}
- name: load_file
  endpoint:
    path: /config/load
    method: POST
    data_selector: out
    params: {}
- name: save_file
  endpoint:
    path: /config/save
    method: POST
    data_selector: out
    params: {}
- name: vyos_hosts
  endpoint:
    path: /vyos/hosts
    method: GET
    data_selector: records
    params: {}
- name: ansible_tasks
  endpoint:
    path: /ansible/tasks
    method: POST
    data_selector: records
    params: {}
- name: info
  endpoint:
    path: /info
    method: GET
    data_selector: data
    params: {}
- name: retrieve
  endpoint:
    path: /retrieve
    method: POST
    data_selector: data
    params: {}
- name: reset
  endpoint:
    path: /reset
    method: POST
    data_selector: data
    params: {}
- name: reboot
  endpoint:
    path: /reboot
    method: POST
    data_selector: data
    params: {}
- name: poweroff
  endpoint:
    path: /poweroff
    method: POST
    data_selector: data
    params: {}
- name: image
  endpoint:
    path: /image
    method: POST
    data_selector: data
    params: {}
- name: show
  endpoint:
    path: /show
    method: POST
    data_selector: data
    params: {}
- name: generate
  endpoint:
    path: /generate
    method: POST
    data_selector: data
    params: {}
- name: configure
  endpoint:
    path: /configure
    method: POST
    data_selector: data
    params: {}
- name: config-file
  endpoint:
    path: /config-file
    method: POST
    data_selector: data
    params: {}
notes:
- The only public endpoint listens to HTTP GET requests and does not require authentication.
- Replace the default vyos system user
- Set up Key Based Authentication
- Configuration can be modified in operational mode using commands.
- Changes must be committed to take effect.
- VyOS can upload the configuration to a remote location after each call to commit.
- The filename used on the remote host will be config.boot-hostname.YYYYMMDD_HHMMSS.
- When using Git as destination for the commit archive the source-address CLI option
  has no effect.
- You may find VyOS not allowing the secure connection because it cannot verify the
  legitimacy of the remote server.
- Verifying connectivity can be done with the familiar ping and traceroute commands.
- Advanced connectivity tests can be combined using the mtr command.
- Starting with VyOS 1.4, only source code and Debian package repositories of the
  rolling release are publicly available.
- Starting with VyOS 1.4, only source code and Debian package repositories of the
  rolling release (the current branch) are publicly available.
- The build process needs to be built on a local file system, building on SMB or NFS
  shares will result in the container failing to build properly!
- Some VyOS packages (namely vyos-1x) come with build-time tests which verify some
  of the internal library calls that they work as expected.
- In the end you will be presented with the kernel binary packages which you can then
  use in your custom ISO build process, by placing all the *.deb files in the vyos-build/packages
  folder where they will be used automatically when building VyOS as documented above.
- If you upgrade your kernel or include new drivers you may need new firmware.
- This tries to automatically detect which blobs are needed based on which drivers
  were built.
- Debian APT is not very verbose when it comes to errors.
- VyOS itself comes with a bunch of packages that are specific to our system and thus
  cannot be found in any Debian mirror.
- Any packages in the packages directory will be added to the iso during build, replacing
  the upstream ones. Make sure you delete them (both the source directories and built
  deb packages) if you want to build an iso from purely upstream packages.
- In order to retrieve the debug output on the command-line you need to disable vyos-configd
  in addition.
- Some of the configurations have preconditions which need to be met.
- We encourage every VyOS user to help us improve our documentation as we have a deficit
  like most software projects.
- Documentation source is kept in the Git repository at https://github.com/vyos/vyos-documentation.
- Permission is granted to make and distribute verbatim copies of this manual provided
  the copyright notice and this permission notice are preserved on all copies.
- Permission is granted to copy and distribute modified versions of this manual under
  the conditions for verbatim copying, provided that the entire resulting derived
  work is distributed under the terms of a permission notice identical to this one.
- Permission is granted to copy and distribute translations of this manual into another
  language, under the above conditions for modified versions, except that this permission
  notice may be stated in a translation approved by the VyOS maintainers.
- Needs to install ansible and python3-paramiko module
- Uses Terraform and Ansible for provisioning
- Ensure SSH key is correctly placed for Ansible access
- Requires Azure account setup and Terraform installation.
- Use Ansible for provisioning after Terraform scripts.
- Uses Terraform for creating VyOS instance in vSphere
- Ansible is used for provisioning
- Make sure that you have opened access to the instance in the security group.
- Must be filled in
- Requires installation of napalm and napalm-vyos modules.
- Configuration changes require committing to take effect.
- Requires to install python3-netmiko module
- Requires VyOS minion configuration for op-mode data
- Salt-minion must communicate with salt master
- Custom scripts are not executed with root privileges (Use sudo inside if this is
  necessary).
- For configuration/upgrade management issues, modification of this script should
  be the last option. Always try to find solutions based on CLI commands first.
- User-data can be provided as plain text or as base64-encoded text.
- Configuration in user-data overwrites default configuration values.
- Requires installation of ansible and python3-paramiko module
- Use network_cli connection for configuration
- All endpoints except /info require API key to be passed in formdata.
errors:
- 'Cannot exit: configuration modified. Use ''exit discard'' to discard the changes
  and exit.'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency.'
- 'QUERY_TIMEOUT: Break down filters or add selectivity.'
- 'The following packages have unmet dependencies: vyos-1x : Depends: accel-ppp but
  it is not installable'
- configuration file to migrate
- 'RESOURCE_NOT_FOUND: Check if the resource group exists.'
- 'AUTHENTICATION_FAILED: Verify your credentials.'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
auth_info:
  mentioned_objects: []
client:
  base_url: https://download.docker.com/linux/debian
  headers:
    Accept: application/json
source_metadata: null
