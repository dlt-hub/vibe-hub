resources:
- name: report_export
  endpoint:
    path: /
    method: POST
    data_selector: response
    params: {}
- name: report_creator
  endpoint:
    path: /
    method: POST
    data_selector: response
    params: {}
- name: downloader
  endpoint:
    path: /
    method: POST
    data_selector: response
    params: {}
- name: expense_creator
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: transactionList
    params:
      type: expenses
      employeeEmail: user@domain.com
- name: policy_creator
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyID
    params:
      type: policy
      policyName: My New Policy
- name: expense_rules_creator
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyID
    params:
      type: expenseRules
      policyID: 0123456789ABCDEF
      employeeEmail: employee@domain.com
- name: policy_getter
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyInfo
    params:
      type: policy
      policyIDList:
      - 0123456789ABCDEF
      - DEADBEEF01234567
      - BA5EBA11BA5EBA11
- name: policy_list_getter
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyList
    params:
      type: policyList
      adminOnly: true
      userEmail: employee@youraccessibledomain.com
- name: domain_cards_getter
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: domainCardList
    params:
      type: domainCardList
      domain: domain.tld
- name: policy_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: employee_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: expense_rules_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: report_status_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: card
  endpoint:
    path: /cards
    method: GET
    data_selector: cards
- name: report
  endpoint:
    path: /reports
    method: GET
    data_selector: reports
- name: transaction
  endpoint:
    path: /transactions
    method: GET
    data_selector: transactionList
- name: report_export
  endpoint:
    path: /Integration-Server/ExpensifyIntegrations
    method: POST
    data_selector: requestJobDescription
    params: {}
- name: report_creator
  endpoint:
    path: /Integration-Server/ExpensifyIntegrations
    method: POST
    data_selector: requestJobDescription
    params: {}
- name: report_downloader
  endpoint:
    path: /Integration-Server/ExpensifyIntegrations
    method: POST
    data_selector: requestJobDescription
    params: {}
- name: expense_creator
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: transactionList
    params:
      type: expenses
      employeeEmail: user@domain.com
- name: policy_creator
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyID
    params:
      type: policy
      policyName: My New Policy
- name: expense_rules_creator
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyID
    params:
      type: expenseRules
      policyID: 0123456789ABCDEF
      employeeEmail: employee@domain.com
- name: policy_getter
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyInfo
    params:
      type: policy
      policyIDList:
      - 0123456789ABCDEF
      - DEADBEEF01234567
      - BA5EBA11BA5EBA11
      fields:
      - categories
      - reportFields
      - tags
      - tax
      - employees
- name: policy_list_getter
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyList
    params:
      type: policyList
      adminOnly: true
      userEmail: employee@youraccessibledomain.com
- name: domain_cards_getter
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: domainCardList
    params:
      type: domainCardList
      domain: domain.tld
- name: policy_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: employee_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: expense_rules_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: report_status_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: card
  endpoint:
    path: /cards
    method: GET
    data_selector: cards
- name: report
  endpoint:
    path: /reports
    method: GET
    data_selector: reports
- name: transaction
  endpoint:
    path: /transactions
    method: GET
    data_selector: transactionList
- name: report_exporter
  endpoint:
    path: /Integration-Server/ExpensifyIntegrations
    method: POST
    data_selector: requestJobDescription
    params: {}
- name: report_creator
  endpoint:
    path: /Integration-Server/ExpensifyIntegrations
    method: POST
    data_selector: requestJobDescription
    params: {}
- name: downloader
  endpoint:
    path: /Integration-Server/ExpensifyIntegrations
    method: POST
    data_selector: requestJobDescription
    params: {}
- name: expense_creator
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: transactionList
    params:
      type: expenses
      employeeEmail: user@domain.com
- name: policy_creator
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyID
    params:
      type: policy
      policyName: My New Policy
- name: expense_rules_creator
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyID
    params:
      type: expenseRules
      policyID: 0123456789ABCDEF
      employeeEmail: employee@domain.com
- name: policy_getter
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyInfo
    params:
      type: policy
      policyIDList:
      - 0123456789ABCDEF
      - DEADBEEF01234567
      - BA5EBA11BA5EBA11
- name: policy_list_getter
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyList
    params:
      type: policyList
      adminOnly: true
      userEmail: employee@youraccessibledomain.com
- name: domain_cards_getter
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: domainCardList
    params:
      type: domainCardList
      domain: domain.tld
- name: policy_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: responseCode
    params:
      inputSettings:
        type: policy
        policyID: 0123456789ABCDEF
- name: employee_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: responseCode
    params:
      inputSettings:
        type: employees
        policyID: 0123456789ABCDEF
        fileType: csv
- name: expense_rules_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: responseCode
    params:
      inputSettings:
        type: expenseRules
        policyID: 0123456789ABCDEF
        employeeEmail: employee@domain.com
        ruleID: 0
- name: report_status_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: responseCode
    params:
      inputSettings:
        type: reportStatus
        status: REIMBURSED
- name: card
  endpoint:
    path: /cards
    method: GET
    data_selector: cards
- name: report
  endpoint:
    path: /reports
    method: GET
    data_selector: reports
- name: transaction
  endpoint:
    path: /transactions
    method: GET
    data_selector: transactionList
- name: requestJobDescription
  endpoint:
    path: /Integration-Server/ExpensifyIntegrations
    method: POST
    data_selector: requestJobDescription
    params: {}
- name: report_export
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: requestJobDescription
- name: download_report
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params:
      type: download
      fileSystem: integrationServer
- name: create_report
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params:
      type: create
- name: create_expense
  endpoint:
    path: ''
    method: POST
    data_selector: transactionList
    params: {}
- name: create_policy
  endpoint:
    path: ''
    method: POST
    data_selector: policyID
    params: {}
- name: create_expense_rules
  endpoint:
    path: ''
    method: POST
    data_selector: actions
    params: {}
- name: policy_getter
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyInfo
    params:
      type: policy
      fields:
      - categories
      - reportFields
      - tags
      - tax
      - employees
- name: policy_list_getter
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: policyList
    params:
      type: policyList
      adminOnly: true
- name: domain_cards_getter
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: domainCardList
    params:
      type: domainCardList
- name: categories
  endpoint:
    path: /categories
    method: POST
    data_selector: response.data
    params: {}
- name: tags
  endpoint:
    path: /tags
    method: POST
    data_selector: response.data
    params: {}
- name: reportFields
  endpoint:
    path: /reportFields
    method: POST
    data_selector: response.data
    params: {}
- name: employee_updater
  endpoint:
    path: /Integration-Server/ExpensifyIntegrations
    method: POST
    data_selector: responseCode
    params:
      type: employees
      fileType: csv
      policyID: 0123456789ABCDEF
- name: expense_rules_updater
  endpoint:
    path: /Integration-Server/ExpensifyIntegrations
    method: POST
    data_selector: responseCode
    params:
      type: expenseRules
      policyID: 0123456789ABCDEF
- name: report_status
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: responseCode
    params: {}
- name: report
  endpoint:
    path: /reports
    method: GET
    data_selector: reports
- name: expense
  endpoint:
    path: /expenses
    method: GET
    data_selector: expenses
- name: report_exporter
  endpoint:
    path: /Integration-Server/ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: report_creator
  endpoint:
    path: /Integration-Server/ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: downloader
  endpoint:
    path: /Integration-Server/ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: expense_creator
  endpoint:
    path: /createExpense
    method: POST
    data_selector: transactionList
    params: {}
- name: policy_creator
  endpoint:
    path: /createPolicy
    method: POST
    data_selector: policyID
    params: {}
- name: expense_rules_creator
  endpoint:
    path: /createExpenseRules
    method: POST
    data_selector: ''
    params: {}
- name: policy_getter
  endpoint:
    path: /getPolicy
    method: POST
    data_selector: policyInfo
    params: {}
- name: policy_list_getter
  endpoint:
    path: /getPolicyList
    method: POST
    data_selector: policyList
    params: {}
- name: domain_cards_getter
  endpoint:
    path: /getDomainCardList
    method: POST
    data_selector: domainCardList
    params: {}
- name: policy_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: employee_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: expense_rules_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: report_status_updater
  endpoint:
    path: /ExpensifyIntegrations
    method: POST
    data_selector: response
    params: {}
- name: cards
  endpoint:
    path: /cards
    method: GET
    data_selector: cards
- name: reports
  endpoint:
    path: /reports
    method: GET
    data_selector: reports
- name: transactions
  endpoint:
    path: /transactions
    method: GET
    data_selector: transactionList
notes:
- To create a report, contact concierge@expensify.com to enable functionality for
  your domain.
- Employee information can be accessed using cardOwnerData.
- Policy information can be accessed using reportPolicyData.
- GL codes for categories can be accessed using categoryGLCodeMap.
- Reach out to concierge@expensify.com to enable report creation functionality for
  your domain.
- Requires advanced permissions to create expenses.
- You must reach out to concierge@expensify.com to enable report creation functionality
  for your domain.
- Requires advanced permissions for employeeEmail parameter.
- Policy ID must be valid when creating expense rules.
- Employee information can be accessed using cardOwnerData
- Policy data can be accessed using reportPolicyData
- GL codes for categories can be accessed using categoryGLCodeMap
- The exported reports are marked as exported with the label 'Expensify Export'.
- Reports that have already been marked with the label 'Expensify Export' are ignored.
- Must reach out to concierge@expensify.com to enable report creation functionality
  for your domain.
- At the moment, the only supported action is to mark Approved reports as Reimbursed.
- Can import extra information using import statements.
- Malformed date errors may occur if dates are not in the correct format.
errors:
- '429: Too many requests, rate limit exceeded.'
- '500: Not authorized to authenticate as user'
- Malformed date '16-01-01'. Expected format is yyyy-MM-dd
- Required parameter 'policyName' is missing
- Required parameter 'policyIDList' is missing
- Argument 'type' is missing or malformed
- Domain name is missing or malformed
- 404 Policy not found
- 410 Validation error
- 500 Generic error
- '429: Too Many Requests - Rate limit exceeded'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 500 Not authorized to authenticate as user
- '410: Required parameter ''policyIDList'' is missing'
- '410: Argument ''type'' is missing or malformed'
- '429: Too Many Requests'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck API keys or authentication details'
- 'Not authorized to authenticate as user user@domain.com: Check if functionality
  is enabled for your domain.'
- '410: Malformed date ''16-01-01''. Expected format is yyyy-MM-dd'
- '500: Required parameter ''policyName'' is missing'
- '404: Policy not found'
- '410: Validation error'
- '500: Generic error'
- 200 Success
- '207 Partial success: some of the reports failed to update. Their IDs are contained
  in the list `failedReports`.'
- 'REQUEST_LIMIT_EXCEEDED: Up to 5 requests every 10 seconds, up to 20 requests every
  60 seconds.'
- '500: Not authorized to authenticate as user user@domain.com'
- '410: Required parameter missing or malformed'
- '500: Required parameter missing'
auth_info:
  mentioned_objects:
  - partnerUserID
  - partnerUserSecret
client:
  base_url: https://integrations.expensify.com/Integration-Server
  auth:
    type: none
  headers:
    Content-Type: application/json
    Expect: ''
    Accept: application/json
source_metadata: null
