resources:
- name: account_balance
  endpoint:
    path: /accounts/{accountTypeGroup}/balance
    method: GET
    data_selector: totalBalance
    params: {}
- name: account_transactions
  endpoint:
    path: /accounts/{accountTypeGroup}/transactions
    method: GET
    data_selector: Array[object]
    params: {}
- name: payout_info
  endpoint:
    path: /v2/payout-info
    method: GET
    data_selector: response
    params:
      at: '2022-04-01T11:42:10.452-01:00'
- name: Finance
  endpoint:
    path: /docs/api/finance/overview
    method: GET
- name: Gift Card
  endpoint:
    path: /docs/api/gift-card/overview
    method: GET
- name: Image
  endpoint:
    path: /docs/api/image/overview
    method: GET
- name: Inventory
  endpoint:
    path: /docs/api/inventory/overview
    method: GET
- name: Product Library
  endpoint:
    path: /docs/api/product-library/overview
    method: GET
- name: Purchase
  endpoint:
    path: /docs/api/purchase/overview
    method: GET
- name: Pusher
  endpoint:
    path: /docs/api/pusher/overview
    method: GET
- name: Android SDK
  endpoint:
    path: /docs/payment-integrations/android-sdk
    method: GET
- name: iOS SDK
  endpoint:
    path: /docs/payment-integrations/ios-sdk
    method: GET
- name: Reader Connect
  endpoint:
    path: /docs/payment-integrations/reader-connect/overview
    method: GET
- name: link_reader
  endpoint:
    path: /link-offers/claim
    method: POST
    data_selector: linkid
- name: create_session
  endpoint:
    path: /sessions
    method: POST
    data_selector: location
- name: user_information
  endpoint:
    path: /users/self
    method: GET
    data_selector: ''
- name: disconnect_app
  endpoint:
    path: /application-connections/self
    method: DELETE
- name: user_info
  endpoint:
    path: /users/self
    method: GET
    data_selector: ''
    params: {}
- name: disconnect_app
  endpoint:
    path: /application-connections/self
    method: DELETE
    data_selector: ''
    params: {}
- name: account_balance
  endpoint:
    path: /api/finance/reference#getBalance
    method: GET
- name: account_transactions
  endpoint:
    path: /api/finance/reference#getAccountTransactions
    method: GET
- name: payout_info
  endpoint:
    path: /api/finance/reference#getPayoutInfo
    method: GET
- name: preliminary_balance
  endpoint:
    path: /v2/accounts/preliminary/balance
    method: GET
    data_selector: data
    params: {}
- name: liquid_balance
  endpoint:
    path: /v2/accounts/liquid/balance
    method: GET
    data_selector: data
    params: {}
- name: account_transactions
  endpoint:
    path: /v2/accounts/{accountTypeGroup}/transactions
    method: GET
    data_selector: data
    params: {}
- name: payout_info
  endpoint:
    path: /v2/payout-info
    method: GET
    params:
      at: '{when_to_fetch_payout}'
- name: transactions
  endpoint:
    path: /v2/accounts/{accountTypeGroup}/transactions
    method: GET
    params:
      start: '{start}'
      end: '{end}'
      includeTransactionType: '{includeTransactionType}'
- name: purchases
  endpoint:
    path: /purchases/v2
    method: GET
    params:
      startDate: '{startDate}'
- name: purchase
  endpoint:
    path: /purchase/v2/{purchaseUuid}
    method: GET
- name: fetch_a_purchase_with_discount
  endpoint:
    path: /docs/api/purchase/user-guides/fetch-purchases/fetch-purchase-with-discount
    method: GET
- name: payments
  endpoint:
    path: /api/purchase/payments
    method: GET
    data_selector: payments
- name: custom_amount
  endpoint:
    path: /docs/api/purchase/concepts/custom-amounts
    method: GET
    data_selector: products
    params: {}
- name: exchange_purchase
  endpoint:
    path: /api/purchase/exchange
    method: GET
- name: purchase
  endpoint:
    path: /purchase/v2/{purchaseUuid}
    method: GET
- name: purchases
  endpoint:
    path: /purchases/v2
    method: GET
    data_selector: purchases
    params: {}
- name: purchases
  endpoint:
    path: /purchases/v2
    method: GET
    params:
      limit: 10
      descending: true
- name: purchases
  endpoint:
    path: /purchases/v2
    method: GET
    params:
      descending: 'true'
      limit: 2
- name: purchases
  endpoint:
    path: /purchases/v2
    method: GET
    data_selector: purchases
    params:
      limit: '10'
      descending: 'true'
- name: purchases
  endpoint:
    path: /purchases/v2
    method: GET
    params:
      lastPurchaseHash: optional
      startDate: optional
      endDate: optional
      limit: optional
      descending: optional
- name: purchase
  endpoint:
    path: /purchases
    method: GET
    data_selector: records
    params:
      purchaseUuid: required
- name: categories
  endpoint:
    path: /docs/api/product-library/reference#getProductTypes
    method: GET
- name: products
  endpoint:
    path: /docs/api/product-library/reference#getAllProductsInPos
    method: GET
- name: discounts
  endpoint:
    path: /docs/api/product-library/reference#getAllDiscounts
    method: GET
- name: products
  endpoint:
    path: /organizations/self/products
    method: POST
- name: products
  endpoint:
    path: /organizations/self/products
    method: POST
- name: import
  endpoint:
    path: /organizations/{organizationUuid}/import/v2
    method: POST
- name: single_product
  endpoint:
    path: /organizations/{organizationUuid}/products/{productUuid}
    method: GET
- name: update_product
  endpoint:
    path: /organizations/{organizationUuid}/products/v2/{productUuid}
    method: PUT
- name: categories
  endpoint:
    path: /organizations/self/categories/v2
    method: GET
- name: create_product
  endpoint:
    path: /organizations/self/products
    method: POST
- name: bulk_import_products
  endpoint:
    path: /organizations/self/import/v2
    method: POST
- name: fetch_all_products_in_pos
  endpoint:
    path: /organizations/self/products/v2
    method: GET
    data_selector: products
- name: fetch_all_products_with_discounts
  endpoint:
    path: /organizations/self/library
    method: GET
    data_selector: products
- name: fetch_single_product
  endpoint:
    path: /organizations/self/products/{productUuid}
    method: GET
    data_selector: product
- name: update_product
  endpoint:
    path: /organizations/self/products/v2/{productUuid}
    method: PUT
    data_selector: records
    params: {}
- name: bulk_update_products
  endpoint:
    path: /organizations/self/import/v2
    method: POST
    data_selector: records
    params: {}
- name: delete_product
  endpoint:
    path: /organizations/self/products/{productUuid}
    method: DELETE
- name: delete_multiple_products
  endpoint:
    path: /organizations/self/products
    method: DELETE
- name: images
  endpoint:
    path: /v2/images/organizations/self/products
    method: POST
- name: products
  endpoint:
    path: /organizations/self/products/v2/{{productUUID}}
    method: PUT
- name: categories
  endpoint:
    path: /organizations/self/categories/v2
    method: GET
    data_selector: categories
- name: stock
  endpoint:
    path: /V3/stock
    method: GET
- name: inventories
  endpoint:
    path: /V3/inventories
    method: GET
- name: products
  endpoint:
    path: /V3/products
    method: GET
- name: movements
  endpoint:
    path: /V3/movements
    method: POST
- name: custom-low-stock
  endpoint:
    path: /V3/custom-low-stock
    method: POST
- name: movements
  endpoint:
    path: /movements
    method: POST
- name: stock
  endpoint:
    path: /stock/{inventoryUuid}
    method: GET
- name: inventories
  endpoint:
    path: /inventories
    method: GET
- name: tracked_products
  endpoint:
    path: /tracked_products
    method: GET
- name: products
  endpoint:
    path: /products
    method: POST
    data_selector: null
    params: {}
- name: tracked_products
  endpoint:
    path: /products
    method: GET
    data_selector: records
- name: product_tracking_status
  endpoint:
    path: /products/status
    method: POST
    data_selector: records
- name: inventory_balance_all_stores
  endpoint:
    path: /stock
    method: GET
    data_selector: records
- name: inventory_balance_store
  endpoint:
    path: /stock/{inventoryUuid}
    method: GET
    data_selector: records
- name: inventory_balance_product
  endpoint:
    path: /stock/{inventoryUuid}/products/{productUuid}
    method: GET
    data_selector: records
- name: inventory_balance_updates
  endpoint:
    path: /stock/updates/
    method: GET
    data_selector: records
    params:
      ts: '{date-time}'
- name: inventory_balance_products
  endpoint:
    path: /stock/{inventoryUuid}/products
    method: POST
    data_selector: records
- name: movements
  endpoint:
    path: /movements
    method: POST
    data_selector: movements
- name: custom_low_stock
  endpoint:
    path: /custom-low-stock
    method: POST
- name: create_inventory
  endpoint:
    path: /inventories
    method: POST
    data_selector: null
    params: {}
- name: fetch_inventories
  endpoint:
    path: /inventories
    method: GET
    data_selector: null
    params: {}
- name: inventories
  endpoint:
    path: /inventories
    method: GET
    data_selector: records
- name: single_inventory
  endpoint:
    path: /inventories/<inventoryUuid>
    method: GET
    data_selector: records
- name: PurchaseCreated
  endpoint:
    path: /events/purchase-created
    method: POST
    data_selector: payload
    params: {}
- name: OrganizationUpdated
  endpoint:
    path: /events/organization-updated
    method: POST
    data_selector: payload
    params: {}
- name: ProductCreated
  endpoint:
    path: /events/product-created
    method: POST
    data_selector: payload
    params: {}
- name: ProductUpdated
  endpoint:
    path: /events/product-updated
    method: POST
    data_selector: payload
    params: {}
- name: ProductDeleted
  endpoint:
    path: /events/product-deleted
    method: POST
    data_selector: payload
    params: {}
- name: InventoryBalanceChanged
  endpoint:
    path: /events/inventory-balance-changed
    method: POST
    data_selector: payload
    params: {}
- name: InventoryTrackingStarted
  endpoint:
    path: /events/inventory-tracking-started
    method: POST
    data_selector: payload
    params: {}
- name: InventoryTrackingStopped
  endpoint:
    path: /InventoryTrackingStopped
    method: GET
    data_selector: payload
    params: {}
- name: ApplicationConnectionRemoved
  endpoint:
    path: /ApplicationConnectionRemoved
    method: GET
    data_selector: payload
    params: {}
- name: PersonalAssertionDeleted
  endpoint:
    path: /PersonalAssertionDeleted
    method: GET
    data_selector: payload
    params: {}
- name: subscriptions
  endpoint:
    path: /organizations/self/subscriptions
    method: POST
    data_selector: null
    params: {}
- name: subscriptions
  endpoint:
    path: /organizations/{organizationUuid}/subscriptions
    method: GET
- name: delete_subscription
  endpoint:
    path: /organizations/{organizationUuid}/subscriptions/{subscriptionUuid}
    method: DELETE
- name: subscriptions
  endpoint:
    path: /organizations/{organizationUuid}/subscriptions
    method: GET
- name: update_subscription
  endpoint:
    path: /organizations/{organizationUuid}/subscriptions/{subscriptionUuid}
    method: PUT
- name: subscriptions
  endpoint:
    path: /organizations/{organizationUuid}/subscriptions
    method: GET
- name: subscriptions
  endpoint:
    path: /organizations/{organizationUuid}/subscriptions
    method: GET
- name: subscriptions
  endpoint:
    path: /organizations/{organizationUuid}/subscriptions
    method: POST
    params:
      organizationUuid: required
      uuid: required
      transportName: required
      eventNames: required
      destination: required
      contactEmail: required
- name: get_subscriptions
  endpoint:
    path: /organizations/self/subscriptions
    method: GET
- name: update_subscription
  endpoint:
    path: /organizations/self/subscriptions/{subscriptionUuid}
    method: PUT
    params:
      subscriptionUuid: required
      eventNames: optional
- name: delete_subscription
  endpoint:
    path: /organizations/{organizationUuid}/subscriptions/{subscriptionUuid}
    method: DELETE
    params:
      organizationUuid: required
      subscriptionUuid: required
- name: delete_subscription
  endpoint:
    path: /organizations/self/subscriptions/uuid/f02f80f8-8f35-11eb-8dcd-0242ac130003
    method: DELETE
- name: expired_redeemed_gift_cards
  endpoint:
    path: /api/gift-card/expired-redeemed
    method: GET
- name: sold_returned_gift_cards
  endpoint:
    path: /api/gift-card/sold-returned
    method: GET
- name: gift_card
  endpoint:
    path: /giftcards
    method: GET
- name: purchase_history
  endpoint:
    path: /purchases/v2
    method: GET
    params:
      startDate: '{startDate}'
- name: gift_card_details
  endpoint:
    path: /organizations/self/giftcards/external/{giftcardUuid}
    method: GET
- name: purchases
  endpoint:
    path: /purchases/v2
    method: GET
    params:
      startDate: '{startDate}'
- name: gift_card_details
  endpoint:
    path: /organizations/{organizationUuid}/giftcards/external/{Uuid}
    method: GET
    data_selector: uuid
    params:
      organizationUuid: self
      Uuid: ''
- name: upload_image_file
  endpoint:
    path: /v2/images/organizations/self/products/upload
    method: POST
- name: upload_image_url
  endpoint:
    path: /v2/images/organizations/self/products
    method: POST
- name: upload_multiple_images
  endpoint:
    path: /v2/images/organizations/self/products/bulk
    method: POST
- name: upload_product_images
  endpoint:
    path: /api/image/reference#uploadProductImage
    method: POST
- name: fetch_product_image
  endpoint:
    path: /api/image/reference#fetchProductImage_2
    method: GET
- name: upload_image
  endpoint:
    path: /v2/images/organizations/{organizationUuid}/products/upload
    method: POST
    data_selector: imageLookupKey
- name: upload_single_image
  endpoint:
    path: /v2/images/organizations/{organizationUuid}/products
    method: POST
    data_selector: imageLookupKey
    params: {}
- name: upload_multiple_images
  endpoint:
    path: /v2/images/organizations/{organizationUuid}/products/bulk
    method: POST
    data_selector: uploaded
    params: {}
- name: fetch_image
  endpoint:
    path: /v2/images/product/{identifier}
    method: GET
    data_selector: image/jpeg
    params: {}
- name: card_payments
  endpoint:
    path: /payments/card
    method: POST
    data_selector: paymentResult
    params: {}
- name: paypal_qrc_payments
  endpoint:
    path: /payments/qrc/paypal
    method: POST
    data_selector: paymentResult
    params: {}
- name: manual_card_entry
  endpoint:
    path: /payments/manual
    method: POST
    data_selector: paymentResult
    params: {}
notes:
- Uses OAuth2 with authorization code flow
- Make sure to encode URL characters properly
- All Zettle APIs define rate limits and if you exceed them, the respective API will
  return a 429 error in the response.
- Authentication and authorisation for APIs and SDKs is implemented with OAuth 2.0
  standard.
- Currently, an app cannot be deleted after it's created.
- To build an app that will be hosted by individual merchants, see create credentials
  for a self-hosted app.
- Developer mode only provides testing responses that are difficult to reproduce.
- In developer mode, the UI of payment and refund flows has been simplified.
- UK is a supported market for Zettle SDKs.
- Developers outside supported markets can use developer mode in the SDKs.
- PKCE method creates a code challenge and includes it in every authorisation request.
- The authorisation code can only be used once.
- The authorisation code to retrieve the access token and refresh token can only be
  used once.
- The access token is valid for 7200 seconds.
- A working authorisation flow set up using either assertion grant, code grant, or
  code grant with PKCE is required.
- The current version of the Finance API is V2. Version V1 is deprecated but will
  remain available through 2022.
- The merchant's bank account should receive the money in a day. However, the time
  may vary depending on the country.
- A merchant's liquid account contains all confirmed transactions that are already
  paid out or to be paid out to the merchant.
- To integrate with Zettle, you need to access merchant data. To gain access, you
  need to set up authorisation for the merchant to grant access to the data.
- Fetching transactions for payments made with gift cards is currently not supported.
- Authorization setup with the correct scope, and a valid authorization token.
- Purchases up to three years old are available for fetching.
- Repeat request until the response is empty.
- Authorisation setup with the correct scope, and a valid authorisation token is required.
- Authorisation setup with the correct scope, and a valid authorisation token required.
- It´s recommended to keep the number of items in the Product Library below 10,000.
- When constructing API calls, it´s recommended to not exceed 150 requests/10 seconds.
- You can only assign up to 99 variants to a product.
- Product and product variant prices are specified as an integer value for minor currency
  units.
- A product contains maximum 99 variants.
- Every product and product variant must have a unique UUID.
- 'Required access right: READ:PRODUCT'
- Authorization setup with the correct scope, and a valid authorization token is required.
- 'Required access right: READ:PRODUCT, WRITE:PRODUCT.'
- A product can only have one single associated image. You cannot share images across
  products.
- 'Required access right: READ:PRODUCT.'
- To make purchases automatically update inventory balances, tracking must be enabled.
- By default, V3 allows 4 requests per second.
- The rate limit is not a hard limit.
- Inventories are mostly created and managed by the system.
- Multiple inventories are only supported for the STORE type.
- 'Make sure that authorisation is set up with the following OAuth scope using OAuth
  API: READ:PRODUCT'
- Make sure that inventory tracking is enabled.
- The Zettle Go app and my.zettle.com use caching. Therefore, it can take some time
  until they sync with the backend to pick up changes made through the API.
- It is not supported to create an inventory of the SUPPLIER, BIN, or SOLD inventory
  type, as they are for bookkeeping purposes.
- 'Make sure that authorization is set up with the following OAuth scope: READ:PRODUCT'
- The Pusher API sends events in a POST request to the HTTPS endpoint.
- If the destination URL doesn't return a valid HTTP response within 10 seconds, the
  request times out.
- The payload field contains event information to the HTTPS endpoint in real time.
- Make sure that you have set up an HTTPS endpoint as the destination URL on your
  server for receiving event notifications.
- Webhook requests time out 10 seconds after the Pusher API sends the events to the
  destination URL on your server.
- Fetch purchase history at regular intervals during low-peak traffic hours.
- Retrieve gift card UUIDs from the stored purchase history.
- Authorisation setup with a valid authorisation token and the access scope `READ:PURCHASE`.
- All images have to be uploaded or imported into Zettle first through the Image API.
- Image URLs must be accessible by Zettle (servers).
- To test your integration with the Zettle SDK, you need to order a card reader.
- No sandbox environment is available.
- Some resources might have rate limiting enabled.
errors:
- '400: Required parameter is missing or in a wrong format'
- '401: Authentication information is missing or invalid'
- '403: Incorrect scope in the request'
- '400: Returns when a required parameter is missing or in a wrong format in the request.'
- '401: Returns when one of the following occurs: The authentication information is
  missing in the request. The authentication token has expired. The authentication
  token is invalid.'
- '403: Returns when the scope being used in the request is incorrect.'
- '429: Rate limit exceeded'
- 'code : -400: Invalid amount'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'invalid_grant: API key is invalid or revoked by the merchant'
- '400 Bad Request: Returned when a parameter in the request has an invalid value.'
- 'Status: 200 OK'
- 'Status: 200 OK: A successful request.'
- '401 Unauthorized: You were not authorized to execute this operation.'
- '404 Not found: Purchase with given UUID not found.'
- '429 Too Many Requests: You hit the rate limit. Retry request later.'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 204 - No Content
- HTTP 400 DESTINATION_NOT_ACCESSIBLE
- HTTP 500 DESTINATION_RESPONDED_WITH_ERROR_CODE
- 204 No Content
- 401 Unauthorized
- 404 Not Found
- 500 Internal Server Error
- 404 Giftcard not found
- '422: Returned when the image is too big or too small'
- '422: The image URL format or protocol is not HTTPS.'
- '422: The image is too big or too small.'
- '422: The image at the URL doesn''t match the image format.'
- '404: Returned when the product image is not found.'
- '422: Returned when the image lookup key is invalid.'
- 'HTTP 100 Continue: Investigate request headers or traverse headers to find intended
  response code.'
auth_info:
  mentioned_objects:
  - READ:PRODUCT
client:
  base_url: https://oauth.zettle.com
  auth:
    type: oauth2
    flow: authorization_code
    location: header
    header_name: Authorization
source_metadata: null
