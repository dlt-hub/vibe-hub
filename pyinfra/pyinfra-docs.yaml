resources:
- name: inventory
  endpoint:
    path: /api/inventory
    method: GET
    data_selector: data
    params: {}
- name: state
  endpoint:
    path: /api/state
    method: GET
    data_selector: data
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
    params:
      incremental: updated_at
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
- name: hosts
  endpoint:
    path: /inventory/hosts
    method: GET
    data_selector: data
    params: {}
- name: groups
  endpoint:
    path: /inventory/groups
    method: GET
    data_selector: data
    params: {}
- name: apk_operations
  endpoint:
    path: /operations/apk.html
    method: GET
- name: apt_operations
  endpoint:
    path: /operations/apt.html
    method: GET
- name: brew_operations
  endpoint:
    path: /operations/brew.html
    method: GET
- name: dnf_operations
  endpoint:
    path: /operations/dnf.html
    method: GET
- name: yum_operations
  endpoint:
    path: /operations/yum.html
    method: GET
- name: postgresql_operations
  endpoint:
    path: /operations/postgresql.html
    method: GET
- name: mysql_operations
  endpoint:
    path: /operations/mysql.html
    method: GET
- name: apk_operations
  endpoint:
    path: /operations/apk.html
    method: GET
- name: apt_operations
  endpoint:
    path: /operations/apt.html
    method: GET
- name: brew_operations
  endpoint:
    path: /operations/brew.html
    method: GET
- name: dnf_operations
  endpoint:
    path: /operations/dnf.html
    method: GET
- name: docker_operations
  endpoint:
    path: /operations/docker.html
    method: GET
- name: files_operations
  endpoint:
    path: /operations/files.html
    method: GET
- name: mysql_operations
  endpoint:
    path: /operations/mysql.html
    method: GET
- name: npm_operations
  endpoint:
    path: /operations/npm.html
    method: GET
- name: opkg_operations
  endpoint:
    path: /operations/opkg.html
    method: GET
- name: pip_operations
  endpoint:
    path: /operations/pip.html
    method: GET
- name: postgres_operations
  endpoint:
    path: /operations/postgres.html
    method: GET
- name: server_operations
  endpoint:
    path: /operations/server.html
    method: GET
- name: server
  endpoint:
    path: fact/server
    method: GET
    data_selector: records
    params: {}
- name: deb
  endpoint:
    path: fact/deb
    method: GET
    data_selector: records
    params: {}
- name: ssh
  endpoint:
    path: /connectors/ssh.html
    method: GET
- name: docker
  endpoint:
    path: /connectors/docker.html
    method: GET
- name: terraform
  endpoint:
    path: /connectors/terraform.html
    method: GET
- name: local
  endpoint:
    path: /connectors/local.html
    method: GET
- name: podman
  endpoint:
    path: /connectors/podman.html
    method: GET
- name: dockerssh
  endpoint:
    path: /connectors/dockerssh.html
    method: GET
- name: vagrant
  endpoint:
    path: /connectors/vagrant.html
    method: GET
- name: install_mariadb
  endpoint:
    path: /packaged_deploy/install_mariadb
    method: GET
    data_selector: records
    params: {}
- name: file
  endpoint:
    path: /operations/file
    method: GET
    data_selector: commands
    params: {}
- name: swap_enabled
  endpoint:
    path: /facts/swap_enabled
    method: GET
    data_selector: output
- name: find_files
  endpoint:
    path: /facts/find_files
    method: GET
    data_selector: output
- name: raw_command_output
  endpoint:
    path: /facts/raw_command_output
    method: GET
    data_selector: output
- name: inventory
  endpoint:
    path: /api/inventory
    method: GET
    data_selector: inventory
    params: {}
- name: config
  endpoint:
    path: /api/config
    method: GET
    data_selector: config
    params: {}
- name: state
  endpoint:
    path: /api/state
    method: GET
    data_selector: state
    params: {}
- name: FileDownloadCommand
  endpoint:
    path: /api/command/FileDownloadCommand
    method: GET
- name: FileUploadCommand
  endpoint:
    path: /api/command/FileUploadCommand
    method: GET
- name: FunctionCommand
  endpoint:
    path: /api/command/FunctionCommand
    method: GET
- name: MaskString
  endpoint:
    path: /api/command/MaskString
    method: GET
- name: PyinfraCommand
  endpoint:
    path: /api/command/PyinfraCommand
    method: GET
- name: QuoteString
  endpoint:
    path: /api/command/QuoteString
    method: GET
- name: RsyncCommand
  endpoint:
    path: /api/command/RsyncCommand
    method: GET
- name: StringCommand
  endpoint:
    path: /api/command/StringCommand
    method: GET
- name: connect_all
  endpoint:
    path: /connect_all
    method: POST
- name: disconnect_all
  endpoint:
    path: /disconnect_all
    method: POST
- name: ArgumentTypeError
  endpoint:
    path: /pyinfra/api/exceptions/ArgumentTypeError
    method: GET
- name: ConnectError
  endpoint:
    path: /pyinfra/api/exceptions/ConnectError
    method: GET
- name: ConnectorDataTypeError
  endpoint:
    path: /pyinfra/api/exceptions/ConnectorDataTypeError
    method: GET
- name: DeployError
  endpoint:
    path: /pyinfra/api/exceptions/DeployError
    method: GET
- name: FactError
  endpoint:
    path: /pyinfra/api/exceptions/FactError
    method: GET
- name: FactTypeError
  endpoint:
    path: /pyinfra/api/exceptions/FactTypeError
    method: GET
- name: FactValueError
  endpoint:
    path: /pyinfra/api/exceptions/FactValueError
    method: GET
- name: InventoryError
  endpoint:
    path: /pyinfra/api/exceptions/InventoryError
    method: GET
- name: NoConnectorError
  endpoint:
    path: /pyinfra/api/exceptions/NoConnectorError
    method: GET
- name: NoGroupError
  endpoint:
    path: /pyinfra/api/exceptions/NoGroupError
    method: GET
- name: NoHostError
  endpoint:
    path: /pyinfra/api/exceptions/NoHostError
    method: GET
- name: OperationError
  endpoint:
    path: /pyinfra/api/exceptions/OperationError
    method: GET
- name: OperationTypeError
  endpoint:
    path: /pyinfra/api/exceptions/OperationTypeError
    method: GET
- name: OperationValueError
  endpoint:
    path: /pyinfra/api/exceptions/OperationValueError
    method: GET
- name: PyinfraError
  endpoint:
    path: /pyinfra/api/exceptions/PyinfraError
    method: GET
- name: FactBase
  endpoint:
    path: /api/facts/FactBase
    method: GET
    data_selector: facts
    params: {}
- name: ShortFactBase
  endpoint:
    path: /api/facts/ShortFactBase
    method: GET
    data_selector: short_facts
    params: {}
- name: Host
  endpoint:
    path: /api/host
    method: GET
    data_selector: host_data
- name: HostData
  endpoint:
    path: /api/host_data
    method: GET
    data_selector: data
- name: Inventory
  endpoint:
    path: /api/inventory
    method: GET
    data_selector: data
    params: {}
- name: run_host_op
  endpoint:
    path: /api/operations/run_host_op
    method: POST
    data_selector: result
    params: {}
- name: run_ops
  endpoint:
    path: /api/operations/run_ops
    method: POST
    data_selector: result
    params: {}
- name: include
  endpoint:
    path: /pyinfra.local/include
    method: GET
    data_selector: records
    params: {}
- name: shell
  endpoint:
    path: /pyinfra.local/shell
    method: GET
    data_selector: records
    params: {}
notes:
- The API allows for creating an inventory and state for operations.
- Examples can be found in pyinfra’s own main.py.
- Uses OAuth2 with refresh token — requires setup of connected app in api
- Some objects like Contact may return nulls in deeply nested fields
- State definition operations will not make changes unless required by diff-ing the
  target state against the state of the operation.
- 'Caution: When combining privilege escalation arguments it is important to know
  the order they are applied: doas -> sudo -> su.'
- Retry only on temporary network errors, not permanent failures
- Facts are read-only and are populated at the beginning of the deploy.
- Only use immutable facts in deploy code (installed OS, Arch, etc) unless you are
  absolutely sure they will not change.
- As of v3 this API can be considered mostly stable
- pyinfra works on anywhere that runs Python - Mac, Linux & Windows are all supported.
- The default/base configuration options for a pyinfra deploy.
- The facts API enables pyinfra to collect remote server state.
- No authentication required
errors:
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- 'ArgumentTypeError: Raised when global arguments are passed with invalid types.'
- 'ConnectError: Exception raised when connecting fails.'
- 'ConnectorDataTypeError: Raised when host connector data has invalid types.'
- 'DeployError: User exception for raising in deploys or sub deploys.'
- 'FactError: Exception raised during fact gathering staging if a fact is unable to
  generate output/change state.'
- 'FactTypeError: Exception raised when a fact is passed invalid argument types.'
- 'FactValueError: Exception raised when a fact is passed invalid argument values.'
- 'InventoryError: Exception raised for inventory related errors.'
- 'NoConnectorError: Raised when a requested connector is missing.'
- 'NoGroupError: Raised when an inventory is missing a group.'
- 'NoHostError: Raised when an inventory is missing a host.'
- 'OperationError: Exception raised during fact gathering staging if an operation
  is unable to generate output/change state.'
- 'OperationTypeError: Exception raised when an operation is passed invalid argument
  types.'
- 'OperationValueError: Exception raised when an operation is passed invalid argument
  values.'
- 'PyinfraError: Generic pyinfra exception.'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: https://pyinfra.com
  headers:
    Accept: application/json
source_metadata: null
