resources:
- name: channel
  endpoint:
    path: /channels
    method: POST
    data_selector: record
    params: {}
- name: SMS
  endpoint:
    path: /api/sms
    method: POST
    data_selector: messages
    params: {}
- name: sms
  endpoint:
    path: /sms
    method: POST
    data_selector: messages
    params: {}
- name: TextMagic Webhook
  endpoint:
    path: /settings
    method: POST
    data_selector: data
    params: {}
- name: connect_facebook_messenger
  endpoint:
    path: /connect/facebook_messenger
    method: POST
- name: welcome_messages
  endpoint:
    path: /api/welcome_messages
    method: POST
    data_selector: messages
    params: {}
- name: out_of_office_messages
  endpoint:
    path: /api/out_of_office_messages
    method: POST
    data_selector: messages
    params: {}
- name: send_sms
  endpoint:
    path: /api/v1/sms/messages
    method: POST
    data_selector: message_id
    params: {}
- name: get_sent_message_status
  endpoint:
    path: /api/v1/sms/messages/:id
    method: GET
    data_selector: message_id
    params: {}
- name: octopods_channel
  endpoint:
    path: /custom_data_attributes/octopods_channel
    method: GET
    data_selector: channel_values
- name: octopods_channel_identifier
  endpoint:
    path: /custom_data_attributes/octopods_channel_identifier
    method: GET
    data_selector: identifier_values
- name: interactive_messages
  endpoint:
    path: /send_interactive_message
    method: POST
    data_selector: message
    params: {}
- name: send_interactive_message
  endpoint:
    path: /telegram/interactive
    method: POST
    data_selector: null
    params: {}
- name: WhatsApp
  endpoint:
    path: /api.whatsapp.com/send/?phone={phone_number}
    method: GET
    data_selector: button
    params: {}
- name: Facebook Messenger
  endpoint:
    path: /m.me/{fb_page_username}
    method: GET
    data_selector: button
    params: {}
- name: Telegram
  endpoint:
    path: /t.me/{YourBotName}
    method: GET
    data_selector: button
    params: {}
- name: telegram_interactive
  endpoint:
    path: /api/v1/telegram/interactive
    method: POST
- name: whatsapp_interactive
  endpoint:
    path: /api/v1/whatsapp/interactive
    method: POST
- name: interactive_messages
  endpoint:
    path: /v1/messages/interactive
    method: POST
    data_selector: data
- name: send_interactive_message
  endpoint:
    path: /whatsapp/interactive
    method: POST
    data_selector: null
    params: {}
- name: message_templates
  endpoint:
    path: /v1/message_templates
    method: GET
    data_selector: templates
- name: retrieve_message_templates
  endpoint:
    path: /whatsapp/templates
    method: GET
- name: send_message_template
  endpoint:
    path: /whatsapp/templates/:TEMPLATE_ID/messages
    method: POST
- name: get_sent_message_status
  endpoint:
    path: /whatsapp/messages/:id
    method: GET
- name: get_list_of_sent_messages
  endpoint:
    path: /whatsapp/messages
    method: GET
- name: templates
  endpoint:
    path: /whatsapp/templates/TEMPLATE_ID/messages
    method: POST
    data_selector: ''
    params: {}
- name: sms
  endpoint:
    path: /2010-04-01/Accounts/{{account_sid}}/Messages.json
    method: POST
    data_selector: messages
    params: {}
- name: whatsapp_template
  endpoint:
    path: /v1/whatsapp/templates/:TEMPLATE_ID/messages
    method: POST
- name: sms_message
  endpoint:
    path: /v1/sms/messages
    method: POST
- name: custom_bot
  endpoint:
    path: /providers/intercom/custom_bot
    method: POST
    data_selector: conversation_attributes
    params: {}
- name: message_template
  endpoint:
    path: /v1/message_templates
    method: POST
    data_selector: templates
    params: {}
- name: retrieve_message_templates
  endpoint:
    path: /whatsapp/templates
    method: GET
    data_selector: templates
- name: send_message_template
  endpoint:
    path: /whatsapp/templates/:TEMPLATE_ID/messages
    method: POST
    data_selector: message_id
- name: get_message_status
  endpoint:
    path: /whatsapp/messages/:id
    method: GET
    data_selector: message_status
- name: get_sent_messages
  endpoint:
    path: /whatsapp/messages
    method: GET
    data_selector: messages
notes:
- Once the 24-hour customer service window has expired, Message Templates are the
  only way you'll be able to reestablish contact with your customer.
- You’ll need to buy a Twilio phone number which supports SMS.
- You must have a phone number in MessageBird.
- Callback format must be set to JSON
- Webhook URL is needed for incoming messages
- You must also fill up their online application form to create a new Short Code
- Copy your Short Code and paste it into the Shortcode field on the Octopods Africa's
  Talking setup page
- Ensure that you are subscribed to the Octopods WhatsApp plan.
- Business Verification is required to scale business-initiated conversations.
- You’ll need to verify your account.
- Your WeChat Official Account must be verified before you continue.
- You’ll get an access token from BotFather (Telegram's quirky name for their bot
  creation tool). This access token is all you need on the Telegram side.
- You must enable Business Messaging on your Instagram Account through Instagram mobile
  app.
- You can only connect your Business Messenger, not your Personal Page.
- Make sure that you don't have any active bot integrations in your Business Integrations.
- Create a new Community access token with the following permissions
- Make sure your Octopods Omnichannel plan is upgraded to the necessary number of
  channels.
- Octopods can only join public channels. Make sure to invite Octopods if the channel
  is private.
- CDAs are tied to a user or lead, not to individual conversations.
- Please reach out to us to whitelist this feature for your channel first.
- Number of buttons is unlimited and you can add any of your active channels to your
  Intercom Messenger.
- This feature is currently in beta, reach out to us through the bubble down right
  to enable it for you.
- Currently, we are still supporting the manual sync from Workflows to Octopods using
  Intercom Data Connectors.
- After the 24-hour period is over, you can only use Message Templates to contact
  your customer.
- If they respond, a new 24-hour window will open, and you will once again be able
  to send Session Messages.
- Uses OAuth2 with refresh token — requires setup of connected app in api
- WhatsApp Interactive messages can only be used within the WhatsApp 24-hr period
  after a customer messages your business.
- API Key must be retrieved from the Octopods App and channel must be whitelisted.
- All media in the header (images, videos, or documents) are added to every template
  right before sending it to a customer.
- The template review process can take as little as 1 hour, or as long as a few days,
  depending on the complexity of the template.
- Message templates are limited to 1024 characters.
- Parameters are defined using curly brackets and a number in between them.
- You must obtain and keep a record of your user's consent before sending them a WhatsApp
  message for the first time.
- People can block or report businesses and our systems will rate limit businesses
  if the business’ quality is low for a sustained period of time.
- Rate limit is 330 requests per minute with a cooldown of 5 minutes after exceeding
  the limit.
- Phone numbers must be in E164 format.
- You should always send the very first message in a conversation with your customer.
- If you send 5 consecutive messages in a row without an end user message in between,
  this will lock the composer as well. Your customer's reply will unlock the composer.
- Must obtain user opt-in before sending templates to users.
- Ensure the Twilio account is properly configured to send SMS.
- Dynamic data can be used to customize the SMS message content.
- Make sure to replace the template ID in the URL for WhatsApp.
- Use Intercom attributes to populate Webhook body fields for SMS and WhatsApp.
- Get your Octopods Key from account settings
- Telegram Group Chats are meant to be used in a straight forward manner, not with
  complex rules, conditions or automations.
- Two-Factor Verification must be disabled for the number.
- You need either Sales Hub (Professional or Enterprise), or Service Hub (Professional
  or Enterprise).
- Make sure you have admin permissions to install the app for the account chosen!
- 'You''ll see the following: Press OK, and we will redirect you back to Octopods
  dashboard.'
- You’ll get an access token from BotFather. This access token is all you need on
  the Telegram side.
- The integration between your Slack Account & HubSpot is complete.
- You’ll need to create a Twilio account and buy a Twilio phone number which supports
  SMS
- You are given 24 hours to respond to customer messages
- After 24 hours, only Message Templates can be used to contact customers
errors:
- '401 Unauthorized: Check your Access Key and Signing Key'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- '429 Too Many Requests: Rate limit exceeded.'
- '21211: The ''To'' number is invalid.'
- '21610: The ''From'' number is not a valid Twilio number.'
- '429 Too Many Requests: Rate limit exceeded'
auth_info:
  mentioned_objects: []
client:
  base_url: https://app.octopods.io
  auth:
    type: oauth2
    flow: refresh_token
    token_url: https://login.api.com/services/oauth2/token
    client_id: '{{ dlt.secrets[''api_client_id''] }}'
    client_secret: '{{ dlt.secrets[''api_client_secret''] }}'
    refresh_token: '{{ dlt.secrets[''api_refresh_token''] }}'
    location: header
    header_name: Authorization
  headers:
    Accept: application/json
source_metadata: null
