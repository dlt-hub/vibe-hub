resources:
- name: IPN Events
  endpoint:
    path: /ipn/events
    method: POST
    data_selector: events
- name: Order Events
  endpoint:
    path: /order/events
    method: POST
    data_selector: events
- name: coupon
  endpoint:
    path: /coupons
    method: GET
    data_selector: coupons
- name: e_ticket
  endpoint:
    path: /e_tickets
    method: GET
    data_selector: e_tickets
- name: newsletter_subscription
  endpoint:
    path: /newsletter
    method: GET
    data_selector: subscriptions
- name: ipn_connection
  endpoint:
    path: /ipn
    method: GET
    data_selector: ipn
- name: affiliation_event
  endpoint:
    path: /affiliation_event
    method: GET
    data_selector: events
- name: test_event
  endpoint:
    path: /test_event
    method: GET
    data_selector: test_events
- name: createBillingOnDemand
  endpoint:
    path: /api/createBillingOnDemand
    method: POST
    data_selector: created_purchase_id
    params:
      purchase_id: The reference order from step 2.
      product_id: '123'
      payment_plan[first_amount]: '50'
      payment_plan[other_amounts]: '0'
      payment_plan[currency]: USD
      tracking[custom]: your-apps-payment-reference
notes:
- API keys which are being used with the Javascript API can be reviewed easily. Please
  use only developer keys with the Javascript API.
- IPN events are sent for each transaction and for some other conditions.
- Parameters should be copied with attention to possible line breaks.
- Billing on demand is disabled by default for your account.
errors:
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- 'payment_status: completed → payment was successful.'
- 'payment_status: any other value → payment failed.'
auth_info:
  mentioned_objects: []
client:
  base_url: https://www.digistore24.com/api/call
  auth:
    type: apikey
    location: header
    header_name: X-DS-API-KEY
  headers:
    Accept: application/json
source_metadata: null
