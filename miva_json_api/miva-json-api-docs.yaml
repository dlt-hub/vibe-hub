resources:
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
- name: products
  endpoint:
    path: /api/products
    method: GET
    data_selector: data
    params: {}
- name: orders
  endpoint:
    path: /api/orders
    method: GET
    data_selector: data
    params: {}
- name: campaign_member
  endpoint:
    path: /services/data/vXX.X/sobjects/CampaignMember
    method: GET
    data_selector: records
- name: contact
  endpoint:
    path: /services/data/vXX.X/sobjects/Contact
    method: GET
    data_selector: records
- name: batch_edit_list
  endpoint:
    path: /admin/batch/edit
    method: GET
    data_selector: data
    params: {}
- name: gettoken
  endpoint:
    path: /developer/developer-training/miva-engine-functions/#gettoken
    method: GET
    data_selector: records
- name: glosub
  endpoint:
    path: /developer/developer-training/miva-engine-functions/#glosub
    method: GET
    data_selector: records
- name: substring
  endpoint:
    path: /developer/developer-training/miva-engine-functions/#substring
    method: GET
    data_selector: records
- name: pages
  endpoint:
    path: /pages
    method: GET
    data_selector: records
- name: items
  endpoint:
    path: /items
    method: GET
    data_selector: records
- name: Tokenlist
  endpoint:
    path: /developer/developer-training/working-with-tokenlist/
    method: GET
- name: settings
  endpoint:
    path: /settings
    method: GET
- name: images
  endpoint:
    path: /images
    method: GET
- name: banners
  endpoint:
    path: /banners
    method: GET
- name: content_sections
  endpoint:
    path: /content_sections
    method: GET
- name: product_listings
  endpoint:
    path: /product_listings
    method: GET
- name: navigation_sets
  endpoint:
    path: /navigation_sets
    method: GET
- name: orders
  endpoint:
    path: /OrderList_Load_Query
    method: POST
    data_selector: orders
    params:
      Miva_Request_Timestamp: '1535646272'
      Store_Code: '{{Store_Code}}'
      Function: OrderList_Load_Query
      Count: 0
      Offset: 0
- name: list_load_query
  endpoint:
    path: /list_load_query
    method: GET
    data_selector: data
    params:
      Count: 0
      Offset: 0
- name: Attribute_Delete
  endpoint:
    path: /developer/developer-resources/json-api/functions/attribute_delete/
    method: GET
- name: Attribute_Insert
  endpoint:
    path: /developer/developer-resources/json-api/functions/attribute_insert/
    method: GET
- name: Attribute_Update
  endpoint:
    path: /developer/developer-resources/json-api/functions/attribute_update/
    method: GET
- name: BusinessAccount_Insert
  endpoint:
    path: /developer/developer-resources/json-api/functions/businessaccount_insert/
    method: GET
- name: BusinessAccount_Update
  endpoint:
    path: /developer/developer-resources/json-api/functions/businessaccount_update/
    method: GET
- name: Category_Insert
  endpoint:
    path: /developer/developer-resources/json-api/functions/category_insert/
    method: GET
- name: Category_Update
  endpoint:
    path: /developer/developer-resources/json-api/functions/category_update/
    method: GET
- name: Coupons
  endpoint:
    path: /coupons
    method: GET
    data_selector: records
    params: {}
- name: Customers
  endpoint:
    path: /customers
    method: GET
    data_selector: records
    params: {}
- name: Notes
  endpoint:
    path: /notes
    method: GET
    data_selector: records
    params: {}
- name: Orders
  endpoint:
    path: /orders
    method: GET
    data_selector: records
    params: {}
- name: Shipments
  endpoint:
    path: /shipments
    method: GET
    data_selector: records
    params: {}
- name: Subscriptions
  endpoint:
    path: /subscriptions
    method: GET
    data_selector: records
    params: {}
- name: Payments
  endpoint:
    path: /payments
    method: GET
    data_selector: records
    params: {}
- name: Products
  endpoint:
    path: /products
    method: GET
    data_selector: records
    params: {}
- name: Module
  endpoint:
    path: /modules
    method: POST
    data_selector: response
    params: {}
- name: attribute_delete
  endpoint:
    path: /attribute/delete
    method: POST
- name: attribute_insert
  endpoint:
    path: /attribute/insert
    method: POST
- name: attribute_update
  endpoint:
    path: /attribute/update
    method: POST
- name: OrderList
  endpoint:
    path: /orderlist/load/query
    method: GET
    data_selector: records
    params: {}
- name: CustomerAddress
  endpoint:
    path: /customeraddress/load/query
    method: GET
    data_selector: records
    params: {}
- name: attribute_delete
  endpoint:
    path: /api/attribute/delete
    method: DELETE
    data_selector: data
    params: {}
- name: attribute_insert
  endpoint:
    path: /api/attribute/insert
    method: POST
    data_selector: data
    params: {}
- name: ProductVariant_Insert
  endpoint:
    path: /productvariant_insert
    method: GET
- name: ProductVariantPricing_Update
  endpoint:
    path: /productvariantpricing_update
    method: GET
- name: ProductShippingRules_Update
  endpoint:
    path: /productshippingrules_update
    method: GET
- name: OrderList_Archive
  endpoint:
    path: /orderlist_archive
    method: GET
- name: Runtime_InitiateCheckout
  endpoint:
    path: /runtime_initiatecheckout
    method: GET
- name: Runtime_UpdateBilling
  endpoint:
    path: /runtime_updatebilling
    method: GET
- name: Runtime_UpdateShipping
  endpoint:
    path: /runtime_updateshipping
    method: GET
- name: Runtime_ValidateAddress
  endpoint:
    path: /runtime_validateaddress
    method: GET
- name: Quote_Convert
  endpoint:
    path: /quote_convert
    method: GET
- name: Quote_Copy
  endpoint:
    path: /quote_copy
    method: GET
- name: Quote_Delete
  endpoint:
    path: /quote_delete
    method: GET
- name: Quote_Update_Customer_Id
  endpoint:
    path: /quote_update_customer_id
    method: GET
- name: QuoteIndex_Load_Id
  endpoint:
    path: /quoteindex_load_id
    method: GET
- name: QuoteItem_Add
  endpoint:
    path: /quoteitem_add
    method: GET
- name: QuoteItem_Update
  endpoint:
    path: /quoteitem_update
    method: GET
- name: QuoteItemList_Delete
  endpoint:
    path: /quoteitemlist_delete
    method: GET
- name: QuoteItemList_Load
  endpoint:
    path: /quoteitemlist_load
    method: GET
- name: QuoteList_Load_Query
  endpoint:
    path: /quotelist_load_query
    method: GET
- name: QuoteNote_Insert
  endpoint:
    path: /quotenote_insert
    method: GET
- name: QuoteNote_Update
  endpoint:
    path: /quotenote_update
    method: GET
- name: QuoteNote_Update_Public
  endpoint:
    path: /quotenote_update_public
    method: GET
- name: QuoteNoteList_Delete
  endpoint:
    path: /quotenotelist_delete
    method: GET
- name: QuoteNoteList_Load_Query
  endpoint:
    path: /quotenotelist_load_query
    method: GET
- name: Quote_Create_Empty
  endpoint:
    path: /quote_create_empty
    method: GET
- name: Quote_Load_Id
  endpoint:
    path: /quote_load_id
    method: GET
- name: Quote_Send
  endpoint:
    path: /quote_send
    method: GET
- name: Quote_Update_Expiry
  endpoint:
    path: /quote_update_expiry
    method: GET
- name: Quote_Update_Requester_Information
  endpoint:
    path: /quote_update_requester_information
    method: GET
- name: QuoteCustomFieldandValueList_Load_Quote
  endpoint:
    path: /quotecustomfieldandvaluelist_load_quote
    method: GET
- name: QuoteCustomFieldValues_Update_Quote
  endpoint:
    path: /quotecustomfieldvalues_update_quote
    method: GET
- name: basket_item_update
  endpoint:
    path: /runtime
    method: POST
    data_selector: response
    params:
      Line_ID: line_id
      Quantity: data.quantity
      Subscription_Term_ID: data.subterm_id
      Attributes: data.attributes
- name: basket_group_update
  endpoint:
    path: /runtime
    method: POST
    data_selector: response
    params:
      Group_ID: group_id
      Quantity: data.quantity
      Subscription_Term_ID: data.subterm_id
      Attributes: data.attributes
- name: basket_item_delete
  endpoint:
    path: /runtime
    method: POST
    data_selector: response
    params:
      Line_ID: line_id
- name: basket_group_delete
  endpoint:
    path: /runtime
    method: POST
    data_selector: response
    params:
      Group_ID: group_id
- name: shipping_method_list_load
  endpoint:
    path: /runtime
    method: POST
    data_selector: response
    params: {}
- name: payment_method_list_load
  endpoint:
    path: /runtime
    method: POST
    data_selector: response
    params: {}
- name: calculate_charges
  endpoint:
    path: /runtime
    method: POST
    data_selector: response
    params:
      ShippingMethod: shipping_method
      PaymentMethod: payment_method
- name: mini_basket
  endpoint:
    path: /shirt.html
    method: GET
    data_selector: data.global_minibasket
- name: category_listing
  endpoint:
    path: /sale.html
    method: GET
    data_selector: data.category_listing
- name: product_display
  endpoint:
    path: /pants.html
    method: GET
    data_selector: data.product_display
- name: custom_json_output
  endpoint:
    path: /api.html
    method: GET
    data_selector: data.content
- name: order_queues
  endpoint:
    path: /order/queues
    method: GET
    data_selector: queues
- name: order_workflows
  endpoint:
    path: /order/workflows
    method: GET
    data_selector: workflows
- name: provision
  endpoint:
    path: /xml/provision
    method: POST
    data_selector: Provision
    params: {}
- name: Mastering MMT Command Line Tool
  endpoint:
    path: /developer/additional-resources/masterclass-series/mastering-mmt/
    method: GET
- name: Flex Components Demystified
  endpoint:
    path: /developer/additional-resources/masterclass-series/flex-components-demystified/
    method: GET
- name: Writing Optimized Code for Miva
  endpoint:
    path: /developer/additional-resources/masterclass-series/optimized-miva-code/
    method: GET
notes:
- Some stores use an alternate folder name other than /mm5 such as Merchant2 or /store/
- HMAC signature is optional but strongly recommended to prevent man in the middle
  attacks on API requests.
- Timestamp is optional but highly recommended for security to prevent replay attacks.
- Uses OAuth2 with refresh token — requires setup of connected app in api
- Some objects like Contact may return nulls in deeply nested fields
- Requires setup of connected app in Miva.
- May have limitations on data retrieval frequency.
- Dive into the core of Miva development as we cover a wide range of topics, from
  understanding the Miva Merchant Architecture to mastering the intricacies of the
  Miva Template Language.
- This documentation is designed to assist developers in harnessing the full potential
  of Miva’s suite of developer tools.
- CSV exporting for almost any data set is available.
- Miva Empressa’s built-in functions provide powerful tools for manipulating strings,
  files, and data.
- Miva Merchant automatically parses parameters appended to URLs.
- Form inputs are automatically parsed and assigned as global variables.
- Security is paramount in ecommerce environments.
- The API protects sensitive data and mitigates risks associated with unauthorized
  access.
- Webhook will send the entire order object in JSON format
- Orders are not guaranteed to be sequential
- Anytime you want to pull a list of data from the API including Orders, Customers,
  Products, Categories, etc you will be using a List Load Query Function.
- The default timeout for a single Miva request is 60 seconds.
- To use the Miva JSON API you must be using Miva 9.12.00 or greater as well as the
  5.32 engine or greater.
- Requires setup of connected app in Miva
- Uses OAuth2 with refresh token — requires setup of connected app in Miva
- Output of runtime.js is controlled by a new component module.
- By default, it is assigned to the BASK, OCST, OUS1, OUSM, OPAY pages.
- Allows fetching only part of the page as HTML or JSON.
- X-Partial-Render header specifies which part of the page to return.
- 'Global Credentials: MMT seamlessly integrates with Miva stores by establishing
  global credentials using either an API Token or SSH credentials configured within
  Miva.'
- For SSH authentication, generate an RSA format SSH key pair using the `ssh-keygen`
  command.
- You can create an unlimited number of order queues.
- Webhooks support http basic authentication.
- Flex Components provide a modular way to build reusable content blocks in Miva’s
  Page Builder.
- Allow editors to reuse the same component in multiple places.
- 'All PRV_Action_Provision_Store requests must contain two top-level container nodes:
  <Provision> and <Store code="STORE_CODE">.'
- Integration is the key to unlocking new avenues of efficiency, scalability, and
  innovation.
- Miva offers a diverse ecosystem of integrations to meet your business needs.
errors:
- 'access_denied: Access denied'
- 'Invalid request signature: Invalid request signature'
- 'access_denied: Missing required timestamp'
- 'access_denied: Timestamp outside configured window'
- 'access_denied: Invalid request content type'
- 'access_denied: Invalid request method'
- 'access_denied: Token does not require timestamp'
- 'access_denied: Token does not require signature'
- 'access_denied: Function not assigned to token'
- 'access_denied: API token is disabled'
- 'REQUEST_LIMIT_EXCEEDED: Throttle API calls or reduce frequency'
- 'QUERY_TIMEOUT: Break down filters or add selectivity'
- '401 Unauthorized: Recheck OAuth scopes or token expiration'
- '429 Too Many Requests: Reduce the number of API calls.'
- '401 Unauthorized: Verify OAuth configuration.'
auth_info:
  mentioned_objects:
  - OauthToken
  - AuthProvider
  - NamedCredential
client:
  base_url: https://api.miva.com
  auth:
    type: oauth2
    flow: refresh_token
    token_url: https://login.miva.com/oauth/token
    client_id: '{{ dlt.secrets[''miva_client_id''] }}'
    client_secret: '{{ dlt.secrets[''miva_client_secret''] }}'
    refresh_token: '{{ dlt.secrets[''miva_refresh_token''] }}'
    location: header
    header_name: Authorization
  headers:
    Accept: application/json
source_metadata: null
